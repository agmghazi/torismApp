{"version":3,"sources":["./node_modules/@arcgis/core/views/interactive/editGeometry/operations/ScaleVertex.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/RotateVertex.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/SetVertexPosition.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/UndoGroup.js","./node_modules/@arcgis/core/views/interactive/editGeometry/unnormalizationHelper.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/MoveVertex.js","./node_modules/@arcgis/core/views/interactive/snapping/SnappingContext.js","./node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometryOperations.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/CloseComponent.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/UpdateVertices.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/RemoveVertices.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/OffsetEdgeVertex.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/AppendVertex.js","./node_modules/@arcgis/core/views/interactive/snapping/SnappingVisualizer.js","./node_modules/@arcgis/core/views/interactive/editGeometry/EditGeometry.js","./node_modules/@arcgis/core/geometry/support/plane.js","./node_modules/@arcgis/core/views/interactive/editGeometry/operations/SplitEdge.js","./node_modules/@arcgis/core/views/interactive/coordinateHelper.js","./node_modules/@arcgis/core/views/interactive/snapping/hints/PointSnappingHint.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACyJ,QAAQ,yBAAyB,4FAA4F,4DAAC,aAAa,aAAa,yDAAC,uCAAuC,yDAAC,uCAAuC,SAAS,wCAAwC,QAAQ,4CAA4C,iBAAiB,uBAAuB,kEAAC,wBAAwB,kEAAC,qBAAqB,gBAAgB,qHAAqH,oBAAoB,+BAA+B,iGAA0H;;;;;;;;;;;;;ACJ/2B;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACuG,QAAQ,qBAAqB,mDAAmD,YAAY,yDAAC,4BAA4B,SAAS,0BAA0B,QAAQ,2BAA2B,iBAAiB,uBAAuB,kEAAC,uBAAuB,gBAAgB,+BAA+B,4CAA4C,oBAAoB,+BAA+B,yCAAmE;;;;;;;;;;;;;ACJvjB;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC+D,QAAQ,mBAAmB,6CAA6C,QAAQ,QAAQ,6DAAC,wBAAwB,yEAAyE,OAAO,gBAAgB,6DAAC,yDAAyD,+CAA+C,EAAE,cAAc,wFAAwF,UAAU,oIAAoI,0CAA0C,GAAkC;;;;;;;;;;;;;ACJ3rB;AAAA;AAAA;AACA;AACA;AACA;AACA,QAAQ,cAAc,kCAAkC,QAAQ,eAAe,QAAQ,yCAAyC,OAAO,mCAAmC,KAAK,8BAA8B,cAAc,wBAAwB,8EAA8E,mEAA0F;;;;;;;;;;;;;ACJ3Z;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC6E,gBAAgB,uBAAuB,iBAAiB,oCAAoC,eAAe,eAAe,KAAK,gBAAgB,MAAM,KAAK,gBAAgB,MAAM,2CAA2C,GAAG,YAAY,sBAAsB,0BAA0B,GAAG,gBAAgB,QAAQ,0FAAC,IAAI,iBAAiB,2DAA2D,EAAE,gDAAqG;;;;;;;;;;;;;ACJ1jB;AAAA;AAAA;AACA;AACA;AACA;AACA,QAAQ,qBAAqB,4CAA4C,cAAc,kCAAkC,SAAS,qCAAqC,QAAQ,wCAAwC,iBAAiB,sBAAsB,gBAAgB,4BAA4B,oBAAoB,2CAAmE;;;;;;;;;;;;;ACJjY;AAAA;AAAA;AACA;AACA;AACA;AACA,QAAQ,eAAe,uRAAuR,uBAAuB,0DAAuF;;;;;;;;;;;;;ACJ5Z;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACyyB,gBAAgB,wDAAC,CAAC,eAAe,iGAAiG,yCAAyC,iEAAiE,gDAAgD,sEAAsE,gDAAgD,sEAAsE,EAAE,GAAG,UAAU,uBAAuB,eAAe,sBAAsB,kEAAC,iBAAiB,wBAAwB,sBAAsB,4EAAC,mBAAmB,0BAA0B,iCAAiC,oEAAC,sCAAsC,iCAAiC,iCAAiC,uEAAC,eAAe,8BAA8B,iCAAiC,yEAAC,WAAW,kBAAkB,sBAAsB,4EAAC,2CAA2C,gBAAgB,2DAA2D,wEAAC,uCAAuC,uBAAuB,sBAAsB,kFAAC,iBAAiB,sBAAsB,4DAA4D,iFAAC,sCAAsC,kBAAkB,uDAAuD,4EAAC,oBAAoB,kBAAkB,2EAA2E,kBAAkB,YAAY,mEAAC,CAAC,sBAAsB,sBAAsB,OAAO,4BAA4B,6BAA6B,yCAAyC,YAAY,OAAO,4BAA4B,6BAA6B,0CAA0C,YAAY,cAAc,+BAA+B,cAAc,+BAA+B,oBAAoB,4EAA4E,6BAA6B,uBAAuB,qBAAqB,wBAAwB,uBAAuB,kBAAkB,aAAa,eAAe,6DAAC,+GAA+G,yBAAyB,aAAa,6DAAC,qBAAyD;;;;;;;;;;;;;ACJhkG;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACqJ,QAAQ,iBAAiB,2DAA2D,QAAQ,aAAa,GAAG,6DAAC,oBAAoB,UAAU,yEAAyE,gEAAgE,6DAAC,KAAK,6DAAC,WAAW,qBAAqB,qDAAC,qBAAqB,2LAA2L,YAAY,EAAE,OAAO,6DAAC,qBAAqB,kEAAC,+JAA+J,iBAAiB,GAAG,aAAa,UAAsC;;;;;;;;;;;;;ACJn7B;AAAA;AAAA;AACA;AACA;AACA;AACA,QAAQ,mBAAmB,oEAAoE,QAAQ,+JAA+J,mEAAmE,EAAE,OAAO,oFAAoF,+CAA+C,iBAAiB,iBAAiB,kEAAkE,YAAY,oBAAoB,iDAAiD,iDAAiD,cAAc,+QAA+Q,gDAAgD,OAAmC;;;;;;;;;;;;;ACJ3iC;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC6F,QAAQ,qBAAqB,yFAAyF,QAAQ,aAAa,+EAA+E,8BAA8B,6DAAC,kCAAkC,gDAAgD,oCAAoC,oCAAoC,0CAA0C,EAAE,OAAO,kCAAkC,0BAA0B,oCAAoC,6CAA6C,EAAE,aAAa,SAAS,iBAAiB,oBAAoB,2DAA2D,SAAS,iCAAiC,4BAA4B,mTAAmT,qDAAC,0HAA0H,qBAAqB,+EAA+E,+MAA2O;;;;;;;;;;;;;ACJ3mD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACosB,QAAQ,2BAA2B,uEAAuE,yEAAC,qBAAqB,yEAAC,0EAA0E,YAAY,mBAAmB,4BAA4B,sCAAsC,6BAA6B,uCAAuC,oBAAoB,2BAA2B,cAAc,0FAA0F,uBAAuB,YAAY,kRAAkR,oBAAoB,yDAAC,CAAC,4DAAC,6HAA6H,UAAU,OAAO,6DAAC,8BAA8B,wBAAwB,GAAG,6DAAC,WAAW,wBAAwB,4DAAC,uCAAuC,QAAQ,yDAAC,CAAC,4DAAC,oDAAoD,OAAO,0FAA0F,oCAAoC,iBAAiB,yEAAC,OAAO,0BAA0B,iCAAiC,QAAQ,yDAAC,UAAU,yDAAC,CAAC,4DAAC,iBAAiB,yDAAC,OAAO,uDAAuD,QAAQ,yDAAC,CAAC,4DAAC,cAAc,OAAO,yDAAC,MAAM,sBAAsB,QAAQ,yDAAC,CAAC,4DAAC,QAAQ,OAAO,yDAAC,MAAM,mBAAmB,6FAA6F,yDAAC,SAAS,yDAAC,MAAM,wFAAC,0DAA0D,2BAA2B,QAAQ,yDAAC,CAAC,4DAAC,oCAAoC,yDAAC,MAAM,QAAQ,yDAAC,CAAC,4DAAC,0BAA0B,oCAAoC,yDAAC,MAAM,iCAAiC,6DAAC,8EAA8E,iFAAC,8BAA8B,6DAAC,gFAAgF,iFAAC,oFAAoF,6BAA6B,gHAAgH,sCAAsC,QAAQ,yEAAC,4BAA4B,yDAAC,CAAC,4DAAC,4CAA4C,yDAAC,CAAC,4DAAC,mEAAmE,4DAAC,gDAAgD,4DAAC,iCAAiC,4DAAC,iDAAiD,4DAAC,cAAc,uFAAC,EAAE,qBAAqB,EAAE,qBAAqB,EAAE,aAAa,QAAQ,yDAAC,CAAC,4DAAC,QAAQ,yDAAC,MAAM,QAAQ,yDAAC,CAAC,4DAAC,UAAU,yDAAC,QAAQ,yDAAC,CAAC,4DAAC,KAAK,yDAAC,CAAC,4DAAC,+BAA+B,iFAAC,MAAM,kCAAkC,yBAAyB,YAAY,4FAAC,WAAW,4FAAC,QAAQ,aAAa,4IAA4I,uEAAC,wDAAwD,iBAAiB,6DAAC,KAAK,gFAAC,qBAAqB,yDAAC,CAAC,4DAAC,aAAa,4DAAC,GAAG,kMAAkM,yBAAyB,OAAO,iFAAC,6DAA6D,SAAS,8BAA8B,QAAQ,kBAAkB,iBAAiB,6SAA6S,yDAAC,CAAC,yEAAC,cAAc,yEAAC,YAAY,gBAAgB,8CAA8C,kBAAkB,oBAAoB,+BAA+B,+BAA+B,QAAQ,oEAAoE,OAAO,uEAAC,uBAAuB,uEAAC,wMAAwM,yDAAC,CAAC,4DAAC,0BAA0B,sBAAsB,OAAO,6DAAC,KAAK,6DAAC,KAAK,6DAAC,KAAK,6DAAC,KAAK,yDAAC,MAAM,gBAAgB,gDAAgD,EAAE,OAAO,MAAM,yDAAC,CAAC,4DAAC,UAAU,6DAAC,IAAI,yDAAC,CAAC,4DAAC,qBAAqB,yDAAC,CAAC,4DAAC,8BAA8B,QAAQ,kEAAC,KAAmC;;;;;;;;;;;;;ACJl0K;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACqH,QAAQ,mBAAmB,4HAA4H,QAAQ,aAAa,6DAAC,oDAAoD,uDAAC,kBAAkB,uCAAuC,GAAG,6DAAC,0GAA0G,KAAK,WAAW,yOAAyO,6DAAC,4BAA4B,qDAAC,gGAAgG,6DAAC,qBAAqB,6DAAC,MAAM,6DAAC,8BAA8B,qDAAC,+JAA+J,iCAAiC,6CAA6C,EAAE,OAAO,GAAG,6DAAC,+BAA+B,oFAAoF,6DAAC,0HAA0H,6DAAC,6HAA6H,6DAAC,sLAAsL,6DAAC,oLAAoL,oDAAoD,EAAE,aAAa,UAAoC;;;;;;;;;;;;;ACJ3+D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC6Z,QAAQ,UAAU,oCAAoC,8BAA8B,2FAAC,4DAA4D,2EAAC,+CAA+C,mFAAC,uDAAuD,uFAAC,yDAAyD,6EAAC,mCAAmC,OAAO,yEAAC,IAAI,kBAAkB,WAAW,kBAAkB,SAAS,iCAAiC,KAAK,MAAM,aAAa,UAA0C;;;;;;;;;;;;;ACJ35B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC2X,QAAQ,eAAe,2FAA2F,UAAU,iBAAiB,WAAW,yDAAyD,QAAQ,mBAAmB,yGAAyG,QAAQ,iBAAiB,0EAA0E,6BAA6B,yBAAyB,6EAAC,eAAe,wFAAC,0CAA0C,uBAAuB,mCAAmC,yBAAyB,mBAAmB,GAAG,2DAA2D,sBAAsB,0HAA0H,iBAAiB,sDAAsD,gBAAgB,2EAA2E,WAAW,gEAAgE,kBAAkB,yBAAyB,qDAAqD,mBAAmB,mCAAmC,yBAAyB,QAAQ,GAAG,eAAe,6DAAC,2CAA2C,uBAAuB,gBAAgB,wDAAC,CAAC,mBAAmB,oHAAoH,eAAe,eAAe,kBAAkB,0CAA0C,MAAM,gDAAgD,MAAM,8CAA8C,cAAc,sBAAsB,uBAAuB,8CAA8C,iBAAiB,oCAAoC,UAAU,uJAAuJ,aAAa,iDAAiD,wCAAwC,WAAW,6CAA6C,UAAU,GAAG,4DAA4D,gBAAgB,UAAU,OAAO,6DAAC,EAAE,mHAAmH,EAAE,YAAY,iDAAiD,wCAAwC,2BAA2B,QAAQ,UAAU,GAAG,mBAAmB,6DAAC,2CAA2C,gBAAgB,yCAAyC,OAAO,4DAAC,EAAE,mHAAmH,EAAE,yBAAyB,6BAA6B,mFAAC,sCAAsC,eAAe,eAAe,gBAAgB,YAAY,WAAW,KAAK,wCAAwC,kEAAC,6CAA6C,YAAY,IAAI,KAAK,yCAAyC,qCAAqC,4BAA4B,YAAY,IAAI,KAAK,uDAAuD,gBAAgB,MAAM,+DAA+D,gBAAgB,qBAAqB,MAAM,uCAAuC,8BAA8B,YAAY,IAAI,KAAK,yCAAyC,qCAAqC,4BAA4B,YAAY,IAAI,KAAK,uDAAuD,gBAAgB,qBAAqB,MAAM,aAAa,8BAA8B,2EAA2E,OAAO,UAAyE;;;;;;;;;;;;;ACJlsI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC4T,gBAAgB,4BAA4B,oBAAoB,iBAAiB,qDAAC,QAAQ,oBAAoB,gCAAgC,0BAA0B,qCAAqC,kBAAkB,OAAO,yDAAC,eAAe,kBAAkB,qFAAqF,mFAAmF,wBAAwB,yKAAyK,iEAAiE,gBAAgB,oBAAoB,sBAAsB,sBAAsB,cAAc,aAAa,KAAK,gBAAgB,sBAAsB,yDAAC,MAAM,eAAe,yBAAyB,cAAc,mBAAmB,yDAAC,QAAQ,yDAAC,MAAM,yDAAC,QAAQ,yDAAC,SAAS,yDAAC,QAAQ,yDAAC,gBAAgB,yDAAC,SAAS,6DAA6D,uBAAuB,4DAAC,KAAK,4DAAC,KAAK,4DAAC,KAAK,4DAAC,KAAK,4DAAC,GAAG,kBAAkB,2BAA2B,yDAAC,WAAW,gBAAgB,qDAAqD,oBAAoB,OAAO,yDAAC,iBAAiB,oBAAoB,aAAa,yDAAC,CAAC,qDAAC,iBAAiB,kBAAkB,QAAQ,6DAAC,mCAAmC,kBAAkB,kCAAkC,kBAAkB,kCAAkC,gBAAgB,WAAW,2DAAC,aAAa,gBAAgB,WAAW,2DAAC,YAAY,gBAAgB,iBAAiB,gBAAgB,gBAAgB,gBAAgB,gDAAgD,qEAAqE,gBAAgB,QAAQ,yDAAC,4CAA4C,sBAAsB,8BAA8B,oCAAoC,YAAY,wDAAwD,gBAAgB,QAAQ,yDAAC,4CAA4C,8BAA8B,YAAY,wDAAwD,kBAAkB,QAAQ,yDAAC,CAAC,qDAAC,yBAAyB,yDAAC,CAAC,qDAAC,YAAY,qDAAC,QAAQ,OAAO,yDAAC,UAAU,kBAAkB,QAAQ,yDAAC,CAAC,qDAAC,YAAY,yDAAC,UAAU,OAAO,yDAAC,UAAU,gBAAgB,wBAAwB,gBAAgB,OAAO,yDAAC,cAAc,sBAAsB,QAAQ,yDAAC,SAAS,kBAAkB,QAAQ,yDAAC,iBAAiB,eAAe,gEAAC,uCAAuC,yDAAC,KAAK,yDAAC,aAAa,cAAc,SAAS,2BAA0kB;;;;;;;;;;;;;ACJp6G;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACyG,QAAQ,mBAAmB,gGAAgG,QAAQ,aAAa,+DAA+D,qCAAqC,6DAAC,wDAAwD,uDAAC,+MAA+M,6DAAC,4BAA4B,qDAAC,iIAAiI,6DAAC,8BAA8B,qDAAC,4JAA4J,+CAA+C,EAAE,OAAO,GAAG,6DAAC,sBAAsB,6DAAC,aAAa,6DAAC,yBAAyB,4HAA4H,mUAAmU,sDAAsD,EAAE,aAAa,UAAiC;;;;;;;;;;;;;ACJhmD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAC8W,QAAQ,eAAe,wBAAwB,eAAe,gBAAgB,4DAAC,IAAI,iBAAiB,gBAAgB,4DAAC,WAAW,iBAAiB,gBAAgB,4DAAC,aAAa,iBAAiB,kBAAkB,gBAAgB,gBAAgB,sBAAsB,0DAAC,EAAE,0FAA0F,qBAAqB,0DAAC,EAAE,0FAA0F,6BAA6B,iGAAiG,EAAE,8GAA8G,cAAc,OAAO,yDAAC,UAAU,gBAAgB,gBAAgB,cAAc,OAAO,yDAAC,MAAM,UAAU,SAAS,OAAO,SAAS,UAAU,SAAS,OAAO,SAAS,SAAS,gBAAgB,4DAAC,KAAK,UAAU,OAAO,yDAAC,MAAM,WAAW,gBAAgB,4DAAC,aAAa,aAAa,OAAO,4DAAC,cAAc,OAAO,UAAU,QAAQ,iBAAiB,yCAAyC,eAAe,gBAAgB,4DAAC,IAAI,iBAAiB,gBAAgB,4DAAC,sCAAsC,iBAAiB,gBAAgB,4DAAC,qBAAqB,iBAAiB,uBAAuB,gBAAgB,sDAAsD,sBAAsB,0DAAC,EAAE,0IAA0I,qBAAqB,0DAAC,EAAE,0IAA0I,6BAA6B,iGAAiG,EAAE,gDAAgD,0HAA0H,cAAc,OAAO,yDAAC,UAAU,kBAAkB,8CAA8C,cAAc,0BAA0B,yDAAC,MAAM,yDAAC,MAAM,UAAU,iCAAiC,OAAO,0BAA0B,UAAU,iCAAiC,OAAO,0BAA0B,SAAS,gBAAgB,4DAAC,KAAK,UAAU,OAAO,yDAAC,MAAM,mBAAmB,gBAAgB,4DAAC,oDAAoD,aAAa,gBAAgB,4DAAC,uCAAuC,OAAO,UAAU,QAAQ,eAAe,wBAAwB,eAAe,gBAAgB,4DAAC,IAAI,iBAAiB,gBAAgB,4DAAC,mBAAmB,iBAAiB,gBAAgB,4DAAC,6BAA6B,iBAAiB,4BAA4B,gBAAgB,wBAAwB,sBAAsB,0DAAC,EAAE,sFAAsF,qBAAqB,0DAAC,EAAE,sFAAsF,6BAA6B,iGAAiG,EAAE,0GAA0G,cAAc,OAAO,yDAAC,UAAU,kBAAkB,wBAAwB,cAAc,OAAO,yDAAC,MAAM,QAAQ,YAAY,OAAO,SAAS,QAAQ,YAAY,OAAO,SAAS,SAAS,gBAAgB,4DAAC,KAAK,UAAU,OAAO,yDAAC,MAAM,mBAAmB,gBAAgB,4DAAC,iCAAiC,SAAS,OAAO,4DAAC,iBAAiB,OAAO,UAAU,kBAAkB,wDAAoK;;;;;;;;;;;;;ACJpjI;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACmG,gBAAgB,6DAAC,CAAC,eAAe,qBAAqB,UAAU,uBAAuB,qEAAC,sBAAqD","file":"default~views-2d-interactive-editingTools-js~views-3d-interactive-editingTools-js~views-draw-support~57a0ed4a.js","sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{f as s}from\"../../../../chunks/vec2f64.js\";import{q as a}from\"../../../../chunks/vec2.js\";class i{constructor(t,a,i,c,o=0){this.origin=t,this.axis1=a,this.factor1=i,this.factor2=c,this.accumulationType=o,this.axis2=s(a[1],-a[0])}scale(t,s,i){a(t.pos,t.pos,this.origin,this.axis1,s),a(t.pos,t.pos,this.origin,this.axis2,i)}apply(t){this.scale(t,this.factor1,this.factor2)}undo(t){this.scale(t,1/this.factor1,1/this.factor2)}canAccumulate(s){return s instanceof i&&t(this.origin,s.origin)&&t(this.axis1,s.axis1)}accumulate(t,s){1===s.accumulationType?this.scale(t,s.factor1/this.factor1,s.factor2/this.factor2):this.scale(t,s.factor1,s.factor2)}accumulateParams(t){const s=1===t.accumulationType;this.factor1=s?t.factor1:this.factor1*t.factor1,this.factor2=s?t.factor2:this.factor2*t.factor2}}export{i as ScaleVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{equals as t}from\"../../../../core/arrayUtils.js\";import{r as a}from\"../../../../chunks/vec2.js\";class i{constructor(t,a,i=0){this.origin=t,this.angle=a,this.accumulationType=i}rotate(t,i){a(t.pos,t.pos,this.origin,i)}apply(t){this.rotate(t,this.angle)}undo(t){this.rotate(t,-this.angle)}canAccumulate(a){return a instanceof i&&t(this.origin,a.origin)}accumulate(t,a){const i=1===a.accumulationType;this.rotate(t,i?a.angle-this.angle:a.angle)}accumulateParams(t){const a=1===t.accumulationType;this.angle=a?t.angle:this.angle+t.angle}}export{i as RotateVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as t,unwrap as e}from\"../../../../core/maybe.js\";class i{constructor(t,e,i){this.editGeometry=t,this.vertex=e,this.pos=i}apply(){const e=t(this.originalPosition);e&&(this.originalPosition=this.vertex.pos),this._apply(e?\"apply\":\"redo\")}undo(){this.vertex.pos=e(this.originalPosition),this.editGeometry.notifyChanges({operation:\"undo\",updatedVertices:[this.vertex]})}accumulate(t){return t instanceof i&&t.vertex===this.vertex&&(this.pos=t.pos,this._apply(\"apply\"),!0)}_apply(t){this.vertex.pos=this.pos,this.editGeometry.components.forEach((t=>t.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:t,updatedVertices:[this.vertex]})}}export{i as SetVertexPosition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.operations=[],this.closed=!1}close(){this.closed=!0}apply(){for(const t of this.operations)t.apply()}undo(){for(let t=this.operations.length-1;t>=0;t--)this.operations[t].undo()}accumulate(t){if(this.closed)return!1;const o=this.operations.length?this.operations[this.operations.length-1]:null;return o&&o.accumulate(t)||(this.operations.push(t),t.apply()),!0}}export{t as UndoGroup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{getInfo as o}from\"../../../geometry/support/spatialReferenceUtils.js\";function r(o,r){if(!r.supported)return;let p=1/0,e=-1/0;const u=r.upperBoundX-r.lowerBoundX;o.forEach((o=>{let n=o.pos[0];for(;n<r.lowerBoundX;)n+=u;for(;n>r.upperBoundX;)n-=u;p=Math.min(p,n),e=Math.max(e,n),o.pos[0]=n}));const n=e-p;u-n<n&&o.forEach((o=>{o.pos[0]<0&&(o.pos[0]+=u)}))}function p(r,p){const e=o(r);return 1===p&&e?{supported:!0,lowerBoundX:e.valid[0],upperBoundX:e.valid[1]}:{supported:!1,lowerBoundX:null,upperBoundX:null}}export{p as getUnnormalizationInfo,r as unnormalize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t,s,d,h){this.helper=t,this.dx=s,this.dy=d,this.dz=h}move(t,s,d,h){this.helper.addDelta(t.pos,s,d,h)}apply(t){this.move(t,this.dx,this.dy,this.dz)}undo(t){this.move(t,-this.dx,-this.dy,-this.dz)}canAccumulate(s){return s instanceof t}accumulate(t,s){this.move(t,s.dx,s.dy,s.dz)}accumulateParams(t){this.dx+=t.dx,this.dy+=t.dy,this.dz+=t.dz}}export{t as MoveVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass e{constructor(e){this.vertexHandle=null,this.excludeFeature=null,this.visualizer=null,this.editGeometryOperations=e.editGeometryOperations,this.elevationInfo=e.elevationInfo,this.pointer=e.pointer,this.vertexHandle=e.vertexHandle,this.excludeFeature=e.excludeFeature,this.visualizer=e.visualizer}get coordinateHelper(){return this.editGeometryOperations.data.coordinateHelper}}export{e as SnappingContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{isNone as t}from\"../../../core/maybe.js\";import{EditGeometry as r}from\"./EditGeometry.js\";import{AppendVertex as o}from\"./operations/AppendVertex.js\";import{UpdateVertices as s}from\"./operations/UpdateVertices.js\";import{RemoveVertices as i}from\"./operations/RemoveVertices.js\";import{SplitEdge as n}from\"./operations/SplitEdge.js\";import{SetVertexPosition as a}from\"./operations/SetVertexPosition.js\";import{CloseComponent as p}from\"./operations/CloseComponent.js\";import{MoveVertex as d}from\"./operations/MoveVertex.js\";import{OffsetEdgeVertex as c}from\"./operations/OffsetEdgeVertex.js\";import{RotateVertex as h}from\"./operations/RotateVertex.js\";import{ScaleVertex as u}from\"./operations/ScaleVertex.js\";import{UndoGroup as m}from\"./operations/UndoGroup.js\";class l extends e{constructor(e){super(),this.data=e,this.undoStack=[],this.redoStack=[],this.listener=this.data.on(\"change\",(e=>{e.addedVertices&&this.emit(\"vertex-add\",{type:\"vertex-add\",vertices:e.addedVertices,operation:e.operation}),e.removedVertices&&this.emit(\"vertex-remove\",{type:\"vertex-remove\",vertices:e.removedVertices,operation:e.operation}),e.updatedVertices&&this.emit(\"vertex-update\",{type:\"vertex-update\",vertices:e.updatedVertices,operation:e.operation})}))}destroy(){this.listener.remove()}splitEdge(e,t){return this.apply(new n(this.data,e,t))}updateVertices(e,t,r=1){return this.apply(new s(this.data,e,t),r)}moveVertices(e,t,r,o,s=1){return this.updateVertices(e,new d(this.data.coordinateHelper,t,r,o),s)}scaleVertices(e,t,r,o,s,i=1,n=0){return this.updateVertices(e,new u(t,r,o,s,n),i)}rotateVertices(e,t,r,o=1,s=0){return this.updateVertices(e,new h(t,r,s),o)}removeVertices(e){return this.apply(new i(this.data,e,this._minNumVerticesPerType))}appendVertex(e){return 0===this.data.components.length?null:this.apply(new o(this.data,this.data.components[0],e))}setVertexPosition(e,t){return this.apply(new a(this.data,e,t))}offsetEdge(e,t,r,o=1){return this.updateVertices([t.leftVertex,t.rightVertex],new c(this.data.coordinateHelper,e,t,r),o)}closeComponent(e){return this.data.components.includes(e)?this.apply(new p(this.data,e)):null}canRemoveVertex(){return this.data.components[0].vertices.length>this._minNumVerticesPerType}createUndoGroup(){const e=new m;return this.apply(e),{remove:()=>e.close()}}undo(){if(this.undoStack.length>0){const e=this.undoStack.pop();return e.undo(),this.redoStack.push(e),e}return null}redo(){if(this.redoStack.length>0){const e=this.redoStack.pop();return e.apply(),this.undoStack.push(e),e}return null}get canUndo(){return this.undoStack.length>0}get canRedo(){return this.redoStack.length>0}get lastOperation(){return this.undoStack.length>0?this.undoStack[this.undoStack.length-1]:null}get _minNumVerticesPerType(){switch(this.data.type){case\"point\":return 1;case\"polyline\":return 2;case\"polygon\":return 3;default:return 0}}apply(e,r=1){return 0!==r&&!t(this.lastOperation)&&this.lastOperation.accumulate(e)||(e.apply(),this.undoStack.push(e),this.redoStack=[]),e}static fromGeometry(e,t){return new l(r.fromGeometry(e,t))}}export{l as EditGeometryOperations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{remove as e}from\"../../../../core/arrayUtils.js\";import{isNone as t}from\"../../../../core/maybe.js\";import{Edge as r}from\"../EditGeometry.js\";class i{constructor(e,t){this.editGeometry=e,this.component=t,this.createdEdge=null}apply(){let e=\"redo\";if(t(this.createdEdge)){e=\"apply\";const i=this.component.getFirstVertex(),o=this.component.getLastVertex();if(this.component.isClosed()||this.component.vertices.length<3||t(i)||t(o))return;this.createdEdge=new r(this.component,o,i)}this.createdEdge.leftVertex.rightEdge=this.createdEdge,this.createdEdge.rightVertex.leftEdge=this.createdEdge,this.component.edges.push(this.createdEdge),this.editGeometry.notifyChanges({operation:e})}undo(){t(this.createdEdge)||(e(this.component.edges,this.createdEdge),this.createdEdge.leftVertex.rightEdge=null,this.createdEdge.rightVertex.leftEdge=null,this.editGeometry.notifyChanges({operation:\"undo\"}))}accumulate(){return!1}}export{i as CloseComponent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass e{constructor(e,t,i){this.editGeometry=e,this.vertices=t,this.operation=i,this.undone=!1}apply(){this.vertices.forEach((e=>this.operation.apply(e))),this.editGeometry.components.forEach((e=>e.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:this.undone?\"redo\":\"apply\",updatedVertices:this.vertices})}undo(){this.vertices.forEach((e=>this.operation.undo(e))),this.editGeometry.notifyChanges({operation:\"undo\",updatedVertices:this.vertices}),this.undone=!0}canAccumulate(e){if(this.undone||e.vertices.length!==this.vertices.length)return!1;for(let t=0;t<e.vertices.length;++t)if(e.vertices[t]!==this.vertices[t])return!1;return this.operation.canAccumulate(e.operation)}accumulate(t){return!!(t instanceof e&&this.canAccumulate(t))&&(this.vertices.forEach((e=>this.operation.accumulate(e,t.operation))),this.operation.accumulateParams(t.operation),this.editGeometry.components.forEach((e=>e.unnormalizeVertexPositions())),this.editGeometry.notifyChanges({operation:\"apply\",updatedVertices:this.vertices}),!0)}}export{e as UpdateVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../../core/maybe.js\";import{Edge as t}from\"../EditGeometry.js\";class r{constructor(e,t,r=0){this.editGeometry=e,this.vertices=t,this.minNumberOfVertices=r,this.removedVertices=null}apply(){let t=\"redo\";null==this.removedVertices?(this.removedVertices=[],this.vertices.forEach((t=>{const r=this._removeVertex(t);e(r)&&this.removedVertices.push(r)})),t=\"apply\"):this.removedVertices.forEach((e=>{this._removeVertex(e.removedVertex)})),this.editGeometry.notifyChanges({operation:t,removedVertices:this.vertices})}undo(){this.removedVertices.forEach((e=>{this._undoRemoveVertex(e)})),this.editGeometry.notifyChanges({operation:\"undo\",addedVertices:this.vertices})}accumulate(){return!1}_removeVertex(e){const r=e.component;if(r.vertices.length<=this.minNumberOfVertices)return null;const i={removedVertex:e,createdEdge:null},s=e.leftEdge,d=e.rightEdge;return r.vertices.splice(r.vertices.indexOf(e),1),s&&(r.edges.splice(r.edges.indexOf(s),1),s.leftVertex.rightEdge=null),d&&(r.edges.splice(r.edges.indexOf(d),1),d.rightVertex.leftEdge=null),0===e.index&&d&&this.vertices.length>0&&r.swapVertices(r.vertices.indexOf(d.rightVertex),0),s&&d&&(i.createdEdge=new t(r,s.leftVertex,d.rightVertex),r.edges.push(i.createdEdge)),d&&r.updateVertexIndex(d.rightVertex,d.rightVertex.index-1),i}_undoRemoveVertex(e){const t=e.removedVertex,r=e.removedVertex.component,i=t.leftEdge,s=t.rightEdge;e.createdEdge&&r.edges.splice(r.edges.indexOf(e.createdEdge),1),r.vertices.push(t),i&&(r.edges.push(i),i.leftVertex.rightEdge=i),s&&(r.edges.push(s),s.rightVertex.leftEdge=s),r.updateVertexIndex(t,t.index)}}export{r as RemoveVertices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{deg2rad as t}from\"../../../../core/mathUtils.js\";import{isSome as i,isNone as e}from\"../../../../core/maybe.js\";import{f as s,i as n,k as r}from\"../../../../chunks/vec2.js\";import{a as h}from\"../../../../chunks/vec2f64.js\";import{r as a,d as o,o as c,c as _,n as l,b as p,a as d,z as g,g as f}from\"../../../../chunks/vec3.js\";import{c as u,f as m}from\"../../../../chunks/vec3f64.js\";import{create as D,fromPositionAndNormal as x,signedDistance as b,copy as V,intersectLine as y,normal as N}from\"../../../../geometry/support/plane.js\";import{angle as P,projectPointSignedLength as j}from\"../../../../geometry/support/vector.js\";import{intersectLineAndRay as v}from\"../../../support/geometry2dUtils.js\";class z{constructor(t,i,e,s=0,n=0){this.helper=t,this.planeType=i,this.edge=e,this.distance=s,this._plane=D(),this._offsetPlane=D(),this._minDistance=-1/0,this._maxDistance=1/0,0===n&&this._initialize()}get plane(){return this._plane}get requiresSplitEdgeLeft(){return!this._left.isOriginalDirection}get requiresSplitEdgeRight(){return!this._right.isOriginalDirection}get edgeDirection(){return this._edgeDirection}_initialize(){this._initializeNeighbors(),this._initializePlane(),this._initializeDistanceConstraints()}_initializeNeighbors(){var t,i,e,s;const n=this._toXYZ(this.edge.leftVertex.pos),r=this._toXYZ(null==(t=this.edge.leftVertex.leftEdge)||null==(i=t.leftVertex)?void 0:i.pos),h=this._toXYZ(this.edge.rightVertex.pos),o=this._toXYZ(null==(e=this.edge.rightVertex.rightEdge)||null==(s=e.rightVertex)?void 0:s.pos);this._edgeDirection=a(u(),n,h),this._left=this._computeNeighbor(n,r,this._edgeDirection),this._right=this._computeNeighbor(h,o,this._edgeDirection)}_toXYZ(t){return i(t)?this.helper.toXYZ(t):null}_computeNeighbor(t,i,s){if(e(i))return{start:t,end:i,direction:m(-s[1],s[0],0),isOriginalDirection:!0};const n=a(u(),t,i),r=!this._passesBisectingAngleThreshold(n,s);return{start:t,end:i,direction:r?this._bisectVectorsPerpendicular(s,n):n,isOriginalDirection:!r}}_passesBisectingAngleThreshold(t,i){const e=Math.abs(P(i,t));return e>=E&&e<=Math.PI-E}_bisectVectorsPerpendicular(t,i){const e=o(t,i)<0?t:c(u(),t),s=Math.abs(o(e,i));if(!(s<.001||s>.999))return this._bisectDirection(e,i);const n=_(u(),e,[0,0,1]);return l(n,n)}_bisectDirection(t,i){const e=p(u(),t,i);return l(e,e)}_initializePlane(){const t=this._computeNormalDirection(this._left),i=this._computeNormalDirection(this._right);o(t,i)<0&&c(i,i),x(this._left.start,this._bisectDirection(t,i),this._plane)}_computeNormalDirection(t){const i=_(u(),t.direction,this._edgeDirection);l(i,i);const e=_(u(),this._edgeDirection,i);return 1===this.planeType&&(e[2]=0),l(e,e)}_initializeDistanceConstraints(){i(this._left.end)&&!this.requiresSplitEdgeLeft&&this._updateDistanceConstraint(b(this._plane,this._left.end)),i(this._right.end)&&!this.requiresSplitEdgeRight&&this._updateDistanceConstraint(b(this._plane,this._right.end)),this._updateIntersectDistanceConstraint(this._plane)}_updateDistanceConstraint(t){t<=0&&(this._minDistance=Math.max(this._minDistance,t)),t>=0&&(this._maxDistance=Math.min(this._maxDistance,t))}_updateIntersectDistanceConstraint(t){const i=N(t),e=this._edgeDirection,a=p(u(),this._left.start,this._left.direction),o=p(u(),this._right.start,this._right.direction),c=this._pointInBasis2D(h(),i,e,this._left.start),_=this._pointInBasis2D(h(),i,e,a),l=this._pointInBasis2D(h(),i,e,this._right.start),g=this._pointInBasis2D(h(),i,e,o),[f]=v({start:_,end:c,type:1},{start:g,end:l,type:1});if(!f)return;const m=s(h(),c,_);n(m,m);const D=s(h(),f,_),x=r(m,D),V=p(u(),a,d(u(),this._left.direction,-x)),y=b(t,V);this._updateDistanceConstraint(y)}_pointInBasis2D(t,i,e,s){return t[0]=j(i,s),t[1]=j(e,s),t}_offset(t,e){Number.isFinite(this._minDistance)&&(e=Math.max(this._minDistance,e)),Number.isFinite(this._maxDistance)&&(e=Math.min(this._maxDistance,e)),V(this._plane,this._offsetPlane),this._offsetPlane[3]-=e;const s=(t,e,s)=>i(e)&&y(this._offsetPlane,t,p(u(),t,e),s),n=u();(t===this.edge.leftVertex?s(this._left.start,this._left.direction,n):s(this._right.start,this._right.direction,n))&&this.helper.copy(this.helper.fromXYZ(n,void 0,this.helper.getM(t.pos)),t.pos)}signedDistanceToPoint(t){return b(this.plane,this.helper.toXYZ(this.helper.pointToVector(t)))}apply(t){this._offset(t,this.distance)}undo(t){this._offset(t,0)}canAccumulate(t){return t instanceof z&&this.edge.leftVertex.index===t.edge.leftVertex.index&&this.edge.rightVertex.index===t.edge.rightVertex.index&&this.edge.component===t.edge.component&&this._maybeEqualsVec3(this._left.direction,t._left.direction)&&this._maybeEqualsVec3(this._right.direction,t._right.direction)&&g(N(this._plane),N(t._plane))}accumulate(t,i){const e=this._plane[3]-i._plane[3]+i.distance;this._offset(t,e)}accumulateParams(t){const i=t.distance-t._plane[3];this.distance=i+this._plane[3]}clone(){const t=new z(this.helper,this.planeType,this.edge,this.distance,1);return V(this._plane,t._plane),V(this._offsetPlane,t._offsetPlane),t._maxDistance=this._maxDistance,t._minDistance=this._minDistance,t._left=this._cloneNeighbor(this._left),t._right=this._cloneNeighbor(this._right),t._edgeDirection=f(u(),this._edgeDirection),t}_maybeEqualsVec3(t,s){return e(t)&&e(s)||i(t)&&i(s)&&g(t,s)}_cloneNeighbor({start:t,end:e,direction:s,isOriginalDirection:n}){return{start:f(u(),t),end:i(e)?f(u(),e):null,direction:f(u(),s),isOriginalDirection:n}}}const E=t(15);export{z as OffsetEdgeVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e,isSome as t}from\"../../../../core/maybe.js\";import{Vertex as i,Edge as s}from\"../EditGeometry.js\";class d{constructor(e,t,i){this.editGeometry=e,this.component=t,this.pos=i,this.addedVertex=null,this.originalEdge=null,this.left=null,this.right=null}apply(){let d=\"redo\";e(this.addedVertex)&&(d=\"apply\",this.addedVertex=new i(this.component));const h=this.component.getLastVertex();if(e(h))this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,this.addedVertex.index=0;else{let i=null;h.rightEdge&&(this.originalEdge=h.rightEdge,i=this.originalEdge.rightVertex,this.component.edges.splice(this.component.edges.indexOf(this.originalEdge),1)),this.component.vertices.push(this.addedVertex),this.addedVertex.pos=this.pos,e(this.left)&&(this.left=new s(this.component,h,this.addedVertex)),this.component.edges.push(this.left),h.rightEdge=this.left,t(this.originalEdge)&&t(i)&&(e(this.right)&&(this.right=new s(this.component,this.addedVertex,i)),this.component.edges.push(this.right),i.leftEdge=this.right),this.component.updateVertexIndex(this.addedVertex,h.index+1)}this.editGeometry.notifyChanges({operation:d,addedVertices:[this.addedVertex]})}undo(){if(e(this.addedVertex))return null;this.component.vertices.splice(this.component.vertices.indexOf(this.addedVertex),1),t(this.left)&&(this.component.edges.splice(this.component.edges.indexOf(this.left),1),this.left.leftVertex.rightEdge=null),t(this.right)&&(this.component.edges.splice(this.component.edges.indexOf(this.right),1),this.right.rightVertex.leftEdge=null),t(this.originalEdge)&&(this.component.edges.push(this.originalEdge),this.originalEdge.leftVertex.rightEdge=this.originalEdge,this.originalEdge.rightVertex.leftEdge=this.originalEdge),t(this.left)?this.component.updateVertexIndex(this.left.leftVertex,this.left.leftVertex.index):this.component.updateVertexIndex(this.addedVertex,0),this.editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this.addedVertex]})}accumulate(){return!1}}export{d as AppendVertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{handlesGroup as i}from\"../../../core/handleUtils.js\";import{IntersectionSnappingHint as n}from\"./hints/IntersectionSnappingHint.js\";import{LineSnappingHint as t}from\"./hints/LineSnappingHint.js\";import{ParallelSnappingHint as s}from\"./hints/ParallelSnappingHint.js\";import{PointSnappingHint as o}from\"./hints/PointSnappingHint.js\";import{RightAngleSnappingHint as e}from\"./hints/RightAngleSnappingHint.js\";class r{draw(r,a){const p=this.getUniqueHints(r),h=[];for(const i of p)i instanceof n&&h.push(this.visualizeIntersectionPoint(i,a)),i instanceof t&&h.push(this.visualizeLine(i,a)),i instanceof s&&h.push(this.visualizeParallelSign(i,a)),i instanceof e&&h.push(this.visualizeRightAngleQuad(i,a)),i instanceof o&&h.push(this.visualizePoint(i,a));return i(h)}getUniqueHints(i){const n=[];for(const t of i){let i=!0;for(const s of n)if(t.equals(s)){i=!1;break}i&&n.push(t)}return n}}export{r as SnappingVisualizer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{equals as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Evented.js\";import{isSome as s}from\"../../../core/maybe.js\";import i from\"../../../geometry/Polygon.js\";import r from\"../../../geometry/Polyline.js\";import{createCoordinateHelper as o}from\"../coordinateHelper.js\";import{unnormalize as n,getUnnormalizationInfo as h}from\"./unnormalizationHelper.js\";class c{constructor(e){this.component=e,this.leftEdge=null,this.rightEdge=null,this.type=\"vertex\",this.index=null}get pos(){return this._pos}set pos(e){this._pos=e,this.component.unnormalizeVertexPositions()}}class l{constructor(e,t,s){this.component=e,this.leftVertex=t,this.rightVertex=s,this.type=\"edge\",t.rightEdge=this,s.leftEdge=this}}class p{constructor(e,t){this.spatialReference=e,this.viewingMode=t,this.vertices=[],this.edges=[]}unnormalizeVertexPositions(){this.vertices.length<=1||n(this.vertices,h(this.spatialReference,this.viewingMode))}updateVertexIndex(e,t){if(0===this.vertices.length)return;const s=this.vertices[0];let i=null,r=e,o=t;do{i=r,i.index=o++,r=i.rightEdge?i.rightEdge.rightVertex:null}while(null!=r&&r!==s);i.leftEdge&&i!==this.vertices[this.vertices.length-1]&&this.swapVertices(this.vertices.indexOf(i),this.vertices.length-1)}getFirstVertex(){return 0===this.vertices.length?null:this.vertices[0]}getLastVertex(){return 0===this.vertices.length?null:this.vertices[this.vertices.length-1]}isClosed(){return this.vertices.length>2&&null!==this.vertices[0].leftEdge}swapVertices(e,t){const s=this.vertices[e];this.vertices[e]=this.vertices[t],this.vertices[t]=s}iterateVertices(e){if(0===this.vertices.length)return;const t=this.vertices[0];let i=t;do{e(i,i.index),i=s(i.rightEdge)?i.rightEdge.rightVertex:null}while(i!==t&&null!=i)}}class g extends t{constructor(e,t,s){super(),this.type=e,this.coordinateHelper=t,this.viewingMode=s,this._geometry=null,this.dirty=!0,this.components=[]}get geometry(){if(this.dirty){switch(this.type){case\"point\":this._geometry=this.toPoint();break;case\"polyline\":this._geometry=this.toPolyline();break;case\"polygon\":this._geometry=this.toPolygon()}this.dirty=!1}return this._geometry}get spatialReference(){return this.coordinateHelper.spatialReference}notifyChanges(e){this.dirty=!0,this.emit(\"change\",e)}toPoint(){return 0===this.components.length||0===this.components[0].vertices.length?null:this.coordinateHelper.vectorToPoint(this.components[0].vertices[0].pos)}toPolyline(){const e=[],t=this.coordinateHelper.vectorToArray;return this.components.forEach(((s,i)=>{const r=[];let o=s.vertices.find((e=>null==e.leftEdge));const n=o;do{r.push(t(o.pos)),o=o.rightEdge?o.rightEdge.rightVertex:null}while(o&&o!==n);e.push(r)})),new r({paths:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}toPolygon(){const e=[],t=this.coordinateHelper.vectorToArray;return this.components.forEach(((i,r)=>{const o=[],n=i.vertices[0];let h=n;const c=h;do{o.push(t(h.pos)),h=s(h.rightEdge)?h.rightEdge.rightVertex:null}while(h&&h!==c);i.isClosed()&&o.push(t(n.pos)),e.push(o)})),new i({rings:e,spatialReference:this.spatialReference,hasZ:this.coordinateHelper.hasZ(),hasM:this.coordinateHelper.hasM()})}static fromGeometry(t,s){const i=t.spatialReference,r=o(t.hasZ,t.hasM,i),n=new g(t.type,r,s);switch(t.type){case\"polygon\":{const o=t.rings;for(let t=0;t<o.length;++t){const h=o[t],g=new p(i,s),a=h.length>2&&e(h[0],h[h.length-1]),d=a?h.length-1:h.length;for(let e=0;e<d;++e){const t=r.arrayToVector(h[e]),s=new c(g);g.vertices.push(s),s.pos=t,s.index=e}const u=g.vertices.length-1;for(let e=0;e<u;++e){const t=g.vertices[e],s=g.vertices[e+1],i=new l(g,t,s);g.edges.push(i)}if(a){const e=new l(g,g.vertices[g.vertices.length-1],g.vertices[0]);g.edges.push(e)}n.components.push(g)}break}case\"polyline\":for(const e of t.paths){const t=new p(i,s),o=e.length;for(let s=0;s<o;++s){const i=r.arrayToVector(e[s]),o=new c(t);t.vertices.push(o),o.pos=i,o.index=s}const h=t.vertices.length-1;for(let e=0;e<h;++e){const s=t.vertices[e],i=t.vertices[e+1],r=new l(t,s,i);t.edges.push(r)}n.components.push(t)}break;case\"point\":{const e=new p(i,s),o=new c(e);o.index=0,o.pos=r.pointToVector(t),e.vertices.push(o),n.components.push(e);break}}return n}}export{p as Component,l as Edge,g as EditGeometry,c as Vertex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{clamp as n}from\"../../core/mathUtils.js\";import{isSome as t}from\"../../core/maybe.js\";import{g as r,k as c,f as o,n as e,d as u,c as i,a as f,b as s}from\"../../chunks/vec3.js\";import{c as a}from\"../../chunks/vec3f64.js\";import{g}from\"../../chunks/sphere.js\";import{sv4d as m,sv3d as h}from\"./vectorStacks.js\";function p(n=X){return[n[0],n[1],n[2],n[3]]}function M(n,t,r,c){return j(n,t,r,c,m.get())}function b(n,t=p()){return j(n[0],n[1],n[2],n[3],t)}function j(n,t,r,c,o=p()){return o[0]=n,o[1]=t,o[2]=r,o[3]=c,o}function k(n,t,c){return r(c,n),c[3]=t,c}function v(n,t,r){const c=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],o=Math.abs(c-1)>1e-5&&c>1e-12?1/Math.sqrt(c):1;return r[0]=t[0]*o,r[1]=t[1]*o,r[2]=t[2]*o,r[3]=-(r[0]*n[0]+r[1]*n[1]+r[2]*n[2]),r}function y(n,t,r,c=p()){const o=r[0]-t[0],e=r[1]-t[1],u=r[2]-t[2],i=n[0]-t[0],f=n[1]-t[1],s=n[2]-t[2],a=e*s-u*f,g=u*i-o*s,m=o*f-e*i,h=a*a+g*g+m*m,M=Math.abs(h-1)>1e-5&&h>1e-12?1/Math.sqrt(h):1;c[0]=a*M,c[1]=g*M,c[2]=m*M,c[3]=-(c[0]*n[0]+c[1]*n[1]+c[2]*n[2])}function d(n,t){return l(n,t,0,1,2)}function l(n,t,r,i,f){if(n.count<3)return!1;n.getVec(r,q);let s=i,a=!1;for(;s<n.count-1&&!a;)n.getVec(s,x),s++,a=!c(q,x);if(!a)return!1;for(s=Math.max(s,f),a=!1;s<n.count&&!a;)n.getVec(s,S),s++,o(U,q,x),e(U,U),o(w,x,S),e(w,w),a=!c(q,S)&&!c(x,S)&&Math.abs(u(U,w))<V;return a?(y(q,x,S,t),!0):(0!==r||1!==i||2!==f)&&l(n,t,0,1,2)}const V=.99619469809,q=a(),x=a(),S=a(),U=a(),w=a();function z(n,t,r){return n!==r&&b(n,r),r[3]=-u(W(r),t),r}function A(n,t){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t}function B(n,t,r,c){return i(S,t,n),v(r,S,c)}function C(n,t,r,c){return T(n,t,o(h.get(),r,t),Y,c)}function D(n,r,c){return!!t(r)&&T(n,r.origin,r.direction,Z,c)}function E(n,t,r){return T(n,t.origin,t.vector,0,r)}function F(n,t,r){return T(n,t.origin,t.vector,1,r)}function G(n,t){return R(n,g(t))-t[3]>=0}function H(n,t){return R(n,g(t))+t[3]<0}function I(n,t){return R(n,t)>=0}function J(n,t){return R(n,t)<0}function K(n,t){const r=t[0],c=t[1],o=t[2],e=t[3],u=t[4],i=t[5];return n[0]*(n[0]>0?r:e)+n[1]*(n[1]>0?c:u)+n[2]*(n[2]>0?o:i)+n[3]>=0}function L(n,t){const r=u(W(n),t.ray.direction),c=-R(n,t.ray.origin);if(c<0&&r>=0)return!1;if(r>-1e-6&&r<1e-6)return c>0;if((c<0||r<0)&&!(c<0&&r<0))return!0;const o=c/r;return r>0?o<t.c1&&(t.c1=o):o>t.c0&&(t.c0=o),t.c0<=t.c1}function N(n,t){const r=u(W(n),t.ray.direction),c=-R(n,t.ray.origin);if(r>-1e-6&&r<1e-6)return c>0;const o=c/r;return r>0?o<t.c1&&(t.c1=o):o>t.c0&&(t.c0=o),t.c0<=t.c1}function O(n,t,r){const c=f(h.get(),W(n),-n[3]),e=P(n,o(h.get(),t,c),h.get());return s(r,e,c),r}function P(n,t,r){const c=f(h.get(),W(n),u(W(n),t));return o(r,t,c),r}function Q(n,t){return Math.abs(R(n,t))}function R(n,t){return u(W(n),t)+n[3]}function T(t,r,c,o,e){const i=u(W(t),c);if(0===i)return!1;let a=-(u(W(t),r)+t[3])/i;return 1&o&&(a=n(a,0,1)),!(!(4&o)&&a<0||!(8&o)&&a>1)&&(s(e,r,f(e,c,a)),!0)}function W(n){return n}const X=[0,0,1,0],Y=12,Z=8;export{X as UP,L as clip,N as clipInfinite,b as copy,p as create,Q as distance,d as fromManyPoints,l as fromManyPointsSampleAt,k as fromNormalAndOffset,y as fromPoints,v as fromPositionAndNormal,j as fromValues,B as fromVectorsAndPoint,C as intersectLine,E as intersectLineSegment,F as intersectLineSegmentClamp,D as intersectRay,K as isAABBFullyInside,I as isPointInside,J as isPointOutside,G as isSphereFullyInside,H as isSphereFullyOutside,A as negate,W as normal,O as projectPoint,P as projectVector,z as setOffsetFromPoint,R as signedDistance,M as wrap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{Vertex as t,Edge as i}from\"../EditGeometry.js\";class r{constructor(e,t,i){this.editGeometry=e,this.edge=t,this.t=i,this.createdVertex=null,this.left=null,this.right=null}apply(){let r=\"redo\";const s=this.edge,d=s.component,h=s.leftVertex,g=s.rightVertex;d.edges.splice(d.edges.indexOf(s),1),e(this.createdVertex)&&(r=\"apply\",this.createdVertex=new t(s.component)),d.vertices.push(this.createdVertex),this.createdVertex.pos=this.editGeometry.coordinateHelper.lerp(s.leftVertex.pos,s.rightVertex.pos,this.t,this.editGeometry.coordinateHelper.createVector()),e(this.left)&&(this.left=new i(d,h,this.createdVertex)),this.left.leftVertex.leftEdge?d.edges.push(this.left):d.edges.unshift(this.left),h.rightEdge=this.left,e(this.right)&&(this.right=new i(d,this.createdVertex,g)),d.edges.push(this.right),g.leftEdge=this.right,d.updateVertexIndex(this.createdVertex,h.index+1),this.editGeometry.notifyChanges({operation:r,addedVertices:[this.createdVertex]})}undo(){if(e(this.createdVertex)||e(this.left)||e(this.right))return null;const t=this.edge,i=t.component,r=this.createdVertex.leftEdge,s=this.createdVertex.rightEdge,d=r.leftVertex,h=s.rightVertex;i.vertices.splice(i.vertices.indexOf(this.createdVertex),1),i.edges.splice(i.edges.indexOf(this.left),1),i.edges.splice(i.edges.indexOf(this.right),1),this.edge.leftVertex.leftEdge?i.edges.push(this.edge):i.edges.unshift(this.edge),d.rightEdge=t,h.leftEdge=t,i.updateVertexIndex(d,d.index),this.editGeometry.notifyChanges({operation:\"undo\",removedVertices:[this.createdVertex]})}accumulate(){return!1}}export{r as SplitEdge};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{o as e,b as t,c as r}from\"../../chunks/vec2.js\";import{a,f as i,d as n}from\"../../chunks/vec2f64.js\";import{e as s,i as o,g as u}from\"../../chunks/vec3.js\";import{f as c,c as h,d as p}from\"../../chunks/vec3f64.js\";import{l as v,c as y}from\"../../chunks/vec4.js\";import{c as l,f as d,d as f}from\"../../chunks/vec4f64.js\";import T from\"../../geometry/Point.js\";class m{constructor(e){this.spatialReference=e}createVector(){return this.tag(a())}pointToVector(e){return this.tag(i(e.x,e.y))}arrayToVector(e){return this.tag(i(e[0],e[1]))}vectorToArray(e){return[e[0],e[1]]}pointToArray(e){return[e.x,e.y]}vectorToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){return t.x=e[0],t.y=e[1],t.z=void 0,t.m=void 0,t.hasZ=!1,t.hasM=!1,t.spatialReference=this.spatialReference,t}lerp(t,r,a,i){return e(i,t,r,a)}addDelta(e,t,r){e[0]+=t,e[1]+=r}distance(e,r){return t(e,r)}getZ(e,t){return t}hasZ(){return!1}getM(e,t){return t}hasM(){return!1}clone(e){return this.tag(n(e))}copy(e,t){return r(t,e)}fromXYZ(e){return this.tag(i(e[0],e[1]))}toXYZ(e,t=0){return c(e[0],e[1],t)}tag(e){return e}}class g{constructor(e,t){this.valueType=e,this.spatialReference=t}createVector(){return this.tag(h())}pointToVector(e){return this.tag(c(e.x,e.y,0===this.valueType?e.z:e.m))}arrayToVector(e){return this.tag(c(e[0],e[1],e[2]||0))}vectorToArray(e){return[e[0],e[1],e[2]]}pointToArray(e){return 0===this.valueType?[e.x,e.y,e.z]:[e.x,e.y,e.m]}vectorToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=0===this.valueType?e[2]:void 0,t.m=1===this.valueType?e[2]:void 0,t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=0===this.valueType?e[2]:void 0,t.m=1===this.valueType?e[2]:void 0,t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){const r=0===this.valueType,a=1===this.valueType;return t.x=e[0],t.y=e[1],t.z=r?e[2]:void 0,t.m=a?e[2]:void 0,t.hasZ=r,t.hasM=a,t.spatialReference=this.spatialReference,t}lerp(e,t,r,a){return s(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,0===this.valueType&&(e[2]+=a)}distance(e,r){return 0===this.valueType?o(e,r):t(e,r)}getZ(e,t){return 0===this.valueType?e[2]:t}hasZ(){return 0===this.valueType}getM(e,t){return 1===this.valueType?e[2]:t}hasM(){return 1===this.valueType}clone(e){return this.tag(p(e))}copy(e,t){return u(t,e)}fromXYZ(e,t=0,r=0){return this.tag(c(e[0],e[1],0===this.valueType?e.length>2?e[2]:t:r))}toXYZ(e,t=0){return this.tag(c(e[0],e[1],0===this.valueType?e[2]:t))}tag(e){return e}}class R{constructor(e){this.spatialReference=e}createVector(){return this.tag(l())}pointToVector(e){return this.tag(d(e.x,e.y,e.z,e.m))}arrayToVector(e){return this.tag(d(e[0],e[1],e[2]||0,e[3]||0))}vectorToArray(e){return[e[0],e[1],e[2],e[3]]}pointToArray(e){return[e.x,e.y,e.z,e.m]}vectorToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}arrayToPoint(e,t=new T){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.spatialReference=this.spatialReference,t}vectorToDehydratedPoint(e,t={x:void 0,y:void 0,z:void 0,m:void 0,hasZ:void 0,hasM:void 0,spatialReference:void 0,type:\"point\"}){return t.x=e[0],t.y=e[1],t.z=e[2],t.m=e[3],t.hasZ=!0,t.hasM=!0,t.spatialReference=this.spatialReference,t}lerp(e,t,r,a){return v(a,e,t,r)}addDelta(e,t,r,a){e[0]+=t,e[1]+=r,e[2]+=a}distance(e,t){return o(e,t)}getZ(e){return e[2]}hasZ(){return!0}getM(e){return e[3]}hasM(){return!0}clone(e){return this.tag(f(e))}copy(e,t){return y(t,e)}fromXYZ(e,t=0,r=0){return this.tag(d(e[0],e[1],e.length>2?e[2]:t,r))}toXYZ(e){return c(e[0],e[1],e[2])}tag(e){return e}}function x(e,t,r){return e&&t?new R(r):t?new g(1,r):e?new g(0,r):new m(r)}export{m as CoordinateHelper2D,g as CoordinateHelper3D,R as CoordinateHelper4D,x as createCoordinateHelper};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{objectEqual as t}from\"../snappingUtils.js\";import{SnappingHint as n}from\"./SnappingHint.js\";class s extends n{constructor(t){super(),this.point=t}equals(n){return n instanceof s&&t(this.point,n.point)}}export{s as PointSnappingHint};\n"],"sourceRoot":"webpack:///"}