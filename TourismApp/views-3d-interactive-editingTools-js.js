(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["views-3d-interactive-editingTools-js"],{

/***/ "/rov":
/*!********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/SnappingVisualizer3D.js ***!
  \********************************************************************************/
/*! exports provided: SnappingVisualizer3D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SnappingVisualizer3D", function() { return m; });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Color.js */ "nvBr");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/has.js */ "wSAH");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./visualElements/ExtendedLineVisualElement.js */ "jxyb");
/* harmony import */ var _visualElements_ParallelLineVisualElement_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./visualElements/ParallelLineVisualElement.js */ "Gnh5");
/* harmony import */ var _visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./visualElements/PointVisualElement.js */ "ACyv");
/* harmony import */ var _visualElements_RightAngleQuadVisualElement_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./visualElements/RightAngleQuadVisualElement.js */ "RaGr");
/* harmony import */ var _interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../interactive/snapping/Settings.js */ "yftL");
/* harmony import */ var _interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../interactive/snapping/snappingUtils.js */ "ZwYu");
/* harmony import */ var _interactive_snapping_SnappingVisualizer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../interactive/snapping/SnappingVisualizer.js */ "ZadS");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class m extends _interactive_snapping_SnappingVisualizer_js__WEBPACK_IMPORTED_MODULE_11__["SnappingVisualizer"]{visualizeIntersectionPoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:l}=i;return Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__["destroyHandle"])(new _visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_7__["PointVisualElement"]({view:l,primitive:"circle",geometry:o.vectorToPoint(t.intersectionPoint),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].orange),pixelSnappingEnabled:!1}))}visualizePoint(t,i){const{coordinateHelper:o,elevationInfo:r,view:l}=i;return Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__["destroyHandle"])(new _visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_7__["PointVisualElement"]({view:l,primitive:"circle",geometry:o.vectorToPoint(t.point),elevationInfo:r,size:20,outlineSize:2,color:[0,0,0,0],outlineColor:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].orange),pixelSnappingEnabled:!1}))}visualizeLine(e,t){const{coordinateHelper:i,elevationInfo:o,view:r}=t;return Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__["destroyHandle"])(this.createLineSegmentHintFromMap(e.type,e.lineStart,e.lineEnd,i,o,r,e.fadeLeft,e.fadeRight))}visualizeParallelSign(i,o){const{coordinateHelper:a,elevationInfo:l,view:d}=o,p=Object(_interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_10__["anyMapPointToRender"])(i.lineStart,a,l,o.view),m=Object(_interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_10__["anyMapPointToRender"])(i.lineEnd,a,l,o.view),u=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["e"])(m,p,m,.5),v=new _visualElements_ParallelLineVisualElement_js__WEBPACK_IMPORTED_MODULE_6__["ParallelLineVisualElement"]({view:d,attached:!1,offset:_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].parallelLineHintOffset,length:_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].parallelLineHintLength,width:_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].parallelLineHintWidth,color:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].orange),location:u,renderOccluded:16});return v.setDirectionFromPoints(p,u),v.attached=!0,Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__["destroyHandle"])(v)}visualizeRightAngleQuad(t,i){const{coordinateHelper:o,elevationInfo:r,view:a}=i;return Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_2__["destroyHandle"])(new _visualElements_RightAngleQuadVisualElement_js__WEBPACK_IMPORTED_MODULE_8__["RightAngleQuadVisualElement"]({view:a,attached:!0,color:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].orange),renderOccluded:2,outlineRenderOccluded:16,outlineColor:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].orange),outlineSize:_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].rightAngleHintOutlineSize,size:_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].rightAngleHintSize,geometry:{previous:Object(_interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_10__["anyMapPointToRender"])(t.previousVertex,o,r,a),center:Object(_interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_10__["anyMapPointToRender"])(t.centerVertex,o,r,a),next:Object(_interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_10__["anyMapPointToRender"])(t.nextVertex,o,r,a)}}))}createLineSegmentHintFromMap(e,n,t,o,r,a,l=!0,s=!0){const c=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),p=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])();return Object(_interactive_snapping_snappingUtils_js__WEBPACK_IMPORTED_MODULE_10__["anyMapPointsToRenderWithEqualZ"])(n,t,o,r,a,c,p),this.createLineSegmentHint(e,a,c,p,l,s)}createLineSegmentHint(n,t,i,r,a=!0,l=!0){const c=new _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_5__["ExtendedLineVisualElement"]({view:t,extensionType:3,start:i,end:r,color:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].orange),renderOccluded:16});switch(n){case 0:c.width=_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].lineHintWidthTarget,c.fadedExtensions={start:0,end:_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].lineHintFadedExtensions};break;case 2:c.width=_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].lineHintWidthReference,c.fadedExtensions={start:0,end:0};break;case 1:c.width=_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].lineHintWidthReference,c.fadedExtensions={start:a?_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].lineHintFadedExtensions:0,end:l?_interactive_snapping_Settings_js__WEBPACK_IMPORTED_MODULE_9__["defaults"].lineHintFadedExtensions:0}}return c.attached=!0,c}}


/***/ }),

/***/ "0IB0":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/draw/DrawGraphicTool3D.js ***!
  \***********************************************************************************************/
/*! exports provided: DrawGraphicTool3D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DrawGraphicTool3D", function() { return y; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/watchUtils.js */ "N5XI");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../symbols/support/ElevationInfo.js */ "/RTN");
/* harmony import */ var _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../SnappingVisualizer3D.js */ "/rov");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../settings.js */ "2WkI");
/* harmony import */ var _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../visualElements/OutlineVisualElement.js */ "RPp6");
/* harmony import */ var _visualElements_VerticesVisualElement_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../visualElements/VerticesVisualElement.js */ "krFY");
/* harmony import */ var _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../layers/graphics/GraphicState.js */ "p9ZE");
/* harmony import */ var _draw_DrawGraphicTool_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../draw/DrawGraphicTool.js */ "rjwa");
/* harmony import */ var _draw_DrawOperation_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../draw/DrawOperation.js */ "5+Ow");
/* harmony import */ var _draw_drawSurfaces_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../draw/drawSurfaces.js */ "W6tc");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let y=class extends _draw_DrawGraphicTool_js__WEBPACK_IMPORTED_MODULE_16__["DrawGraphicTool"]{constructor(e){super(e),this._activeVertexVisualElement=null,this._createGraphicState=null,this._outlineVisualElement=null,this._verticesVisualElement=null,this.geometryType=null,this.type="draw-3d"}initialize(){const{mode:e,offset:t}=this.elevationInfo;this.internalGraphicsLayer.elevationInfo=new _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({mode:e,offset:t})}normalizeCtorArgs(e){if(!e.elevationInfo){var t;const i=null==(t=e.hasZ)||t;return{...e,elevationInfo:{mode:i?"absolute-height":"on-the-ground",offset:0}}}return e}initializeGraphic(e){return this._createGraphicState=new _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_15__["GraphicState"]({graphic:e}),Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__["handlesGroup"])([this.view.maskOccludee(e),this.view.trackGraphicState(this._createGraphicState),Object(_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__["init"])(this._createGraphicState,"isDraped",(e=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._outlineVisualElement)&&(this._outlineVisualElement.isDraped=e)}))])}makeDrawOperation(){return new _draw_DrawOperation_js__WEBPACK_IMPORTED_MODULE_17__["DrawOperation"]({view:this.view,manipulators:this.manipulators,geometryType:Object(_draw_DrawGraphicTool_js__WEBPACK_IMPORTED_MODULE_16__["geometryTypeToDrawOperationGeometryType"])(this.geometryType),drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:new _draw_drawSurfaces_js__WEBPACK_IMPORTED_MODULE_18__["SceneDrawSurface"](this.view,this.elevationInfo,[this.internalGraphicsLayer]),elevationDrawSurface:new _draw_drawSurfaces_js__WEBPACK_IMPORTED_MODULE_18__["ElevationDrawSurface"](this.elevationInfo,this.defaultZ,this.view,this.internalGraphicsLayer),hasM:!1,elevationInfo:this.elevationInfo,snappingManager:this.snappingManager,snappingVisualizer:new _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_11__["SnappingVisualizer3D"]})}onActiveVertexChanged(e){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._activeVertexVisualElement)?(this._activeVertexVisualElement.vertices=[e],null):(this._activeVertexVisualElement=new _visualElements_VerticesVisualElement_js__WEBPACK_IMPORTED_MODULE_14__["VerticesVisualElement"]({view:this.view,spatialReference:this.view.spatialReference,vertices:[e],elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].reshapeManipulators.vertex.renderOccluded,attached:!1}),this._activeVertexVisualElement.color=_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].reshapeManipulators.selected.color),this._activeVertexVisualElement.attached=!0,Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__["makeHandle"])((()=>{this._activeVertexVisualElement=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["destroyMaybe"])(this._activeVertexVisualElement)})))}onOutlineChanged(e){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._outlineVisualElement))return this._outlineVisualElement.geometry=e,null;const t=this.internalGraphicsLayer.elevationInfo;return this._outlineVisualElement=new _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_13__["OutlineVisualElement"]({view:this.view,geometry:e,elevationInfo:t,isDraped:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._createGraphicState)?this._createGraphicState.isDraped:"on-the-ground"===Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__["getEffectiveElevationMode"])(this.hasZ,t),attached:!1}),_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].visualElements.lineGraphics.outline.apply(this._outlineVisualElement),_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].visualElements.lineGraphics.shadowStyle.apply(this._outlineVisualElement),this._outlineVisualElement.attached=!0,this._outlineVisualElement.laserlineEnabled=!0,Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__["makeHandle"])((()=>{this._outlineVisualElement=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["destroyMaybe"])(this._outlineVisualElement)}))}onRegularVerticesChanged(e){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._verticesVisualElement)?(this._verticesVisualElement.vertices=e,null):(this._verticesVisualElement=new _visualElements_VerticesVisualElement_js__WEBPACK_IMPORTED_MODULE_14__["VerticesVisualElement"]({view:this.view,spatialReference:this.view.spatialReference,vertices:e,elevationInfo:this.internalGraphicsLayer.elevationInfo,renderOccluded:_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].reshapeManipulators.vertex.renderOccluded,attached:!1}),this._verticesVisualElement.attached=!0,Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__["makeHandle"])((()=>{this._verticesVisualElement=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["destroyMaybe"])(this._verticesVisualElement)})))}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])({constructOnly:!0})],y.prototype,"elevationInfo",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])({constructOnly:!0})],y.prototype,"geometryType",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])({readOnly:!0})],y.prototype,"type",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])({constructOnly:!0,nonNullable:!0})],y.prototype,"view",void 0),y=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__["subclass"])("esri.views.3d.interactive.editingTools.draw.DrawGraphicTool3D")],y);


/***/ }),

/***/ "0ynT":
/*!******************************************************!*\
  !*** ./node_modules/@arcgis/core/core/colorUtils.js ***!
  \******************************************************/
/*! exports provided: darken, toHSV, toLAB, toLCH, toRGB, toXYZ */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "darken", function() { return q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toHSV", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toLAB", function() { return z; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toLCH", function() { return v; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toRGB", function() { return p; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toXYZ", function() { return w; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function n(n){return"r"in n&&"g"in n&&"b"in n}function t(n){return"h"in n&&"s"in n&&"v"in n}function r(n){return"l"in n&&"a"in n&&"b"in n}function u(n){return"l"in n&&"c"in n&&"h"in n}function o(n){return"x"in n&&"y"in n&&"z"in n}const e=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function i(n,t){const r=[];let u,o;if(n[0].length!==t.length)throw"dimensions do not match";const e=n.length,c=n[0].length;let i=0;for(u=0;u<e;u++){for(i=0,o=0;o<c;o++)i+=n[u][o]*t[o];r.push(i)}return r}function a(n){const t=[n.r/255,n.g/255,n.b/255].map((n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4)),r=i(e,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function h(n){const t=i(c,[n.x/100,n.y/100,n.z/100]).map((n=>{const t=n<=.0031308?12.92*n:1.055*n**(1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function s(n){const t=[n.x/95.047,n.y/100,n.z/108.883].map((n=>n>(6/29)**3?n**(1/3):1/3*(29/6)**2*n+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function f(n){const t=n.l,r=[(t+16)/116+n.a/500,(t+16)/116,(t+16)/116-n.b/200].map((n=>n>6/29?n**3:3*(6/29)**2*(n-4/29)));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function b(n){const t=n.l,r=n.a,u=n.b,o=Math.sqrt(r*r+u*u);let e=Math.atan2(u,r);return e=e>0?e:e+2*Math.PI,{l:t,c:o,h:e}}function l(n){const t=n.l,r=n.c,u=n.h;return{l:t,a:r*Math.cos(u),b:r*Math.sin(u)}}function g(n){return s(a(n))}function M(n){return h(f(n))}function m(n){return b(s(a(n)))}function d(n){return h(f(l(n)))}function x(n){const t=n.r,r=n.g,u=n.b,o=Math.max(t,r,u),e=o-Math.min(t,r,u);let c=o,i=0===e?0:o===t?(r-u)/e%6:o===r?(u-t)/e+2:(t-r)/e+4,a=0===e?0:e/c;return i<0&&(i+=6),i*=60,a*=100,c*=100/255,{h:i,s:a,v:c}}function k(n){const t=(n.h+360)%360/60,r=n.s/100,u=n.v/100*255,o=u*r,e=o*(1-Math.abs(t%2-1));let c;switch(Math.floor(t)){case 0:c={r:o,g:e,b:0};break;case 1:c={r:e,g:o,b:0};break;case 2:c={r:0,g:o,b:e};break;case 3:c={r:0,g:e,b:o};break;case 4:c={r:e,g:0,b:o};break;case 5:case 6:c={r:o,g:0,b:e};break;default:c={r:0,g:0,b:0}}return c.r=Math.round(c.r+u-o),c.g=Math.round(c.g+u-o),c.b=Math.round(c.b+u-o),c}function p(e){return n(e)?e:u(e)?d(e):r(e)?M(e):o(e)?h(e):t(e)?k(e):e}function y(n){if(t(n))return n;return x(p(n))}function z(n){return r(n)?n:g(p(n))}function v(n){return u(n)?n:m(p(n))}function w(n){return o(n)?n:a(p(n))}function q(n,t){const r=g(n);return r.l*=1-t,M(r)}


/***/ }),

/***/ "19DF":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/DrapedVisualElementResources.js ***!
  \*******************************************************************************************************/
/*! exports provided: DrapedVisualElementResources */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DrapedVisualElementResources", function() { return a; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ "/CmD");
/* harmony import */ var _core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Identifiable.js */ "pdg3");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class a{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get resources(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){this.resourceFactory.recreateGeometry?Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isNone"])(this._resources)||(this.ensureRenderGeometriesRemoved(),this.resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isNone"])(this._resources)&&this._createResources():this._destroyResources()}_createResources(){var e;this._destroyResources();const r=this.resourceFactory.createResources();this._resources={layerView:new u({view:this.resourceFactory.view}),external:r,geometriesAdded:!1},this._syncGeometriesToRenderer();const s=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;s&&s.registerDrapeSource(this._resources.layerView)}_destroyResources(){var e;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isNone"])(this._resources))return;this.ensureRenderGeometriesRemoved();const r=null==(e=this.resourceFactory.view.basemapTerrain)?void 0:e.overlayManager;r&&r.unregisterDrapeSource(this._resources.layerView),this._resources=null}_syncGeometriesToRenderer(){this._visible?this.ensureRenderGeometriesAdded():this.ensureRenderGeometriesRemoved()}ensureRenderGeometriesRemoved(){var e;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isNone"])(this._resources)||null==(e=this.resourceFactory.view)||!e.basemapTerrain)return;if(!this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.removeGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!1}ensureRenderGeometriesAdded(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isNone"])(this._resources))return;if(this._resources.geometriesAdded)return;this.resourceFactory.view.basemapTerrain.overlayManager.renderer.addGeometries(this._resources.external.geometries,this._resources.layerView,2),this._resources.geometriesAdded=!0}}let u=class extends(Object(_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_2__["IdentifiableMixin"])(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__["default"])){constructor(e){super(e),this.drapeSourceType=1,this.updatePolicy=1}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])({constructOnly:!0})],u.prototype,"view",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__["property"])({readOnly:!0})],u.prototype,"drapeSourceType",void 0),u=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__["subclass"])("DrapedVisualElementLayerView")],u);


/***/ }),

/***/ "1Na6":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/Factory.js ***!
  \**********************************************************************************************/
/*! exports provided: getRotateHeadingTexture, getTiltRotateTexture */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRotateHeadingTexture", function() { return o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTiltRotateTexture", function() { return i; });
/* harmony import */ var _heading_rotate_png_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./heading-rotate-png.js */ "WfAT");
/* harmony import */ var _tilt_rotate_png_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tilt-rotate-png.js */ "4SII");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../webgl-engine/lib/Texture.js */ "Hizz");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const n={mipmap:!0,preMultiplyAlpha:!0,width:64,height:64};function o(r){return r.fromData(_heading_rotate_png_js__WEBPACK_IMPORTED_MODULE_0__["default"],(()=>new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_2__["Texture"](_heading_rotate_png_js__WEBPACK_IMPORTED_MODULE_0__["default"],n)))}function i(t){return t.fromData(_tilt_rotate_png_js__WEBPACK_IMPORTED_MODULE_1__["default"],(()=>new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_2__["Texture"](_tilt_rotate_png_js__WEBPACK_IMPORTED_MODULE_1__["default"],n)))}


/***/ }),

/***/ "22x+":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/moveUtils.js ***!
  \************************************************************************************************/
/*! exports provided: createGraphicMoveDragPipeline, shapeOrientation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGraphicMoveDragPipeline", function() { return r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shapeOrientation", function() { return a; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function r(t,r,a,c){const i=t.graphic,o=(t,e)=>r({action:t,graphic:i,dxScreen:e.screenDeltaX,dyScreen:e.screenDeltaY});return a(((t,r,a)=>{const s=r.next((t=>("start"===t.action&&o("start",t),t))).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_1__["dragGraphic"])(i,c)).next((t=>{switch(t.action){case"start":case"update":(t.translationX||t.translationY||t.translationZ)&&o("update",t);break;case"end":o("end",t)}return t}));return a.next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_1__["resetGraphic"])(i)).next((()=>{o("end",{screenDeltaX:0,screenDeltaY:0})})),s}))}function a(e){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(e)||"polyline"!==e.type&&"polygon"!==e.type)return 0;const n=("polyline"===e.type?e.paths:e.rings)[0];if(!n||n.length<2)return 0;const r=n[0],a=n[1];return Math.atan2(a[1]-r[1],a[0]-r[0])}


/***/ }),

/***/ "2VAc":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicTransformTool.js ***!
  \**************************************************************************************************************/
/*! exports provided: GraphicTransformTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicTransformTool", function() { return G; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/HandleOwner.js */ "kJYu");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../geometry/Point.js */ "SuVq");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../manipulatorUtils.js */ "dK/y");
/* harmony import */ var _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../SnappingVisualizer3D.js */ "/rov");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../manipulatorUtils.js */ "H4cX");
/* harmony import */ var _visualElementUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../visualElementUtils.js */ "gwGW");
/* harmony import */ var _manipulations_config_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../manipulations/config.js */ "UcZh");
/* harmony import */ var _manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../manipulations/MoveManipulation.js */ "ss8a");
/* harmony import */ var _GraphicScaleRotateTransform_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./GraphicScaleRotateTransform.js */ "wNh0");
/* harmony import */ var _ScaleRotateMeshAdapter_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./ScaleRotateMeshAdapter.js */ "jbgK");
/* harmony import */ var _ScaleRotateObjectSymbol3DAdapter_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ScaleRotateObjectSymbol3DAdapter.js */ "QzCg");
/* harmony import */ var _undoRecords_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./undoRecords.js */ "lLp8");
/* harmony import */ var _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../layers/graphics/GraphicState.js */ "p9ZE");
/* harmony import */ var _interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../interactive/InteractiveToolBase.js */ "R3Kl");
/* harmony import */ var _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../interactive/editGeometry/EditGeometryOperations.js */ "LI85");
/* harmony import */ var _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../interactive/snapping/SnappingContext.js */ "Hxwb");
/* harmony import */ var _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../interactive/snapping/SnappingDragPipelineStep.js */ "ihms");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let G=class extends(Object(_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_2__["HandleOwnerMixin"])(_core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"].EventedMixin(_interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_24__["InteractiveToolBase"]))){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this.type="transform-3d",this.scaleRotate=null,this.snappingPipeline=new _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_27__["SnappingPipeline"]}initialize(){this.graphicState=new _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_23__["GraphicState"]({graphic:this.graphic}),this.moveManipulation=new _manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_18__["MoveManipulation"]({tool:this,view:this.view,snapToScene:this.snapToScene,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZ&&Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_15__["canMoveZ"])(this.graphic),radius:_manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_18__["MoveManipulation"].radiusForSymbol(this.graphic.symbol)}),this.moveManipulation.forEachManipulator((t=>this.handles.add(t.events.on("immediate-click",(t=>{this.emit("immediate-click",{...t,graphic:this.graphicState.graphic}),t.stopPropagation()}))))),this.moveManipulation.elevationInfo=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__["getGraphicEffectiveElevationInfo"])(this.graphic);const t=this.graphic.geometry;if(this.moveManipulation.createGraphicDragPipeline(((e,a,i,n,s)=>(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(t)&&0===e&&(i=i.next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:new _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_26__["SnappingContext"]({elevationInfo:Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_11__["getGraphicEffectiveElevationInfo"])(this.graphic),pointer:s,editGeometryOperations:_interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_25__["EditGeometryOperations"].fromGeometry(new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_10__["default"]({spatialReference:t.spatialReference}),this.view.state.viewingMode),visualizer:new _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_14__["SnappingVisualizer3D"],excludeFeature:this.graphic}),snappingManager:this.snappingManager,updatingHandles:this.updatingHandles,cancel:n}),this.snappingPipeline.next)),i)),this.graphicState,(t=>{const{action:e,graphic:a,dxScreen:i,dyScreen:o}=t,n={graphic:a,dxScreen:i,dyScreen:o};switch(e){case"start":this.emit("graphic-translate-start",n),this.emit("record-undo",{record:this.createGeometryUndoRecord()});break;case"update":this.emit("graphic-translate",n);break;case"end":this.emit("graphic-translate-stop",n)}})),this.moveManipulation.angle=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this.scaleRotate)?this.scaleRotate.angle:0,this.scaleRotateAdapter=this.createScaleRotateAdapter(),this.handles.add(this.scaleRotateAdapter.watch("angle",(()=>this.updateMoveAngle()))),this.enableScaling||this.enableRotation){const t=this.enableScaling&&this.enableRotation?null:this.enableScaling?"scale":"rotate";this.scaleRotate=new _GraphicScaleRotateTransform_js__WEBPACK_IMPORTED_MODULE_19__["GraphicScaleRotateTransform"]({tool:this,mode:t,adapter:this.scaleRotateAdapter}),this.handles.add(this.scaleRotate.events.on("scale-changed",(()=>this.onScaleChanged())))}this.handles.add([Object(_visualElementUtils_js__WEBPACK_IMPORTED_MODULE_16__["createVisualElements"])({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__["makeHandle"])()}),this.graphicState.on("changed",(()=>this.onGeometryChanged())),this.hideManipulatorsForGraphicState(),this.view.watch("scale",(()=>this.updateMoveAngle()))]),this.handles.add(this.view.trackGraphicState(this.graphicState)),this.onGeometryChanged(),this.updateMoveAngle(),this.forEachManipulator((t=>{t instanceof _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_12__["Manipulator3D"]&&this.handles.add(t.events.on("grab-changed",(()=>this.updateManipulatorsInteractive())))})),this.complete()}updateManipulatorsInteractive(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(this.scaleRotate)||(this.scaleRotate.interactive=!this.moveManipulation.grabbing,this.moveManipulation.interactive=!this.scaleRotate.grabbing)}createScaleRotateAdapter(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this.graphic.geometry)&&"mesh"===this.graphic.geometry.type?new _ScaleRotateMeshAdapter_js__WEBPACK_IMPORTED_MODULE_20__["ScaleRotateMeshAdapter"]({graphic:this.graphic,geometry:this.graphic.geometry,viewingMode:this.view.state.viewingMode}):new _ScaleRotateObjectSymbol3DAdapter_js__WEBPACK_IMPORTED_MODULE_21__["ScaleRotateObjectSymbol3DAdapter"]({graphic:this.graphic,sizeFilter:t=>this.enforceNonZeroSize(t),findLayerView:()=>this.view.allLayerViews.find((t=>t.layer===this.graphic.layer))})}forEachManipulator(t){this.moveManipulation.forEachManipulator(t),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this.scaleRotate)&&this.scaleRotate.forEachManipulator(t)}hideManipulatorsForGraphicState(){return this.graphicState.watch("displaying",(t=>{this.forEachManipulator((e=>e.available=t)),this.moveManipulation.zManipulation.available=t&&this.enableZ&&Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_15__["canMoveZ"])(this.graphic)}))}createGeometryUndoRecord(){return Object(_undoRecords_js__WEBPACK_IMPORTED_MODULE_22__["createGraphicGeometryUndoRecord"])(this.graphic)}destroy(){this.moveManipulation.destroy(),this.scaleRotate=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["destroyMaybe"])(this.scaleRotate),this.scaleRotateAdapter=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["destroyMaybe"])(this.scaleRotateAdapter),this._set("view",null),this._set("graphic",null)}set snapToScene(t){this.moveManipulation&&(this.moveManipulation.snapToScene=t),this._set("snapToScene",t)}get updating(){return this.updatingHandles.updating}set location(t){this.moveManipulation.location=t,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this.scaleRotate)&&(this.scaleRotate.location=t)}set elevationAlignedLocation(t){this.moveManipulation.elevationAlignedLocation=t,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this.scaleRotate)&&(this.scaleRotate.elevationAlignedLocation=t)}reset(){}onDetach(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onHide(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this.scaleRotate)&&this.scaleRotate.cancelActiveAnimation()}onScaleChanged(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(this.scaleRotate))return;const t=this.scaleRotate.getScale();this.moveManipulation.displayScale=t}updateMoveAngle(){2===this.view.state.viewingMode||this.view.scale<_manipulations_config_js__WEBPACK_IMPORTED_MODULE_17__["ALIGN_ARROWS_SCALE_THRESHOLD"]?this.moveManipulation.angle=this.scaleRotateAdapter.angle:this.moveManipulation.angle=0}onGeometryChanged(){Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_13__["placeAtGraphic"])(this.view,this,this.graphic)}enforceNonZeroSize(t){return t||this.view.state.camera.computeRenderPixelSizeAt(this.moveManipulation.renderLocation)}get test(){return{discManipulator:this.moveManipulation.xyManipulation.test.discManipulator,zManipulator:this.moveManipulation.zManipulation.test.manipulator,ringManipulator:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this.scaleRotate)?this.scaleRotate.test.ringManipulator:null,arrowManipulators:this.moveManipulation.xyAxisManipulation.test.arrowManipulators}}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],G.prototype,"view",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],G.prototype,"graphic",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],G.prototype,"enableZ",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],G.prototype,"enableRotation",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],G.prototype,"enableScaling",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({value:!1})],G.prototype,"snapToScene",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],G.prototype,"snappingManager",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({readOnly:!0})],G.prototype,"type",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({readOnly:!0})],G.prototype,"updating",null),G=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__["subclass"])("esri.views.3d.interactive.editingTools.graphicTransform3D.GraphicTransformTool")],G);


/***/ }),

/***/ "2WkI":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/settings.js ***!
  \*********************************************************************************/
/*! exports provided: VertexManipulatorStyle, colors, settings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VertexManipulatorStyle", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "colors", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "settings", function() { return A; });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../Color.js */ "nvBr");
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/colorUtils.js */ "0ynT");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ "D8Ta");
/* harmony import */ var _webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/materials/lineStippleUtils.js */ "NUQ5");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const s={main:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([255,127,0]),selected:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([255,255,255]),staged:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([12,207,255]),outline:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([0,0,0,.5]),selectedOutline:new _Color_js__WEBPACK_IMPORTED_MODULE_0__["default"]([255,255,255])},n=.3;function r(t,e){const i=t.clone();return i.a*=e,i}function h(t,o){const l=t.clone(),s=Object(_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__["toHSV"])(l);s.s*=o;const n=Object(_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_1__["toRGB"])(s);return l.r=n.r,l.g=n.g,l.b=n.b,l}function c(t,e){if(e)for(const i in e)t[i]=e[i]}class a{constructor(t){this.color=s.main,this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,c(this,t)}}class d{constructor(t){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=s.main,this.outlineColor=s.outline,this.renderOccluded=16,this.hoverOutlineColor=s.selectedOutline,c(this,t)}apply(t,e){const i=this[t];e.setParameters({color:b(i),transparent:"color"!==t||i.a<1,renderOccluded:this.renderOccluded})}}class u{constructor(t){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.color=r(s.main,.5),this.hoverColor=s.main,this.renderOccluded=2,this.minSquaredEdgeLength=900,c(this,t)}apply(t,e){const i=this[t];e.setParameters({color:b(i),transparent:i.a<1,renderOccluded:this.renderOccluded})}}class p{constructor(t){this.vertex=new d({color:s.main,outlineColor:s.outline}),this.edge=new d({color:h(r(s.main,2/3),.5),outlineColor:r(s.outline,.5),size:8,collisionPadding:8}),this.selected=new d({color:s.selected,outlineColor:s.outline}),this.edgeOffset=new u,c(this,t)}}class g{constructor(t){this.color=s.selected,this.width=1.5,this.stipplePattern=Object(_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_3__["createStipplePatternSimple"])(5),this.stippleOffColor=s.outline,this.falloff=0,this.innerWidth=1.5,this.innerColor=s.selected,this.renderOccluded=4,c(this,t)}apply(t){t.color=b(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=b(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=b(this.innerColor),t.renderOccluded=this.renderOccluded}}class w{constructor(t){this.color=s.selected,this.size=4,this.outlineSize=1,this.outlineColor=s.outline,this.shape="square",c(this,t)}apply(t){t.color=b(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=b(this.outlineColor),t.primitive=this.shape}}class f{constructor(t){this.innerColor=s.selected,this.innerWidth=1,this.glowColor=s.main,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=n,this.globalAlphaContrastBoost=1.5,this.radius=3,this.heightFillColor=s.main,c(this,t)}apply(e,i=1){const o={glowColor:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*i,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in e?e.style=o:e.laserlineStyle=o}}class C{constructor(t){this.outline=new g({color:s.outline,renderOccluded:8,stippleOffColor:s.selected,stipplePattern:Object(_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_3__["createStipplePatternSimple"])(5),width:1.5,innerWidth:0}),this.staged=new g({color:s.selected,renderOccluded:8,innerColor:s.staged,stippleOffColor:s.outline,stipplePattern:Object(_webgl_engine_materials_lineStippleUtils_js__WEBPACK_IMPORTED_MODULE_3__["createStipplePatternSimple"])(5),width:1.5}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),c(this,t)}}class m{constructor(t){this.outline=new w({color:s.selected,outlineColor:s.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new f({globalAlpha:n,glowColor:s.main,glowFalloff:1.5,glowWidth:6,innerColor:s.selected,innerWidth:1,radius:2}),c(this,t)}}class O extends g{constructor(t){super(),this.extensionType=2,c(this,t)}}class W{constructor(t){this.lineGraphics=new C,this.pointGraphics=new m,this.heightPlane=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:1}),this.heightBox=new f({globalAlpha:n,glowColor:s.main,glowFalloff:8,glowWidth:8,innerColor:s.selected,innerWidth:0,heightFillColor:s.main}),this.zVerticalLine=new O({color:r(s.main,5*n/3),falloff:2,innerColor:r(s.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2}),this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,c(this,t)}}class z{constructor(t){this.visualElements=new W,this.reshapeManipulators=new p,this.zManipulator=new a,c(this,t)}colorToVec4(t){return b(t)}}function b(e){return Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_2__["d"])(_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(e))}const A=new z;


/***/ }),

/***/ "3WMd":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElementResources.js ***!
  \*************************************************************************************************/
/*! exports provided: VisualElementResources */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VisualElementResources", function() { return o; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/watchUtils.js */ "N5XI");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "WiJz");
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../webgl-engine/lib/WebGLLayer.js */ "dI/Q");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class o{constructor(e){this.resourceFactory=e,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._resources)?this._resources.object:null}get resources(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._resources)?this._resources.external:null}get visible(){return this._visible}set visible(e){e!==this._visible&&(this._visible=e,this._syncVisible())}get attached(){return this._attached}set attached(e){e!==this._attached&&(this._attached=e,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this.resourceFactory.recreateGeometry)return void this.recreate();const e=this.resourceFactory.view._stage;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._resources)||!e)return;const r=this._resources.object;this._resources.external.forEach((s=>{2===s.type&&e.remove(s)})),r.removeAllGeometries();const t=this.resourceFactory.recreateGeometry(this._resources.external,r,this._resources.layer);e.addMany(t)}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const e=this.resourceFactory.view._stage;if(!e)return;const s=new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_3__["WebGLLayer"]({isPickable:!1,updatePolicy:1});e.add(s);const o=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_2__["Object3D"]({castShadow:!1}),i=this.resourceFactory.createResources(o,s);i.forEach((s=>e.add(s))),e.add(o),s.add(o),this._syncVisible();const a=this.resourceFactory.cameraChanged?Object(_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_1__["init"])(this.resourceFactory.view.state,"camera",(e=>this.resourceFactory.cameraChanged(e))):null;this._resources={layer:s,object:o,external:i,cameraHandle:a}}_destroyResources(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._resources))return;const e=this.resourceFactory.view._stage;null==e||e.remove(this._resources.object),null==e||e.remove(this._resources.layer),this._resources.external.forEach((s=>{null==e||e.remove(s),"dispose"in s&&s.dispose()})),this._resources.object.dispose(),this._resources.cameraHandle&&this._resources.cameraHandle.remove(),this._resources=null}_syncVisible(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._resources)||this._resources.object.setVisible(this._visible)}}


/***/ }),

/***/ "4SII":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/tilt-rotate-png.js ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return D; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACtVBMVEUAAAD/AAD/gAD/VQD/gAD/gAD/bQD/gAD/cQD/gAD/dAD/gAD/gAD/eAD/gAD/eQD/gAD/egD/gAD/ewD/fAD/gAD/gAD/fAD/gAD/fQD/fQD/gAD/fQD/egD/fQD/gAD/egD/fQD/gAD/ewD/gAD/ewD/gAD/ewD/fQD/fQD/gAD/ewD/fQD/gAD/fAD/gAD/fAD/fgD/gAD/fAD/fgD/fAD/fgD/gAD/fAD/fgD/fAD/fgD/fQD/fQD/fgD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fQD/fgD/gAL/fgD/gAb/gAT/gwr/hAz/hxH/hQ//iBX/iBP/ixn/iRf/jBr/jR7/jyP/jyL/kif/kCX/kyr/lS7/lCz/ljH/li//mTX/nDr/mjn/nTz/oEL/okf/o0r/pU3/pU7/qFL/plH/qFX/q1j/q1r/rl7/sGL/rmH/s2v/tW//tW7/t3L/uHL/unb/unf/vHv/vX3/v4D/vX7/v4D/wYT/v4L/wYX/x4//x5H/yZX/y5n/zZv/y5n/zJv/zZ3/zp//0aL/z6H/1Kr/1av/06r/1q//17H/2bT/2LP/2rb/27n/3bz/3r7/37//4MH/38D/4ML/4sX/4sb/4sf/48n/5cv/48r/5cz/5s7/6dT/6tb/69j/69n/7Nn/7dv/7dz/7t7/7t3/7+H/7+D/7+H/8eL/8uX/8uX/8ub/8+j/8+f/9On/9er/9Or/9ez/9e3/9ez/9u7/9e3/9+//9+7/+PD/+PH/+fT/+fL/+vb/+vX/+vb/+/f/+vb//Pn/+/j//Pr//Pn//fv//Pr//fv//v3//fz//////v7//v3///8ZYzD6AAAA5nRSTlMAAQIDBAYHCAkKCwwQERITGBkaGyUmKCkqKy0uLzAxMjIzNDQ2Njg4OTs+Pj9AQEJCQ0RERUZHUlJTVFVWWFlfYGFiY2RlZmdoaWprbG1ucHFyc3R1dnd4eXp8f4CAgYGCg4SEhYWGhoeIiYmKiouMjI2Nj5CQkZOUlZaXmJiZmpudnp6io6OkpaanqKmqqqusrK2xs7W2t7e4ubq7u7/AwMLExcXGyMrLzM3NztDR0tPU1NXW29zd3t/g4eLi5OTl5ufo6erq6+zs7e7u7+/w8PHy9PT29vf4+Pn5+vr7+/z9/f7+/pNrFTEAAAO8SURBVHjaldf5W1RVGAfwl4kGxa2yIDPbF82EJhkVUEOiUiDMcJa482XCijStNLLVpoWCbLHFaZUoMSkq2wgtW8mobFcryiiWkffv6J557jh3zj33zvD56f3h3vM873nP+z7nkJ3cPE9JxdX+OgSWX15aMG0CjcnUoiuRSls2byplyH1eDZSqZrkz+d0ThC1/QQ45c521Eo58p5GTSZcirbIpZGtGEBkI5pNaVhEyo3mzSCF7ITJW7CKLYxbDTsPG5qe33QezxdkkySqGndYY615CilI5Cy9sRVjYgVRzKcXJGmzdwsKHkEwnkylB2AsNse5zSIITKWkJnPzCut8gW5IsxRlw9CnrRuohO5MM43xw9D4Lt0JWm2jOOXD2Ogv3w6LQaGA/nL3AwuOwCLpJmIU0nmDheVidQ0IV0niAhQ5YVcfnH2zcCMNtLLwHheOJaB5s7OxuQlx4hHV7oeAhokrYaOeBjkYIv7LuJyhUEU3QYONFZj4YrQfwGeuGQrDSxtM0KK2N7h5koa8V+ICFdVA4SX2Kbt5xmA2j7SHsZGETFOZQqarwhzjhUAuAl1nYDIUFdAVkoe0s/LiLmT9eD91TLDwHhXJaDtmbrPvyEWzg4dfCEB5kYTsUrqIgJK8w8/C2MHDDgWYgromFXVDwkQbDRsRFhpkHWyHcBMO1oyzSgcI1VGdEd8V6o6uA8D7m2BZIDrJuPxTqKGBEnczc33nHFmZ+A7IvWDegTmEF4lb1s3Dk+wH+oxGyj1hYC6saqkDcVk74u6cJsk4W7oXVZVSCuK84aXTP5pBcGeFRWM2nQmMPOw+zyQ9t62DyLAtRWM2mPBgao1+zyVD3wyEkPMTCq7DKo/Gmdo50DbDJd22JbbudhXdgoeUSVcNkTfRbNvnv3U0QGmKs2w2LpUR0MVI1d4+wSW/0egC/i7APFkXKobq+7Wc2+avrHvSK4B/1UKUaWNQ/1nOEk2Kf7GdhNSTLSDgfKhvaDrDsbkhmkuAOQKnhmb2cqkVuBDfFeWDnzo4/2WQrUl2QuB7XwtZ1T+7ho9qRYmUOGc6Gk8hb/xoLvI0Up1KCqxyOVkf3sdADs0soaVIQaUS6Bpm/gUlgMplMR1pron39SNLyKcVcpBduCQMJXpLMx5gsdJEkexHGYJGLLFzFyFhJNilkeTVkxkM28oPIQOAUsjW5DGmVTSQnM3xwVHt6FjnLudAPW4GLMnq7zqyEUvW5x1KGTvAulSqiVRYeR2OSmz+7uKLGpwX8K8oXFJw4zu67/wFaspwc84wT2QAAAABJRU5ErkJggg==";


/***/ }),

/***/ "6mdJ":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js ***!
  \*******************************************************************************************/
/*! exports provided: LaserlinePathTechnique, LaserlinePathTechniqueConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LaserlinePathTechnique", function() { return p; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LaserlinePathTechniqueConfiguration", function() { return g; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "w6Td");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "ypgp");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "2jVe");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Program.js */ "yCmR");
/* harmony import */ var _chunks_LaserlinePath_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/LaserlinePath.glsl.js */ "VtYq");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "GJyJ");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class p extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_4__["ShaderTechnique"]{initializeProgram(r){const o=p.shader.get(),t=this.configuration,i=o.build(t);return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__["Program"](r.rctx,i,p.attributeLocations)}bind(r,t,i){this.program.setUniform3fv("innerColor",r.innerColor),this.program.setUniform1f("innerWidth",r.innerWidth*i.pixelRatio),this.program.setUniform3fv("glowColor",r.glowColor),this.program.setUniform1f("glowWidth",r.glowWidth*i.pixelRatio),this.program.setUniform1f("glowFalloff",r.glowFalloff),this.program.setUniform1f("globalAlpha",r.globalAlpha),this.program.setUniform1f("perScreenPixelRatio",i.perScreenPixelRatio),this.program.setUniform2f("pixelToNDC",2/i.fullWidth,2/i.fullHeight),this.program.setUniformMatrix4fv("uProjectionMatrix",i.projectionMatrix),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__["a"])(c,i.viewMatrix,t),this.program.setUniformMatrix4fv("uModelViewMatrix",c),this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=r.globalAlphaContrastBoost?r.globalAlphaContrastBoost:1)}initializePipeline(){return Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_8__["makePipelineState"])({blending:Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_8__["simpleBlendingParams"])(1,771),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_8__["defaultColorWriteParams"]})}}p.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_3__["ReloadableShaderModule"](_chunks_LaserlinePath_glsl_js__WEBPACK_IMPORTED_MODULE_7__["L"],(()=>__webpack_require__.e(/*! import() | LaserlinePath-glsl-js */ "LaserlinePath-glsl-js").then(__webpack_require__.bind(null, /*! ./LaserlinePath.glsl.js */ "9XiL")))),p.attributeLocations=new Map([["start",0],["end",1],["up",2],["extrude",3]]);class g extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__["ShaderTechniqueConfiguration"]{constructor(){super(...arguments),this.contrastControlEnabled=!1}}Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_5__["parameter"])()],g.prototype,"contrastControlEnabled",void 0);const c=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])();


/***/ }),

/***/ "6pmL":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/edgeOffsetUtils.js ***!
  \*******************************************************************************************************/
/*! exports provided: createEdgeOffsetIntersectionPlane, createEdgeOffsetOperation, edgeOffsetRotationMatrix, screenEdgeLengthSquared */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEdgeOffsetIntersectionPlane", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createEdgeOffsetOperation", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "edgeOffsetRotationMatrix", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screenEdgeLengthSquared", function() { return C; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../geometry/support/plane.js */ "colF");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../layers/graphics/dehydratedFeatures.js */ "GlSV");
/* harmony import */ var _interactive_editGeometry_operations_OffsetEdgeVertex_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../interactive/editGeometry/operations/OffsetEdgeVertex.js */ "VBSu");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function l(e,r,o){const n="on-the-ground"===o.mode?1:0;return new _interactive_editGeometry_operations_OffsetEdgeVertex_js__WEBPACK_IMPORTED_MODULE_7__["OffsetEdgeVertex"](e,n,r,0)}function j(r,o,n){const s=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])();if(!r.renderCoordsHelper.toRenderCoords(o,s))return null;const c=h(r,o,Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__["normal"])(n.plane)),i=h(r,o,n.edgeDirection);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(c)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(i))return null;const u=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["c"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),c,i);return Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__["fromPositionAndNormal"])(s,u,Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__["create"])())}function h(e,r,o){const n=Object(_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_6__["makeDehydratedPoint"])(r.x+o[0],r.y+o[1],r.z+o[2],r.spatialReference),t=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),c=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])();return e.renderCoordsHelper.toRenderCoords(r,t)&&e.renderCoordsHelper.toRenderCoords(n,c)?Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["r"])(c,t,c):null}function y(e,r,o){const c=Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__["normal"])(e),i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["r"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),r,o),p=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["c"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),i,c),m=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["c"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),i,p);return Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__["f"])(i[0],i[1],i[2],0,p[0],p[1],p[2],0,m[0],m[1],m[2],0,0,0,0,1)}function C(e,n,t){const s=t.projectToRenderScreen(e,Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["createRenderScreenPointArray3"])()),d=t.projectToRenderScreen(n,Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["createRenderScreenPointArray3"])());return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(s)&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(d)?Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["p"])(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["f"])(s,s,d)):0}


/***/ }),

/***/ "7pFG":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js ***!
  \*******************************************************************************************/
/*! exports provided: ImageMaterialTechnique, ImageMaterialTechniqueConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageMaterialTechnique", function() { return E; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageMaterialTechniqueConfiguration", function() { return O; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderLibrary/Slice.glsl.js */ "0nJL");
/* harmony import */ var _core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ "xtdb");
/* harmony import */ var _core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/util/View.glsl.js */ "jpeq");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "w6Td");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "ypgp");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "2jVe");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "+h6m");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "dDjh");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/Program.js */ "yCmR");
/* harmony import */ var _lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/StencilUtils.js */ "h7dw");
/* harmony import */ var _chunks_ImageMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/ImageMaterial.glsl.js */ "89mX");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "GJyJ");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class E extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_5__["ShaderTechnique"]{initializeProgram(e){const t=E.shader.get(),r=this.configuration,i=t.build({output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===r.transparencyPassType,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_9__["Program"](e.rctx,i,_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_7__["Default3D"])}bindPass(e,t){Object(_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_3__["bindProjectionMatrix"])(this.program,t.camera.projectionMatrix),this.program.setUniform1f("opacity",e.opacity),t.multipassTerrainEnabled&&(this.program.setUniform2fv("cameraNearFar",t.camera.nearFar),this.program.setUniform2fv("inverseViewport",t.inverseViewport),Object(_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_2__["bindMultipassTerrainTexture"])(this.program,t))}bindDraw(e){Object(_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_3__["bindView"])(this.program,e),Object(_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__["bindSliceUniformsWithOrigin"])(this.program,this.configuration,e),this.program.rebindTextures()}setPipelineState(e,t){const r=this.configuration,i=3===e,s=2===e;return Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["makePipelineState"])({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?w:Object(_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__["OITBlending"])(e),culling:Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["cullingParams"])(r.cullFace),depthTest:{func:Object(_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__["OITDepthTest"])(e)},depthWrite:i?r.writeDepth&&_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["defaultDepthWriteParams"]:Object(_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__["OITDepthWrite"])(e),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["defaultColorWriteParams"],stencilWrite:r.sceneHasOcludees?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_10__["stencilWriteMaskOn"]:null,stencilTest:r.sceneHasOcludees?t?_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_10__["stencilToolMaskBaseParams"]:_lib_StencilUtils_js__WEBPACK_IMPORTED_MODULE_10__["stencilBaseAllZerosParams"]:null,polygonOffset:i||s?null:Object(_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_8__["getOITPolygonOffset"])(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}E.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_4__["ReloadableShaderModule"](_chunks_ImageMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_11__["I"],(()=>__webpack_require__.e(/*! import() | ImageMaterial-glsl-js */ "ImageMaterial-glsl-js").then(__webpack_require__.bind(null, /*! ./ImageMaterial.glsl.js */ "wFaR"))));const w=Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["simpleBlendingParams"])(1,771);class O extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["ShaderTechniqueConfiguration"]{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])({count:8})],O.prototype,"output",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])({count:3})],O.prototype,"cullFace",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])()],O.prototype,"slicePlaneEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])()],O.prototype,"transparent",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])()],O.prototype,"enableOffset",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])()],O.prototype,"writeDepth",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])()],O.prototype,"sceneHasOcludees",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])({count:4})],O.prototype,"transparencyPassType",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])()],O.prototype,"multipassTerrainEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_6__["parameter"])()],O.prototype,"cullAboveGround",void 0);


/***/ }),

/***/ "89mX":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js ***!
  \****************************************************************/
/*! exports provided: I, b */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "I", function() { return n; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return s; });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "0nJL");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "Tbkp");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js */ "0Ect");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ "xtdb");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js */ "69UF");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "Q3fD");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "OIYi");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "aQrP");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function s(s){const n=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_7__["ShaderBuilder"];return n.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_1__["Transform"],{linearDepth:!1}),n.vertex.uniforms.add("proj","mat4").add("view","mat4"),n.attributes.add("position","vec3"),n.attributes.add("uv0","vec2"),n.varyings.add("vpos","vec3"),s.multipassTerrainEnabled&&n.varyings.add("depth","float"),n.vertex.uniforms.add("textureCoordinateScaleFactor","vec2"),n.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__["glsl"]`
    void main(void) {
      vpos = position;
      ${s.multipassTerrainEnabled?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0 * textureCoordinateScaleFactor;
      gl_Position = transformPosition(proj, view, vpos);
    }
  `),n.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_0__["Slice"],s),s.multipassTerrainEnabled&&(n.fragment.include(_views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_2__["ReadLinearDepth"]),n.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__["multipassTerrainTest"],s)),n.fragment.uniforms.add("tex","sampler2D"),n.fragment.uniforms.add("opacity","float"),n.varyings.add("vTexCoord","vec2"),7===s.output?n.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__["glsl"]`
    void main() {
      discardBySlice(vpos);
      ${s.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}

      float alpha = texture2D(tex, vTexCoord).a * opacity;
      if (alpha  < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__["glsl"].float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_4__["defaultMaskAlphaCutoff"])}) {
        discard;
      }

      gl_FragColor = vec4(alpha);
    }
    `):(n.fragment.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__["ColorConversion"]),n.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__["glsl"]`
    void main() {
      discardBySlice(vpos);
      ${s.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
      gl_FragColor = texture2D(tex, vTexCoord) * opacity;

      if (gl_FragColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__["glsl"].float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_4__["defaultMaskAlphaCutoff"])}) {
        discard;
      }

      gl_FragColor = highlightSlice(gl_FragColor, vpos);
      ${s.OITEnabled?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}
    }
    `)),n}const n=Object.freeze({__proto__:null,build:s});


/***/ }),

/***/ "97qS":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/moveGraphic/GraphicMoveTool.js ***!
  \****************************************************************************************************/
/*! exports provided: GraphicMoveEvent, GraphicMoveStartEvent, GraphicMoveStopEvent, GraphicMoveTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicMoveEvent", function() { return z; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicMoveStartEvent", function() { return O; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicMoveStopEvent", function() { return H; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicMoveTool", function() { return X; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Collection.js */ "LE9a");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/HandleOwner.js */ "kJYu");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../layers/graphics/dehydratedFeatures.js */ "GlSV");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../manipulatorUtils.js */ "dK/y");
/* harmony import */ var _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../SnappingVisualizer3D.js */ "/rov");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../manipulatorUtils.js */ "H4cX");
/* harmony import */ var _visualElementUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../visualElementUtils.js */ "gwGW");
/* harmony import */ var _manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../manipulations/config.js */ "UcZh");
/* harmony import */ var _manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../manipulations/MoveManipulation.js */ "ss8a");
/* harmony import */ var _manipulations_moveUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../manipulations/moveUtils.js */ "22x+");
/* harmony import */ var _manipulations_MoveXYGraphicManipulation_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../manipulations/MoveXYGraphicManipulation.js */ "rL7w");
/* harmony import */ var _isSupportedGraphic_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./isSupportedGraphic.js */ "JD/0");
/* harmony import */ var _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../visualElements/OutlineVisualElement.js */ "RPp6");
/* harmony import */ var _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../layers/graphics/GraphicState.js */ "p9ZE");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/* harmony import */ var _interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../interactive/InteractiveToolBase.js */ "R3Kl");
/* harmony import */ var _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../interactive/editGeometry/EditGeometryOperations.js */ "LI85");
/* harmony import */ var _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../interactive/snapping/SnappingContext.js */ "Hxwb");
/* harmony import */ var _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../interactive/snapping/SnappingDragPipelineStep.js */ "ihms");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class O{constructor(t){this.allGraphics=t,this.type="graphic-move-start"}}class z{constructor(t,e,i){this.dx=t,this.dy=e,this.allGraphics=i,this.type="graphic-move"}}class H{constructor(t){this.allGraphics=t,this.type="graphic-move-stop"}}let X=class extends(Object(_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__["HandleOwnerMixin"])(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_26__["InteractiveToolBase"]))){constructor(t){super(t),this.graphics=new _core_Collection_js__WEBPACK_IMPORTED_MODULE_1__["default"],this.enableZ=!0,this.type="move-3d",this._toolHandles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_4__["default"],this.snappingPipeline=new _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_29__["SnappingPipeline"]}initialize(){this._toolHandles.add([this.graphics.on("change",(()=>this._refreshManipulators()))]),this._refreshManipulators(),this.complete()}destroy(){this._toolHandles.destroy(),this._toolHandles=null,this.graphics.removeAll(),this._set("view",null)}get updating(){return this.updatingHandles.updating}reset(){}_refreshManipulators(){this.handles.removeAll(),this._moveManipulation&&this._moveManipulation.destroy(),this.manipulators.removeAll();const t=this.graphics.toArray().filter((t=>0===Object(_isSupportedGraphic_js__WEBPACK_IMPORTED_MODULE_22__["isSupportedGraphic"])(t))).map((t=>new Y(t)));t.length&&(this.createManipulators(t),this.createVisualElements(t),this.handles.add(t.map((t=>this.view.trackGraphicState(t.state)))),this.updateMoveManipulation(t))}createManipulators(t){for(const e of t){const i=e.state;e.manipulationXY=new _manipulations_MoveXYGraphicManipulation_js__WEBPACK_IMPORTED_MODULE_21__["MoveXYGraphicManipulation"]({tool:this,view:this.view,graphicState:i}),e.manipulationXY.forEachManipulator((t=>this.handles.add(t.events.on("immediate-click",(t=>{this.emit("immediate-click",{...t,graphic:i.graphic}),t.stopPropagation()}))))),this.handles.add(e.manipulationXY.createDragPipeline(((e,i,a,n)=>this.buildDragEventPipeline(t,0,e,i,a,n))))}this.createMoveManipulation(t)}createMoveManipulation(t){const e=new _manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_19__["MoveManipulation"]({tool:this,view:this.view,snapToScene:!1,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:!0,radius:1===t.length?_manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_19__["MoveManipulation"].radiusForSymbol(t[0].graphic.symbol):_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["DISC_RADIUS"]});this._moveManipulation=e,e.elevationInfo={mode:"absolute-height",offset:0},e.forEachManipulator((t=>{this.handles.add(t.events.on("immediate-click",(i=>{e.zManipulation.hasManipulator(t)||1!==this.graphics.length||this.emit("immediate-click",{...i,graphic:this.graphics.getItemAt(0)}),i.stopPropagation()})))}));const i=()=>this.updateMoveManipulation(t);for(const n of t)this.handles.add([n.state.on("changed",i),n.state.watch("displaying",i)]);const a=t[t.length-1];this.handles.add(a.state.on("changed",(()=>this.updateMoveManipulationAngle(a)))),this.handles.add(e.createDragPipeline(((e,i,a,n,o)=>this.buildDragEventPipeline(t,e,i,a,n,o)),Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_13__["getGraphicEffectiveElevationInfo"])(a.graphic),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(a.graphic.geometry).spatialReference,a.graphic)),this.updateMoveManipulationAngle(a)}createVisualElements(t){for(const e of t){const i=e.graphic,a=Object(_visualElementUtils_js__WEBPACK_IMPORTED_MODULE_17__["createVisualElements"])({view:this.view,graphic:i,forEachManipulator:t=>{e.manipulationXY.forEachManipulator(t),this._moveManipulation.forEachManipulator(t)},onManipulatorsChanged:()=>Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__["makeHandle"])()});Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(a)||(e.geometryRepresentation=a.visualElement,e.geometryRepresentation instanceof _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_23__["OutlineVisualElement"]&&this.handles.add([e.geometryRepresentation.events.on("attachment-origin-changed",(()=>{e.state.isDraped||this.updateMoveManipulation(t)})),e.state.watch("isDraped",(()=>this.updateMoveManipulation(t)))]),this.handles.add(a))}}updateMoveManipulationAngle(t){this._moveManipulation.angleDeferred=()=>Object(_manipulations_moveUtils_js__WEBPACK_IMPORTED_MODULE_20__["shapeOrientation"])(t.graphic.geometry)}updateMoveManipulation(t){const e=Object(_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_12__["makeDehydratedPoint"])(0,0,0,this.view.spatialReference);let i=0,a=!1;const n=this._moveManipulation;for(const o of t){if(!o.state.displaying)continue;const t=o.state.graphic;this.enableZ&&Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_16__["canMoveZ"])(t)&&(a=!0);const n=o.geometryRepresentation instanceof _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_23__["OutlineVisualElement"]&&!o.state.isDraped?o.geometryRepresentation.attachmentOrigin:Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_14__["getGraphicAttachmentOrigin"])(this.view,t);Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(n)&&(e.x+=n.x,e.y+=n.y,e.z+=n.z,i++)}i>0?(e.x/=i,e.y/=i,e.z/=i,n.location=e,n.xyManipulation.available=!0,n.xyAxisManipulation.available=!0,n.zManipulation.available=a):n.available=!1}buildDragEventPipeline(t,e,i,a,n,o){const s=[],r=[];let p=null,l=null;const h=()=>{for(const t of s)t.dragging=!1;s.length=0,r.length=0,p=null,l=null,this._moveManipulation.interactive=!0};if(1===t.length&&0===e){const e=t[0].graphic;a=this.buildSnappingPipelineSteps(e,Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_13__["getGraphicEffectiveElevationInfo"])(e),a,n,o)}const c=a.next((e=>{if("start"===e.action){s.length=0,r.length=0;for(const e of t)e.dragging||!e.manipulationXY.hasManipulator(i)&&e.manipulationXY.grabbing||(s.push(e),r.push(e.graphic),e.dragging=!0);if(0!==r.length&&(this._moveManipulation.interactive=!1,p=Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_25__["dragGraphicMany"])(r,this.view.state.viewingMode),l=Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_25__["resetGraphicMany"])(r),this.emit("graphic-move-start",new O(r)),this.destroyed))return null}return 0!==r.length?e:null})).next((t=>p(t))).next((t=>{switch(t.action){case"start":case"update":if(t.translationX||t.translationY||t.translationZ){const e=this.view.toScreen(t.mapStart),i=this.view.toScreen(t.mapEnd),a=i.x-e.x,n=i.y-e.y;if(this.emit("graphic-move",new z(a,n,r)),this.destroyed)return null}break;case"end":if(this.emit("graphic-move-stop",new H(r)),this.destroyed)return null;h()}}));return n.next((t=>l(t))).next((()=>{if(this.emit("graphic-move-stop",new H(r)),this.destroyed)return null;h()})),c}buildSnappingPipelineSteps(t,e,i,a,n){const o=t.geometry;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(o)||"point"!==o.type&&"mesh"!==o.type)return i;const s=("point"===o.type?o:o.anchor).clone(),p=new _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_28__["SnappingContext"]({elevationInfo:e,pointer:n,editGeometryOperations:_interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_27__["EditGeometryOperations"].fromGeometry(s,this.view.state.viewingMode),visualizer:new _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_15__["SnappingVisualizer3D"],excludeFeature:t}),l=this.snappingManager;return i.next((e=>{s.z=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_13__["getConvertedElevation"])(this.view,s,Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_13__["getGraphicEffectiveElevationInfo"])(t),{mode:"absolute-height",offset:0});return{...e,snapOrigin:p.coordinateHelper.pointToVector(s)}})).next(this.snappingPipeline.createSnapDragEventPipelineStep({snappingContext:p,snappingManager:l,cancel:a,updatingHandles:this.updatingHandles}),this.snappingPipeline.next)}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__["property"])({constructOnly:!0,nonNullable:!0})],X.prototype,"view",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__["property"])({readOnly:!0})],X.prototype,"graphics",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__["property"])({constructOnly:!0,nonNullable:!0})],X.prototype,"enableZ",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__["property"])({constructOnly:!0})],X.prototype,"snappingManager",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__["property"])({readOnly:!0})],X.prototype,"type",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__["property"])({readOnly:!0})],X.prototype,"updating",null),X=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__["subclass"])("esri.views.3d.interactive.editingTools.graphicMove3D.GraphicMoveTool")],X);class Y{constructor(t){this.state=null,this.geometryRepresentation=null,this.manipulationXY=null,this.dragging=!1,this.state=new _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_24__["GraphicState"]({graphic:t})}get graphic(){return this.state.graphic}}


/***/ }),

/***/ "9ToJ":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js ***!
  \****************************************************************************************/
/*! exports provided: VisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VisualElement", function() { return t; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this.view.watch("ready",(t=>{this._resourcesCreated&&(t?this._createResources():this._destroyResources())}))}applyProps(t){let e=!1;for(const s in t)s in this?"attached"===s?e=t[s]:this[s]=t[s]:console.error("Cannot set unknown property",s);this.attached=e}destroy(){this.attached=!1}get attached(){return this._attached}set attached(t){t!==this._attached&&this.view._stage&&(this._attached=t,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.attached&&this.updateVisibility(t))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}


/***/ }),

/***/ "ACyv":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/PointVisualElement.js ***!
  \*********************************************************************************************/
/*! exports provided: PointVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PointVisualElement", function() { return _; });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ "D8Ta");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/projection.js */ "gYg2");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "QmHG");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./VisualElementResources.js */ "3WMd");
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../layers/graphics/elevationAlignmentUtils.js */ "Lg+x");
/* harmony import */ var _layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../layers/graphics/ElevationContext.js */ "Drlb");
/* harmony import */ var _layers_graphics_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/graphics/sdfPrimitives.js */ "psnS");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/lib/Texture.js */ "Hizz");
/* harmony import */ var _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../webgl-engine/materials/HUDMaterial.js */ "LfEk");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class _{constructor(e){this.view=null,this._geometry=null,this._size=3,this._color=Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__["f"])(1,0,1,1),this._pixelSnappingEnabled=!0,this._primitive="square",this._outlineSize=1,this._outlineColor=Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_5__["f"])(1,1,1,1),this._elevationInfo=null,this.resources=new _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_9__["VisualElementResources"]({view:e.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometry=this.recreateGeometry(t,e.material),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(e.geometry)?[e.geometry]:[])});let t=!0;for(const r in e)r in this?"attached"===r?t=e[r]:this[r]=e[r]:console.error("Cannot set unknown property",r);this.attached=t}destroy(){this.resources.destroy()}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e}get attached(){return this.resources.attached}set attached(e){this.resources.attached=e}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry()}get size(){return this._size}set size(e){if(e!==this._size){const t=this.preferredTextureSize;this._size=e,t<this.preferredTextureSize?Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this.resources)&&this.resources.recreate():this.updateSizeAttribute()}}get color(){return this._color}set color(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["g"])(e,this._color)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["c"])(this._color,e),this.updateMaterial())}get pixelSnappingEnabled(){return this._pixelSnappingEnabled}set pixelSnappingEnabled(e){this._pixelSnappingEnabled!==e&&(this._pixelSnappingEnabled=e,this.updateMaterial())}get primitive(){return this._primitive}set primitive(e){this._primitive!==e&&(this._primitive=e,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this.resources)&&this.resources.recreate())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["g"])(e,this._outlineColor)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["c"])(this._outlineColor,e),this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources&&this.resources.recreateGeometry()}updateMaterial(){const e=this.resources.resources;Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(e)||e.material.setParameters(this.materialParameters(e.texture.id))}updateSizeAttribute(){const e=this.resources.resources,t=this.resources.object;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(e)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(t))return;const r=e.geometry;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(r))return;const s=r.getMutableAttribute("size").data,o=this.geometrySize;s[0]=o,s[1]=o,t.geometryVertexAttrsUpdated(t.geometryRecords[0])}materialParameters(e){return{color:this._color,textureIsSignedDistanceField:!0,distanceFieldBoundingBox:x,occlusionTest:!1,outlineColor:this._outlineColor,outlineSize:this._outlineSize,textureId:e,polygonOffset:!1,shaderPolygonOffset:0,drawInSecondSlot:!0,depthEnabled:!1,pixelSnappingEnabled:this.pixelSnappingEnabled}}get geometrySize(){return this._size/S}recreateGeometry(e,t){const i=this.createRenderGeometry();return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(i)&&e.addGeometry(i,t),i}createResources(e){const t=this.createTexture(),i=new _webgl_engine_materials_HUDMaterial_js__WEBPACK_IMPORTED_MODULE_15__["HUDMaterial"](this.materialParameters(t.id)),s=this.recreateGeometry(e,i);return{material:i,texture:t,geometry:s,forEach(e){e(t),e(i),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this.geometry)&&e(this.geometry)}}}get preferredTextureSize(){return Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__["clamp"])(Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__["nextHighestPowerOfTwo"])(2*this.geometrySize),16,128)}createTexture(){const e=this.preferredTextureSize;return new _webgl_engine_lib_Texture_js__WEBPACK_IMPORTED_MODULE_14__["Texture"](Object(_layers_graphics_sdfPrimitives_js__WEBPACK_IMPORTED_MODULE_12__["createType"])(this._primitive,e,e*S),{mipmap:!1,wrap:{s:33071,t:33071},width:e,height:e,components:4,noUnpackFlip:!0})}calculateMapBounds(e){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(this.resources.resources)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(this.resources.resources.geometry))return!1;const t=this.resources.resources.geometry.vertexAttributes.get("position");return Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__["projectVectorToVector"])(t.data,this.view.renderCoordsHelper.spatialReference,z,this.view.spatialReference),Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["expandWithBuffer"])(e,z),!0}createRenderGeometry(){const e=this.geometry;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(e))return null;const{renderCoordsHelper:t,elevationProvider:r}=this.view,o=Object(_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_10__["evaluateElevationAlignmentAtPoint"])(e,r,_layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_11__["ElevationContext"].fromElevationInfo(this.elevationInfo),t),n=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get(),e.x,e.y,o),a=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get();Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__["projectVectorToVector"])(n,e.spatialReference,a,t.spatialReference);const l=this.geometrySize;return _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_13__["default"].createPointGeometry(null,a,null,[l,l],[0,0,0,1])}}const S=.5,x=[S/2,S/2,1-S/2,1-S/2],z=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])();


/***/ }),

/***/ "Al+X":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/GraphicReshapeTool.js ***!
  \**********************************************************************************************************/
/*! exports provided: GraphicReshapeTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicReshapeTool", function() { return m; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/watchUtils.js */ "N5XI");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _isSupportedGraphic_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./isSupportedGraphic.js */ "JAyX");
/* harmony import */ var _ReshapeOperation_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ReshapeOperation.js */ "rexj");
/* harmony import */ var _interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../interactive/InteractiveToolBase.js */ "R3Kl");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let m=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"].EventedMixin(_interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_12__["InteractiveToolBase"])){constructor(e){super(e),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__["default"],this._reshapeOperation=null,this._internalGeometryUpdate=!1,this.enableZShape=!0,this.enableZVertex=!0,this.enableMoveGraphic=!0,this.enableMidpoints=!0,this.enableEdgeOffset=!1,this.type="reshape-3d",this.snappingManager=null,this.automaticManipulatorSelection=!1}destroy(){this._handles=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["destroyMaybe"])(this._handles),this._reshapeOperation=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["destroyMaybe"])(this._reshapeOperation),this._set("view",null),this._set("graphic",null)}get updating(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.updating)&&e}_updateGeometry(){const e=Object(_isSupportedGraphic_js__WEBPACK_IMPORTED_MODULE_10__["geometryOfSupportedGraphic"])(this.graphic);this._reshapeOperation.inputGeometry=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(e)?e.clone():null}_updateGraphic(){if(this._handles.remove("onGraphicGeometryChange"),this._updateGeometry(),0!==Object(_isSupportedGraphic_js__WEBPACK_IMPORTED_MODULE_10__["isSupportedGraphic"])(this.graphic))return;const e=this.watch("graphic.geometry",(()=>{!1===this._internalGeometryUpdate&&this._updateGeometry()}),!0);this._handles.add(e,"onGraphicGeometryChange")}manipulatorSelectionChanged(){this._reshapeOperation&&this._reshapeOperation.manipulatorSelectionChanged()}_updateGeometryInternally(e){this._internalGeometryUpdate=!0,this.graphic.geometry=e,this._internalGeometryUpdate=!1}_onReshapeGeometryChanged(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isNone"])(this.graphic)||this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}initialize(){this._reshapeOperation=new _ReshapeOperation_js__WEBPACK_IMPORTED_MODULE_11__["ReshapeOperation"]({tool:this}),this._handles.add([this._reshapeOperation.on("reshape",(e=>{"reshape"===e.type&&this._onReshapeGeometryChanged(),this.emit("reshape",e)})),this._reshapeOperation.on("move",(e=>{"move"===e.type&&this._onReshapeGeometryChanged(),this.emit("move",e)})),this._reshapeOperation.on("vertex-add",(e=>{this._onReshapeGeometryChanged(),this.emit("vertex-add",e)})),this._reshapeOperation.on("vertex-remove",(e=>{this._onReshapeGeometryChanged(),this.emit("vertex-remove",e)})),this._reshapeOperation.on("immediate-click",(e=>this.emit("immediate-click",e))),this.view.on("pointer-down",["Shift"],(e=>{e.stopPropagation()})),Object(_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_4__["init"])(this,"graphic",(()=>{this._updateGraphic()}),!0)]),this.complete()}get canUndo(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.canUndo)&&e}undo(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this.snappingManager)&&this.snappingManager.doneSnapping(),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._reshapeOperation.undo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}get canRedo(){var e,t;return null!=(e=null==(t=this._reshapeOperation)?void 0:t.canRedo)&&e}redo(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this.snappingManager)&&this.snappingManager.doneSnapping(),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._reshapeOperation.redo())&&this._updateGeometryInternally(this._reshapeOperation.outputGeometry.clone())}onInputEvent(e){"key-down"!==e.type||"Delete"!==e.key&&"Backspace"!==e.key||this._reshapeOperation.removeSelectedVertices()}reset(){}get test(){return{snappingManager:this.snappingManager}}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],m.prototype,"_reshapeOperation",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],m.prototype,"view",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],m.prototype,"graphic",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],m.prototype,"enableZShape",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],m.prototype,"enableZVertex",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],m.prototype,"enableMoveGraphic",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],m.prototype,"enableMidpoints",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0,nonNullable:!0})],m.prototype,"enableEdgeOffset",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({readOnly:!0})],m.prototype,"type",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],m.prototype,"snappingManager",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({readOnly:!0})],m.prototype,"updating",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],m.prototype,"automaticManipulatorSelection",void 0),m=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__["subclass"])("esri.views.3d.interactive.editingTools.graphicReshape3D.GraphicReshapeTool")],m);


/***/ }),

/***/ "BzsC":
/*!***************************************************************!*\
  !*** ./node_modules/@arcgis/core/widgets/Slice/SlicePlane.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return d; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../geometry.js */ "4GrV");
/* harmony import */ var _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/JSONSupport.js */ "ag7Y");
/* harmony import */ var _core_lang_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/lang.js */ "f/qv");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/maybe.js */ "srIe");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/cast.js */ "Gj5k");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/accessorSupport/decorators/persistable.js */ "xvdR");
/* harmony import */ var _views_3d_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../views/3d/support/mathUtils.js */ "aAs6");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../geometry/Point.js */ "SuVq");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var m;let c=m=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_2__["JSONSupport"]{constructor(t){super(t),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}clone(){return new m({position:Object(_core_lang_js__WEBPACK_IMPORTED_MODULE_3__["clone"])(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["equalsMaybe"])(this.position,t.position)&&this.width===t.width&&this.height===t.height}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({readOnly:!0,json:{read:!1,write:!0}})],c.prototype,"type",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({type:_geometry_Point_js__WEBPACK_IMPORTED_MODULE_11__["default"]}),Object(_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__["persistable"])()],c.prototype,"position",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({type:Number,nonNullable:!0,range:{min:0,max:360}}),Object(_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__["persistable"])(),Object(_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__["cast"])((t=>_views_3d_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_10__["cyclicalDeg"].normalize(Object(_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__["ensureNumber"])(t),0,!0)))],c.prototype,"heading",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({type:Number,nonNullable:!0,range:{min:0,max:360}}),Object(_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__["persistable"])(),Object(_core_accessorSupport_decorators_cast_js__WEBPACK_IMPORTED_MODULE_6__["cast"])((t=>_views_3d_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_10__["cyclicalDeg"].normalize(Object(_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__["ensureNumber"])(t),0,!0)))],c.prototype,"tilt",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({type:Number,nonNullable:!0}),Object(_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__["persistable"])()],c.prototype,"width",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({type:Number,nonNullable:!0}),Object(_core_accessorSupport_decorators_persistable_js__WEBPACK_IMPORTED_MODULE_9__["persistable"])()],c.prototype,"height",void 0),c=m=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__["subclass"])("esri.widgets.Slice.SlicePlane")],c);const d=c;


/***/ }),

/***/ "DX/4":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/lineGraphicVisualElementUtils.js ***!
  \******************************************************************************************************/
/*! exports provided: createGeometryRepresentationVisualElement, createVisualElements */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGeometryRepresentationVisualElement", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createVisualElements", function() { return v; });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Manipulator3D.js */ "TnN0");
/* harmony import */ var _ManipulatorState_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ManipulatorState.js */ "f3+M");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./settings.js */ "2WkI");
/* harmony import */ var _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../visualElements/ExtendedLineVisualElement.js */ "jxyb");
/* harmony import */ var _visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../visualElements/LaserlineVisualElement.js */ "ZHv2");
/* harmony import */ var _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../visualElements/OutlineVisualElement.js */ "RPp6");
/* harmony import */ var _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../layers/graphics/GraphicState.js */ "p9ZE");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function v(t){const{view:a,graphic:n}=t,i=new _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_12__["GraphicState"]({graphic:n}),l=y(t,i),s=[l,E(t,l.visualElement,i),a.maskOccludee(n),a.trackGraphicState(i)];return{visualElement:l.visualElement,remove:()=>Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["handlesGroup"])(s).remove()}}function y(a,n){const{view:i,graphic:l}=a,s=new _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_11__["OutlineVisualElement"]({view:i,geometry:S(l)?l.geometry:null,elevationInfo:Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__["getGraphicEffectiveElevationInfo"])(l),attached:!1});_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.lineGraphics.shadowStyle.apply(s);const o=()=>{s.attached=n.displaying};_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.lineGraphics.outline.apply(s);const r=[n.watch("displaying",o),n.watch("isDraped",(e=>s.isDraped=e)),n.on("changed",(()=>s.geometry=S(l)?l.geometry:null)),Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["destroyHandle"])(s)];return o(),{visualElement:s,remove:()=>Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["handlesGroup"])(r).remove()}}function E(i,l,s){const{graphic:o,view:r}=i,p=[],g=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_5__["getGraphicEffectiveElevationInfo"])(o),f="on-the-ground"===g.mode||!g.offset&&"absolute-height"!==g.mode,v=new _ManipulatorState_js__WEBPACK_IMPORTED_MODULE_7__["ManipulatorState"],y=new _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_9__["ExtendedLineVisualElement"]({view:r,extensionType:_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.pointGraphics.shadowStyle.apply(y);const E=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__["deg2rad"])(_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.heightPlaneAngleCutoff),j=new _visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_10__["LaserlineVisualElement"]({view:r,attached:!1,angleCutoff:E});_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.heightPlane.apply(j);let M=1,G=1;const L=()=>{if(v.update(i),!s.displaying||f&&(s.isDraped||!S(o)||!o.geometry.hasZ))return l.laserlineEnabled=!1,y.attached=!1,void(j.attached=!1);l.laserlineEnabled=!0;{const e=4&v.grabbingState?_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.laserlineAlphaMultiplier:1;e!==M&&(M=e,_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.lineGraphics.shadowStyle.apply(l,e),_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.pointGraphics.shadowStyle.apply(y,e))}{const e=2&v.grabbingState?_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.laserlineAlphaMultiplier:1;e!==G&&(G=e,_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.heightPlane.apply(j,e))}w(y,v),b(i,l,j,v)};_settings_js__WEBPACK_IMPORTED_MODULE_8__["settings"].visualElements.zVerticalLine.apply(y),p.push(s.on("changed",L),s.watch("displaying",L),l.events.on("attachment-origin-changed",L),Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["destroyHandle"])(y),Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["destroyHandle"])(j));const D=[],C=()=>{Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["handlesGroup"])(D).remove(),D.length=0,i.forEachManipulator((e=>D.push(e.events.on("grab-changed",L)))),i.forEachManipulator((e=>D.push(e.events.on("select-changed",L)))),L()};return C(),p.push(i.onManipulatorsChanged(C),Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["refHandle"])((()=>Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["handlesGroup"])(D)))),Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["handlesGroup"])(p)}function w(e,t){const a=1===t.numSelected?t.firstSelected:t.numSelected>1&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(t.firstGrabbedXY)?t.firstGrabbedXY:null;Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(a)?(e.setStartEndFromWorldDownAtLocation(a.renderLocation),e.attached=!0):e.attached=!1}function b(e,t,a,n){if(n.numSelected>0){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["s"])(j,0,0,0);let t=0;e.forEachManipulator(((e,a)=>{1===a&&e.selected&&e instanceof _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_6__["Manipulator3D"]&&(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["b"])(j,j,e.renderLocation),t++)})),t>0?(a.heightManifoldTarget=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["a"])(j,j,1/t),a.attached=!0):a.attached=!1}else{const n=t.attachmentOrigin;Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(n)&&e.view.renderCoordsHelper.toRenderCoords(n,j)?(a.heightManifoldTarget=j,a.attached=!0):a.attached=!1}}function S(e){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(e.geometry)&&("polygon"===e.geometry.type||"polyline"===e.geometry.type)}const j=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])();


/***/ }),

/***/ "DufC":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolUtils.js ***!
  \**********************************************************************************************/
/*! exports provided: DidPointerMoveRecentlyFlag, IsShiftEdgeOnScreenFlag, addArrowTips, calculateBoundedPlaneTranslateRotate, calculateDiagonalResizeHandleScale, calculatePlaneHalfSize, calculateResizeHandlePadding, calculateScreenSpaceBasisLength2, createArrowGeometry, createGridVisualElement, createOutlineVisualElement, createPlane, createResizeManipulator, createRotateManipulator, createRotatePlane, createShiftManipulator, createShiftPlane, forceHorizontalOrVertical, isAlwaysDrapedLayer, isDiagonalResizeHandle, isIBuildingSceneLayerView3D, normalToBases, planeToExtent, planeToShape, projectShape, projectedShapeToPlane, resizeNormal, resizeOutlineOnly, resizePlane, shapeToExtent, shapeToPlane, updateResizeHandle, updateRotateHeadingHandle, updateRotateTiltHandle, updateShiftRestartHandle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DidPointerMoveRecentlyFlag", function() { return vt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IsShiftEdgeOnScreenFlag", function() { return kt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addArrowTips", function() { return mt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateBoundedPlaneTranslateRotate", function() { return Ne; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateDiagonalResizeHandleScale", function() { return it; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculatePlaneHalfSize", function() { return Ze; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateResizeHandlePadding", function() { return tt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateScreenSpaceBasisLength2", function() { return et; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createArrowGeometry", function() { return lt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGridVisualElement", function() { return at; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createOutlineVisualElement", function() { return ot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createPlane", function() { return De; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createResizeManipulator", function() { return ct; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createRotateManipulator", function() { return nt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createRotatePlane", function() { return $e; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createShiftManipulator", function() { return st; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createShiftPlane", function() { return qe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forceHorizontalOrVertical", function() { return We; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isAlwaysDrapedLayer", function() { return Mt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isDiagonalResizeHandle", function() { return rt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isIBuildingSceneLayerView3D", function() { return Ot; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalToBases", function() { return Be; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "planeToExtent", function() { return gt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "planeToShape", function() { return dt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "projectShape", function() { return yt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "projectedShapeToPlane", function() { return jt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resizeNormal", function() { return xt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resizeOutlineOnly", function() { return Ut; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resizePlane", function() { return Ve; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shapeToExtent", function() { return pt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "shapeToPlane", function() { return wt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateResizeHandle", function() { return Qe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateRotateHeadingHandle", function() { return Xe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateRotateTiltHandle", function() { return Ye; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateShiftRestartHandle", function() { return Je; });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../geometry.js */ "4GrV");
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/compilerUtils.js */ "bJda");
/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Logger.js */ "6S2I");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../chunks/quat.js */ "BPBZ");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/projection.js */ "gYg2");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../chunks/boundedPlane.js */ "DZ/s");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../geometry/support/plane.js */ "colF");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../geometry/support/ray.js */ "0Y+r");
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../geometry/support/vector.js */ "obHo");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../manipulatorUtils.js */ "dK/y");
/* harmony import */ var _sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./sliceToolConfig.js */ "FLUf");
/* harmony import */ var _visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../visualElements/LineVisualElement.js */ "lObl");
/* harmony import */ var _visualElements_SlicePlaneVisualElement_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../visualElements/SlicePlaneVisualElement.js */ "UVIH");
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../support/ElevationProvider.js */ "DLk3");
/* harmony import */ var _support_RenderCoordsHelper_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../support/RenderCoordsHelper.js */ "kqF+");
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../support/geometryUtils/ray.js */ "mZDS");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../webgl-engine/lib/Geometry.js */ "Ango");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../webgl-engine/materials/ColorMaterial.js */ "024p");
/* harmony import */ var _webgl_engine_materials_ImageMaterial_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../webgl-engine/materials/ImageMaterial.js */ "rZaU");
/* harmony import */ var _webgl_engine_materials_NativeLineMaterial_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../webgl-engine/materials/NativeLineMaterial.js */ "N0ja");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../webgl-engine/materials/RibbonLineMaterial.js */ "hrr/");
/* harmony import */ var _widgets_Slice_SlicePlane_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../../widgets/Slice/SlicePlane.js */ "BzsC");
/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../../geometry/Extent.js */ "OvF4");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const He=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__["default"].getLogger("esri.views.3d.interactive.analysisTools.slice.sliceToolUtils");function De(e,t,i,r,s,n,o,a){return Be(t,o.worldUpAtPosition(e,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get()),s,n,a.basis1,a.basis2),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(a.basis1,a.basis1,i),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(a.basis2,a.basis2,r),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["g"])(a.origin,e),Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_13__["fromVectorsAndPoint"])(a.basis2,a.basis1,a.origin,a.plane),a}function Be(e,t,i,r,s,n){const o=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["d"])(e,t),a=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),c=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get();switch(0===r?Math.abs(o)>_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["VERTICAL_DOT_THRESHOLD"]?1:2:r){case 2:{const r=Math.abs(o)<=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SMALL_ANGLE_DOT_THRESHOLD"]?e:i.viewUp;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(a,r,t),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["g"])(c,t);break}case 1:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(a,i.viewUp,t),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(c,t,a);break;case 3:{const r=Math.abs(o)<=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SMALL_ANGLE_DOT_THRESHOLD"]?t:i.viewUp;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(a,r,e),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(c,e,a);break}}const l=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),a,c);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["d"])(l,i.viewForward)>0&&Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(c,c,-1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["n"])(s,a),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["n"])(n,c)}function We(e,t,i){const r=t.worldUpAtPosition(e.origin,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get()),s=e.basis1,n=ft(e,r),o=Math.round(n/Rt)*Rt;return Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["r"])(e,o-n,s,i)}function Ve(e,t,i,r,s,n){const o=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["g"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),s.origin);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(o,o,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),s.basis1,e.direction[0]<0?1:-1)),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(o,o,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),s.basis2,e.direction[1]<0?1:-1));const a=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(s.basis1),c=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(s.basis2),l=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),i,o),u=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),t,o);let m=0,d=0;if(rt(e)){const t=it(s),i=it(n);m=a-.5*e.direction[0]*Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["d"])(s.basis1,u)/a,d=c-.5*e.direction[1]*Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["d"])(s.basis2,u)/c;const r=i/t;m*=r,d*=r}const p=m+.5*e.direction[0]*Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["d"])(s.basis1,l)/a,g=d+.5*e.direction[1]*Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["d"])(s.basis2,l)/c,f=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),s.basis1,p/a),b=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),s.basis2,g/c);(p<=0||et(n.origin,f,r)<=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["PLANE_MIN_BASIS_SCREEN_LEN2"])&&Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["g"])(f,n.basis1),(g<=0||et(n.origin,b,r)<=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["PLANE_MIN_BASIS_SCREEN_LEN2"])&&Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["g"])(b,n.basis2);const j=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["g"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),o);return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(j,j,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),f,e.direction[0]<0?-1:1)),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(j,j,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),b,e.direction[1]<0?-1:1)),Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["f"])(j,f,b,n)}function Ze(e,t){return _sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION"]*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function qe(e,t,i,r){const s=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),t,i);return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(s,s,t),Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_13__["fromPositionAndNormal"])(e,s,r)}function Ne(e,t){return Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_18__["calculateTranslateRotateFromBases"])(e.basis1,e.basis2,e.origin,t)}function $e(e,t,i,r){const s=t.worldUpAtPosition(e.origin,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get()),n=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get();switch(i){case 1:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["g"])(n,s);break;case 2:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["g"])(n,e.basis1)}return Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_13__["fromPositionAndNormal"])(e.origin,n,r)}function Je(e,t,i,r){const s=_e(i,2),n=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sm4d"].get();Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["r"])(n,t,s.edge*Math.PI/2);const o=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["n"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),s.basis);let l=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),o,s.direction*r.computeScreenPixelSizeAt(s.position)*_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_OFFSET_DISTANCE"]);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(l,l,s.position);const u=r.projectToRenderScreen(l,Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["castRenderScreenPointArray3"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get())),m=Ke(r,u);Object(_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_24__["fromRender"])(r,u,Pt),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["n"])(Pt.direction,Pt.direction);const d=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get();!m&&Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["i"])(i,Pt,d)&&(l=d),n[12]=0,n[13]=0,n[14]=0,e.modelTransform=n,e.renderLocation=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["a"])(l),m?e.state|=kt:e.state&=~kt}function Ke(e,t){const[i,r,s,n]=e.viewport,o=Math.min(s,n)/16;let a=!0;return t[0]<i+o?(t[0]=i+o,a=!1):t[0]>i+s-o&&(t[0]=i+s-o,a=!1),t[1]<r+o?(t[1]=r+o,a=!1):t[1]>r+n-o&&(t[1]=r+n-o,a=!1),a}function Qe(e,t,i,r){const s=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(r.basis1),n=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(r.basis2),o=tt(r),a=it(r),d=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),0,0,0);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(d,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),r.basis1,t.direction[0]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),r.basis2,t.direction[1])),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(d,r.origin,d);let p=0,g=1;if(rt(t))1===t.direction[0]&&-1===t.direction[1]?p=Rt:1===t.direction[0]&&1===t.direction[1]?p=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(p=3*Math.PI/2),g=a;else{const e=0!==t.direction[0]?1:2;p=1===e?Rt:0,g=(1===e?n:s)-o}const f=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["r"])(f,f,p),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["f"])(f,f,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),g,g,g)),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["m"])(f,i,f),f[12]=0,f[13]=0,f[14]=0,e.modelTransform=f,e.renderLocation=d}function Xe(e,t,i,r){const s=r.worldUpAtPosition(i.origin,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get()),n=_e(i,0),o=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["r"])(o,o,n.edge*Math.PI/2),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["d"])(o,o,-ft(i,s)),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["m"])(o,t,o),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=n.position}function Ye(e,t,i){const r=_e(i,1),s=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["r"])(s,s,r.edge*Math.PI/2),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["d"])(s,s,Rt),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["m"])(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=r.position}function _e(e,t){switch(t){case 0:return{basis:e.basis1,direction:1,position:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),e.origin,e.basis1),edge:t};case 1:return{basis:e.basis2,direction:1,position:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),e.origin,e.basis2),edge:t};case 2:return{basis:e.basis1,direction:-1,position:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),e.origin,e.basis1),edge:t};case 3:return{basis:e.basis2,direction:-1,position:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),e.origin,e.basis2),edge:t}}}function et(e,t,i){const r=i.projectToRenderScreen(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),e,t),Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["castRenderScreenPointArray3"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get())),s=i.projectToRenderScreen(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),e,t),Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["castRenderScreenPointArray3"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get()));return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["p"])(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(r,r,s))}function tt(e){const t=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(e.basis1),i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(e.basis2);return _sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["RESIZE_HANDLE_EDGE_PADDING_FRAC"]*Math.min(t,i)}function it(e){return tt(e)}function rt(e){return 0!==e.direction[0]&&0!==e.direction[1]}function st(e,t=1){const i=0===t?_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_OFFSET_DISTANCE"]:0,r=[Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(i,0,-_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_ARROW_LENGTH"]/2),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(i,0,_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_ARROW_LENGTH"]/2)],s=mt(r,!0),n=(e,t)=>lt(r,r,{tubeRadius:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_TUBE_RADIUS"],tipRadius:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_TIP_RADIUS"],tipLength:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_TIP_LENGTH"],tubeFocusMultiplier:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER"],tipFocusMultiplier:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_TIP_FOCUS_MULTIPLIER"],padding:e,bothEnds:!0,flat:null,focusTipLength:!0,addCap:t}),o=n(0,!1),a=n(_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_ARROW_OUTLINE_WIDTH"],!0),c=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_27__["ColorMaterial"]({color:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_ARROW_TIP_COLOR"],cullFace:2,renderOccluded:16}),l=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_27__["ColorMaterial"]({color:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_ARROW_CAP_COLOR"],cullFace:2,renderOccluded:16}),u=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_27__["ColorMaterial"]({color:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_TUBE_COLOR"],cullFace:2,renderOccluded:16}),m=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_27__["ColorMaterial"]({color:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_OUTLINE_COLOR"],transparent:!0,writeDepth:!1,cullFace:1,renderOccluded:2}),d=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createPolylineGeometry([[i,0,0],[i-_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_OFFSET_DISTANCE"],0,0]]),p=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createPolylineGeometry([[i,0,0],[i-_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_OFFSET_DISTANCE"],0,0]]),g=new _webgl_engine_materials_NativeLineMaterial_js__WEBPACK_IMPORTED_MODULE_29__["NativeLineMaterial"]({color:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_CALLOUT_COLOR"],renderOccluded:4});return new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_17__["Manipulator3D"]({view:e,renderObjects:[...o.normal.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:"tip"===e?c:"cap"===e?l:u,transform:i,stateMask:1|vt}))),...a.normal.map((({geometry:e,transform:t})=>({geometry:e,material:m,transform:t,stateMask:1|vt}))),{geometry:d,material:g,stateMask:1|vt|kt},...o.focused.map((({part:e,geometry:t,transform:i})=>({geometry:t,material:"tip"===e?c:"cap"===e?l:u,transform:i,stateMask:2|vt}))),...a.focused.map((({geometry:e,transform:t})=>({geometry:e,material:m,transform:t,stateMask:2|vt}))),{geometry:p,material:g,stateMask:2|vt|kt}],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[s]},collisionPriority:1,radius:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["SHIFT_RESTART_TIP_RADIUS"],state:vt})}function nt(e,t){const i=new _webgl_engine_materials_ImageMaterial_js__WEBPACK_IMPORTED_MODULE_28__["ImageMaterial"]({transparent:!0,writeDepth:!1,textureId:t.id,renderOccluded:16}),r=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["ROTATE_HEADING_OFFSET_DISTANCE"],s=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["ROTATE_HEADING_DISC_RADIUS"],n=s*_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER"],o=e=>{const t=new Uint32Array([0,1,2,2,3,0]);return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_25__["Geometry"]([["position",{size:3,data:[r-e,-e,0,r+e,-e,0,r+e,e,0,r-e,e,0],exclusive:!0}],["uv0",{size:2,data:[0,0,1,0,1,1,0,1]}]],[["position",t],["uv0",t]])},a=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createPolylineGeometry([[0,0,0],[r-s,0,0]]),c=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createPolylineGeometry([[0,0,0],[r-n,0,0]]),l=new _webgl_engine_materials_NativeLineMaterial_js__WEBPACK_IMPORTED_MODULE_29__["NativeLineMaterial"]({color:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["ROTATE_HEADING_CALLOUT_COLOR"],renderOccluded:4}),u=[{geometry:o(s),material:i,stateMask:1|vt},{geometry:a,material:l,stateMask:1|vt},{geometry:o(n),material:i,stateMask:2|vt},{geometry:c,material:l,stateMask:2|vt}];return new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_17__["Manipulator3D"]({view:e,renderObjects:u,autoScaleRenderObjects:!1,collisionType:{type:"disc",direction:[0,0,1],offset:[r,0,0]},collisionPriority:1,radius:s/2,state:vt})}function ot(e){return new _visualElements_LineVisualElement_js__WEBPACK_IMPORTED_MODULE_20__["LineVisualElement"]({view:e,attached:!0,color:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["PLANE_OUTLINE_COLOR"],width:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["PLANE_OUTLINE_WIDTH"],writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}function at(e){return new _visualElements_SlicePlaneVisualElement_js__WEBPACK_IMPORTED_MODULE_21__["SlicePlaneVisualElement"]({view:e,attached:!0,backgroundColor:[..._sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["PLANE_BACKGROUND_COLOR"]],gridColor:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["GRID_COLOR"],gridWidth:4,renderOccluded:4})}function ct(e,t){const i=rt(t),r=i?[Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(1,0,0),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(0,0,0),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(0,1,0)]:[Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(1,0,0),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(-1,0,0)],s=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createPolylineGeometry(r),n=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["RESIZE_HANDLE_COLOR"],o=e=>new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_30__["RibbonLineMaterial"]({color:n,width:e,renderOccluded:4}),a=()=>new _webgl_engine_materials_NativeLineMaterial_js__WEBPACK_IMPORTED_MODULE_29__["NativeLineMaterial"]({color:n,renderOccluded:4}),c=i?_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["RESIZE_HANDLE_CORNER_WIDTH"]:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["RESIZE_HANDLE_EDGE_WIDTH"],l=c*_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["DISPLAY_FOCUS_MULTIPLIER"],u=_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["RESIZE_HANDLE_EDGE_WIDTH"],m=e=>e>1?o(e):a(),d=[{geometry:s,material:m(c),stateMask:1|xt},{geometry:s,material:m(l),stateMask:2|xt},{geometry:s,material:m(u),stateMask:Ut}],p=new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_17__["Manipulator3D"]({view:e,renderObjects:d,collisionType:{type:"line",paths:[r]},autoScaleRenderObjects:!1,worldSized:!0,radius:i?_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["RESIZE_HANDLE_CORNER_INPUT_RADIUS"]:_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["RESIZE_HANDLE_EDGE_INPUT_RADIUS"]});return p.state=xt,p}function lt(e,t,i){const r=r=>{const s=(r?t:e).slice(0),o=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),s[0],s[1]);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["n"])(o,o);const a=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),s[s.length-1],s[s.length-2]);if(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["n"])(a,a),i.padding>0){const e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["c"])(),a,-i.padding);if(s[s.length-1]=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(e,e,s[s.length-1]),i.bothEnds){const e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["c"])(),o,-i.padding);s[0]=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(e,e,s[0])}}const c=r?i.tipFocusMultiplier:1,d=i.tipLength*(i.focusTipLength?c:1),y=i.tipRadius*c,w=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sm4d"].get());if(i.padding>0){const e=d/4,t=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),0,e,0),r=1+i.padding/e;Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["a"])(w,w,t),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["f"])(w,w,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),r,r,r)),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["a"])(w,w,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(t,t,-1/r))}const j=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["i"])(Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__["c"])()),k=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(0,1,0),R=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["g"])(Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__["c"])(),Object(_chunks_quat_js__WEBPACK_IMPORTED_MODULE_8__["r"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sq4d"].get(),k,a));R[12]=s[s.length-1][0],R[13]=s[s.length-1][1],R[14]=s[s.length-1][2],Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["m"])(R,R,w);const U=[{part:"tube",geometry:ut(i.tubeRadius*(r?i.tubeFocusMultiplier:1)+i.padding,i.flat,s),transform:j}];let O,C;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(i.flat)?O=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createExtrudedTriangle(d,y,y,i.flat.thickness):(O=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createConeGeometry(d,y,24,!1,!1,!0),C=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createConeGeometry(d,y,24,!1,!0,!1)),U.push({part:"tip",geometry:O,transform:R}),C&&U.push({part:"cap",geometry:C,transform:R}),i.bothEnds){const e=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["g"])(Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_7__["c"])(),Object(_chunks_quat_js__WEBPACK_IMPORTED_MODULE_8__["r"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sq4d"].get(),k,o));e[12]=s[0][0],e[13]=s[0][1],e[14]=s[0][2],Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_6__["m"])(e,e,w),U.push({part:"tip",geometry:O,transform:e}),C&&U.push({part:"cap",geometry:C,transform:e})}return U};return{normal:r(!1),focused:r(!0)}}function ut(e,t,i){const r=[];if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(t))r.push([e,t.thickness/2],[-e,t.thickness/2],[-e,-t.thickness/2],[e,-t.thickness/2]);else{const t=12;for(let i=0;i<t;i++){const s=i/t*2*Math.PI;r.push([Math.cos(s)*e,Math.sin(s)*e])}}return _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_26__["default"].createPathExtrusionGeometry(r,i,[],[],!1)}function mt(e,t){const i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["c"])(),e[e.length-1],e[e.length-2]);if(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["n"])(i,i),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(i,i,_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["ROTATE_HEADING_TIP_LENGTH"]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(i,i,e[e.length-1]),t){const t=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["c"])(),e[0],e[1]);return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["n"])(t,t),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(t,t,_sliceToolConfig_js__WEBPACK_IMPORTED_MODULE_19__["ROTATE_HEADING_TIP_LENGTH"]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(t,t,e[0]),[t,...e,i]}return[...e,i]}function dt(e,t,r,n=new _widgets_Slice_SlicePlane_js__WEBPACK_IMPORTED_MODULE_31__["default"]){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(e))return null;const{renderCoordsHelper:o}=t,a=o.fromRenderCoords(e.origin,t.spatialReference);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(a))return null;const c=Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_11__["tryProjectWithZConversion"])(a,r);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(c))return null;n.position=c;const l=o.worldUpAtPosition(e.origin,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get()),u=o.worldBasisAtPosition(e.origin,1,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get()),m=2*Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(e.basis1),d=2*Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(e.basis2),p=_support_RenderCoordsHelper_js__WEBPACK_IMPORTED_MODULE_23__["RenderCoordsHelper"].renderUnitScaleFactor(t.spatialReference,r);return n.width=m*p,n.height=d*p,n.tilt=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__["rad2deg"])(ft(e,l)),n.heading=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__["rad2deg"])(bt(e,l,u)),n}function pt(e,t,i){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(e)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(e.position))return null;const{spatialReference:r}=e.position,o=gt(wt(e,{renderCoordsHelper:t,spatialReference:r},i),t,r);return!e.position.hasZ&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(o)&&(o.zmin=null,o.zmax=null),o}function gt(e,t,i){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(e))return null;const r=e.origin,n=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),o=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),a=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get(),c=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_16__["sv3d"].get();let l,u,m,d,p,g;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(n,r,e.basis1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(n,n,e.basis2),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(o,r,e.basis1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["v"])(o,o,e.basis2),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["v"])(a,r,e.basis1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["v"])(a,a,e.basis2),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["v"])(c,r,e.basis1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(c,c,e.basis2);for(const f of[n,o,a,c]){const e=t.fromRenderCoords(f,f,i);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(e))return null;l=null==l?e[0]:Math.min(l,e[0]),u=null==u?e[0]:Math.max(u,e[0]),m=null==m?e[1]:Math.min(m,e[1]),d=null==d?e[1]:Math.max(d,e[1]),p=null==p?e[2]:Math.min(p,e[2]),g=null==g?e[2]:Math.max(g,e[2])}return new _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_32__["default"]({xmin:l,xmax:u,ymin:m,ymax:d,zmin:p,zmax:g,spatialReference:i})}function ft(e,t){return Object(_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_15__["angleAroundAxis"])(t,e.basis2,e.basis1)+Rt}function bt(e,t,i){return Object(_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_15__["angleAroundAxis"])(e.basis1,i,t)-Rt}function ht(e,t,i,s,n,o,a=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["c"])()){return o.toRenderCoords(e,a.origin)?(o.worldBasisAtPosition(a.origin,0,a.basis1),o.worldBasisAtPosition(a.origin,1,a.basis2),Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_13__["fromVectorsAndPoint"])(a.basis2,a.basis1,a.origin,a.plane),Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["r"])(a,-Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__["deg2rad"])(t),Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["n"])(a),a),Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["r"])(a,Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__["deg2rad"])(i),a.basis1,a),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(a.basis1,a.basis1,s/2),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["a"])(a.basis2,a.basis2,n/2),Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["u"])(a),a):(He.error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}function yt(e,t){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(e)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(e.position))return null;const i=Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_11__["tryProjectWithZConversion"])(e.position,t);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(i))return null;const r=_support_RenderCoordsHelper_js__WEBPACK_IMPORTED_MODULE_23__["RenderCoordsHelper"].renderUnitScaleFactor(e.position.spatialReference,t),n=e.width*r,o=e.height*r;return{position:i,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function wt(e,t,i,r=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["c"])()){const n=yt(e,t.spatialReference);return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(n)?null:jt(n,t,i,r)}function jt(e,t,i,r=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_12__["c"])()){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(e))return null;let a=e.position;!e.position.hasZ&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(t.elevationProvider)&&(a=e.position.clone(),a.z=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrapOr"])(Object(_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_22__["getElevationAtPoint"])(t.elevationProvider,e.position),0));const c=ht(a,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,r);return!i.tiltEnabled&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(c)&&We(c,t.renderCoordsHelper,c),c}function Mt(t){switch(t.type){case"analysis":case"building-scene":case"csv":case"feature":case"geo-rss":case"geojson":case"graphics":case"group":case"integrated-mesh":case"kml":case"map-notes":case"ogc-feature":case"point-cloud":case"route":case"scene":case"stream":case"voxel":case"subtype-group":case"unknown":case"unsupported":case"wfs":case null:return!1;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"elevation":case"imagery":case"imagery-tile":case"map-image":case"open-street-map":case"tile":case"vector-tile":case"wcs":case"web-tile":case"wms":case"wmts":return!0;default:return Object(_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__["neverReached"])(t.type),!1}}const vt=16,kt=32,Pt=Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_14__["create"])(),Rt=Math.PI/2,xt=16,Ut=32;function Ot(e){const t="building-scene-3d"===e.type?e:null;return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(t)}


/***/ }),

/***/ "FLUf":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/sliceToolConfig.js ***!
  \***********************************************************************************************/
/*! exports provided: DISPLAY_FOCUS_MULTIPLIER, GRID_COLOR, INITIAL_DEPTH_OFFSET_FRAC, INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION, PLANE_BACKGROUND_COLOR, PLANE_MIN_BASIS_SCREEN_LEN2, PLANE_OUTLINE_COLOR, PLANE_OUTLINE_WIDTH, PLANE_PREVIEW_OUTLINE_WIDTH, POINTER_MOVE_TIMER_MS, PREVIEW_FADE_DOT_THRESHOLD, PREVIEW_FADE_DURATION_SECONDS, RESIZE_HANDLE_COLOR, RESIZE_HANDLE_CORNER_INPUT_RADIUS, RESIZE_HANDLE_CORNER_WIDTH, RESIZE_HANDLE_EDGE_INPUT_RADIUS, RESIZE_HANDLE_EDGE_PADDING_FRAC, RESIZE_HANDLE_EDGE_WIDTH, ROTATE_HEADING_CALLOUT_COLOR, ROTATE_HEADING_DISC_RADIUS, ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER, ROTATE_HEADING_OFFSET_DISTANCE, ROTATE_HEADING_TIP_LENGTH, SHIFT_RESTART_ARROW_CAP_COLOR, SHIFT_RESTART_ARROW_LENGTH, SHIFT_RESTART_ARROW_OUTLINE_WIDTH, SHIFT_RESTART_ARROW_TIP_COLOR, SHIFT_RESTART_CALLOUT_COLOR, SHIFT_RESTART_OFFSET_DISTANCE, SHIFT_RESTART_OUTLINE_COLOR, SHIFT_RESTART_TIP_FOCUS_MULTIPLIER, SHIFT_RESTART_TIP_LENGTH, SHIFT_RESTART_TIP_RADIUS, SHIFT_RESTART_TUBE_COLOR, SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER, SHIFT_RESTART_TUBE_RADIUS, SMALL_ANGLE_DOT_THRESHOLD, VERTICAL_DOT_THRESHOLD, forceHorizontalModifier, forceVerticalModifier */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISPLAY_FOCUS_MULTIPLIER", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GRID_COLOR", function() { return b; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INITIAL_DEPTH_OFFSET_FRAC", function() { return i; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INITIAL_PLANE_HALF_SIZE_VIEW_PROPORTION", function() { return P; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PLANE_BACKGROUND_COLOR", function() { return U; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PLANE_MIN_BASIS_SCREEN_LEN2", function() { return O; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PLANE_OUTLINE_COLOR", function() { return S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PLANE_OUTLINE_WIDTH", function() { return C; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PLANE_PREVIEW_OUTLINE_WIDTH", function() { return x; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "POINTER_MOVE_TIMER_MS", function() { return e; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PREVIEW_FADE_DOT_THRESHOLD", function() { return M; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PREVIEW_FADE_DURATION_SECONDS", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESIZE_HANDLE_COLOR", function() { return E; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESIZE_HANDLE_CORNER_INPUT_RADIUS", function() { return I; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESIZE_HANDLE_CORNER_WIDTH", function() { return F; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESIZE_HANDLE_EDGE_INPUT_RADIUS", function() { return J; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESIZE_HANDLE_EDGE_PADDING_FRAC", function() { return H; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESIZE_HANDLE_EDGE_WIDTH", function() { return G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_HEADING_CALLOUT_COLOR", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_HEADING_DISC_RADIUS", function() { return N; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_HEADING_DISC_RADIUS_FOCUS_MULTIPLIER", function() { return h; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_HEADING_OFFSET_DISTANCE", function() { return L; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_HEADING_TIP_LENGTH", function() { return K; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_ARROW_CAP_COLOR", function() { return k; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_ARROW_LENGTH", function() { return B; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_ARROW_OUTLINE_WIDTH", function() { return D; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_ARROW_TIP_COLOR", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_CALLOUT_COLOR", function() { return u; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_OFFSET_DISTANCE", function() { return A; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_OUTLINE_COLOR", function() { return v; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_TIP_FOCUS_MULTIPLIER", function() { return m; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_TIP_LENGTH", function() { return z; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_TIP_RADIUS", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_TUBE_COLOR", function() { return q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_TUBE_FOCUS_MULTIPLIER", function() { return c; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SHIFT_RESTART_TUBE_RADIUS", function() { return w; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SMALL_ANGLE_DOT_THRESHOLD", function() { return p; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VERTICAL_DOT_THRESHOLD", function() { return f; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forceHorizontalModifier", function() { return r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forceVerticalModifier", function() { return s; });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "OKTS");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const r=Object(_core_has_js__WEBPACK_IMPORTED_MODULE_0__["default"])("mac")?"Meta":"Control",s="Shift",a=2,c=1.15,m=1.15,h=1.1,e=2500,i=.02,f=Math.cos(Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__["deg2rad"])(45)),p=Math.cos(Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__["deg2rad"])(5)),M=.95,j=.3,l=.7,n=[1,.5,0],x=2,C=1,S=[...n,l],U=[0,0,0,.04],b=[...n,.5],d=[...n,1],g=[1,1,1,1],k=[1,.8,.6,1],q=[1,.93,.86,1],u=[...n,1],v=[...n,1],w=3,y=11,z=22.5,A=40,B=48,D=2.25,E=[...n,1],F=4,G=1,H=.3,I=6,J=4,K=12,L=40,N=27,O=1600,P=.4;


/***/ }),

/***/ "GXUb":
/*!***************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/Manipulation.js ***!
  \***************************************************************************************************/
/*! exports provided: Manipulation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Manipulation", function() { return t; });
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class t{constructor(){this._available=!0}set location(a){this.forEachManipulator3D((t=>t.location=a))}set elevationAlignedLocation(a){this.forEachManipulator3D((t=>t.elevationAlignedLocation=a))}set elevationInfo(a){this.forEachManipulator3D((t=>t.elevationInfo=a))}get renderLocation(){let a;return this.forEachManipulator3D((t=>{a||(a=t.renderLocation)})),a}get available(){return this._available}set available(a){this._available=a,this.forEachManipulator3D((t=>t.available=a))}get grabbing(){return this.someManipulator((a=>a.grabbing))}get dragging(){return this.someManipulator((a=>a.dragging))}hasManipulator(a){return this.someManipulator((t=>t===a))}someManipulator(a){let t=!1;return this.forEachManipulator((i=>{!t&&a(i)&&(t=!0)})),t}forEachManipulator3D(t){this.forEachManipulator(((i,o)=>{i instanceof _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_0__["Manipulator3D"]&&t(i,o)}))}}


/***/ }),

/***/ "Gnh5":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/ParallelLineVisualElement.js ***!
  \****************************************************************************************************/
/*! exports provided: ParallelLineVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ParallelLineVisualElement", function() { return G; });
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "M0lq");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ "XvKw");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "X668");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "hrr/");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class G extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_8__["Object3DVisualElement"]{constructor(t){super(t),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._location=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])(),this._direction=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["f"])(1,0,0),this._width=1,this._offset=1,this._length=18,this._color=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_7__["f"])(1,0,1,1),this._renderOccluded=4,this.applyProps(t)}get location(){return this._location}set location(e){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["k"])(this._location,e)||(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["g"])(this._location,e),this.updateGeometry())}get direction(){return this._direction}set direction(e){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["k"])(this._direction,e)||(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["g"])(this._direction,e),this.updateGeometry())}setDirectionFromPoints(e,t){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["n"])(this._direction,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["f"])(this._direction,t,e)),this.updateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get offset(){return this._offset}set offset(e){e!==this._offset&&(this._offset=e,this.updateGeometry())}get length(){return this._length}set length(e){e!==this._length&&(this._length=e,this.updateGeometry())}get color(){return this._color}set color(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__["g"])(e,this._color)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__["c"])(this._color,e),this.updateMaterial())}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}createExternalResources(){const e=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_10__["RibbonLineMaterial"](this.materialParameters);this._handles.add(this.view.state.watch("camera",(()=>{this.updateGeometry()}))),this._externalResources={material:e}}destroyExternalResources(){this._handles.removeAll(),this._externalResources=null}createGeometries(e){const r=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_9__["default"].createPolylineGeometry([Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])(),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])()]),s=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_9__["default"].createPolylineGeometry([Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])(),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])()]),i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["unwrap"])(this._externalResources).material;e.addGeometry(r,i),e.addGeometry(s,i),this.updateVertices(e)}forEachExternalMaterial(e){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this._externalResources)&&e(this._externalResources.material)}updateMaterial(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,renderOccluded:this._renderOccluded}}updateGeometry(){const e=this.object;Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(e)||this.updateVertices(e)}updateVertices(e){const t=this.view.state.camera;t.projectToScreen(this.location,O),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["b"])(R,this.location,this.direction),t.projectToScreen(R,v),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["i"])(v,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["f"])(v,v,O)),this.updateVertexAttributes(t,e,0,O,v,1),this.updateVertexAttributes(t,e,1,O,v,-1)}updateVertexAttributes(e,t,r,s,i,o){const a=t.geometryRecords[r],l=a.geometry.getMutableAttribute("position").data,d=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["g"])(P,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["s"])(P,i[1]*o,i[0]*-o),this.offset+this.width/2),m=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["m"])(V,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["m"])(V,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["m"])(V,s,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["g"])(V,i,this.length/2)),d),d),u=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["m"])(M,m,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_3__["g"])(M,i,-this.length));e.unprojectFromScreen(m,R),l[0]=R[0],l[1]=R[1],l[2]=R[2],e.unprojectFromScreen(u,R),l[3]=R[0],l[4]=R[1],l[5]=R[2],t.geometryVertexAttrsUpdated(a)}}const R=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])(),O=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__["createScreenPointArray"])(),v=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__["createScreenPointArray"])(),P=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__["createScreenPointArray"])(),V=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__["createScreenPointArray"])(),M=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_2__["createScreenPointArray"])();


/***/ }),

/***/ "H4cX":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulatorUtils.js ***!
  \*****************************************************************************************/
/*! exports provided: canMoveZ, disableDisplayOnGrab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "canMoveZ", function() { return t; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "disableDisplayOnGrab", function() { return n; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "9AiD");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function t(o,t=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__["getGraphicEffectiveElevationInfo"])(o)){return"on-the-ground"!==t.mode&&!(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(o.geometry)||!o.geometry.hasZ)}function n(e,r){let t=null;const n=e.events.on("grab-changed",(n=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t)&&(t.remove(),t=null),"start"===n.action?(t=e.disableDisplay(),r&&r(n)):r&&r(n)}));return{remove(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t)&&t.remove(),n.remove()}}}


/***/ }),

/***/ "IlJQ":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js ***!
  \******************************************************************************************************/
/*! exports provided: ScreenSizeScaling, bindScreenSizeScalingUniforms */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScreenSizeScaling", function() { return i; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bindScreenSizeScalingUniforms", function() { return r; });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ "OIYi");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function i(i){i.vertex.uniforms.add("camPos","vec3").add("perScreenPixelRatio","float").add("screenSize","float"),i.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__["glsl"]`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));
return viewDirectionDistance*perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;
}`)}function r(e,i,r){e.setUniform1f("perScreenPixelRatio",r.camera.perScreenPixelRatio),e.setUniform1f("screenSize",i.screenSize)}


/***/ }),

/***/ "Jpjp":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js ***!
  \***********************************************************************/
/*! exports provided: isMultiOriginJSONMixin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isMultiOriginJSONMixin", function() { return i; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function i(i){return i&&"getAtOrigin"in i&&"originOf"in i}


/***/ }),

/***/ "Knsq":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js ***!
  \*************************************************************************************************/
/*! exports provided: ShadedColorMaterialTechnique, ShadedColorMaterialTechniqueConfiguration, ShadedColorMaterialVertexAttrLocations */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShadedColorMaterialTechnique", function() { return S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShadedColorMaterialTechniqueConfiguration", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShadedColorMaterialVertexAttrLocations", function() { return P; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec4f64.js */ "D8Ta");
/* harmony import */ var _core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderLibrary/ScreenSizeScaling.glsl.js */ "IlJQ");
/* harmony import */ var _core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderLibrary/Slice.glsl.js */ "0nJL");
/* harmony import */ var _core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ "xtdb");
/* harmony import */ var _core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/shaderLibrary/util/View.glsl.js */ "jpeq");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "w6Td");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "ypgp");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "2jVe");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "dDjh");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../lib/Program.js */ "yCmR");
/* harmony import */ var _chunks_ShadedColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/ShadedColorMaterial.glsl.js */ "aS/U");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "GJyJ");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class S extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_7__["ShaderTechnique"]{initializeProgram(e){const r=S.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_10__["Program"](e.rctx,t,P)}bindPass(e,r){const{screenSizeEnabled:t,shadingEnabled:a}=this.configuration,{color:n,shadingTint:l,shadingDirection:p}=e;Object(_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_5__["bindProjectionMatrix"])(this.program,r.camera.projectionMatrix),this.program.setUniform4fv("color",n),r.multipassTerrainEnabled&&(this.program.setUniform2fv("cameraNearFar",r.camera.nearFar),this.program.setUniform2fv("inverseViewport",r.inverseViewport),Object(_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_4__["bindMultipassTerrainTexture"])(this.program,r)),a&&(this.program.setUniform4fv("shadedColor",this.blendColor(w,l,n)),this.program.setUniform3fv("shadingDirection",p),this.program.setUniformMatrix4fv("viewNormal",r.camera.viewInverseTransposeMatrix)),t&&Object(_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_2__["bindScreenSizeScalingUniforms"])(this.program,e,r)}bindDraw(e){Object(_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_5__["bindView"])(this.program,e),Object(_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_5__["bindCameraPosition"])(this.program,e.origin,e.camera.viewInverseTransposeMatrix),Object(_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_3__["bindSliceUniformsWithOrigin"])(this.program,this.configuration,e),this.program.rebindTextures()}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["makePipelineState"])({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__["blendingDefault"]:Object(_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__["OITBlending"])(e),culling:Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["cullingParams"])(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["defaultDepthWriteParams"]:Object(_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__["OITDepthWrite"])(e),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_12__["defaultColorWriteParams"],polygonOffset:i||t?null:_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_9__["OITPolygonOffset"]})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}S.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_6__["ReloadableShaderModule"](_chunks_ShadedColorMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_11__["S"],(()=>__webpack_require__.e(/*! import() | ShadedColorMaterial-glsl-js */ "ShadedColorMaterial-glsl-js").then(__webpack_require__.bind(null, /*! ./ShadedColorMaterial.glsl.js */ "yqaz"))));class j extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["ShaderTechniqueConfiguration"]{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])({count:8})],j.prototype,"output",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])({count:3})],j.prototype,"cullFace",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])()],j.prototype,"slicePlaneEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])()],j.prototype,"transparent",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])()],j.prototype,"writeDepth",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])()],j.prototype,"screenSizeEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])()],j.prototype,"shadingEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])({count:4})],j.prototype,"transparencyPassType",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])()],j.prototype,"multipassTerrainEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_8__["parameter"])()],j.prototype,"cullAboveGround",void 0);const P=new Map([["position",0],["normal",1],["offset",2]]),w=Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_1__["c"])();


/***/ }),

/***/ "M7DR":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/axisAngleDegrees.js ***!
  \************************************************************************/
/*! exports provided: UP, angle, angleRad, axis, compose, copy, create, fromAxisAndAngle, fromPoints, fromValues, setAngle, wrap, wrapAxisAngle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UP", function() { return U; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "angle", function() { return v; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "angleRad", function() { return x; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "axis", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compose", function() { return q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "copy", function() { return h; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "create", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromAxisAndAngle", function() { return k; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromPoints", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromValues", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setAngle", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wrap", function() { return m; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wrapAxisAngle", function() { return p; });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/quat.js */ "BPBZ");
/* harmony import */ var _chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/quatf64.js */ "sTkM");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../chunks/vec3.js */ "5DEt");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function a(n=U){return[n[0],n[1],n[2],n[3]]}function m(n,r,t,u){return j(n,r,t,u,w)}function p(n,r){return j(n[0],n[1],n[2],r,w)}function h(n,r=a()){return j(n[0],n[1],n[2],n[3],r)}function j(n,r,t,u,o=a()){return o[0]=n,o[1]=r,o[2]=t,o[3]=u,o}function k(n,r,t=a()){return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(l(t),n),t[3]=r,t}function g(n,r,t=a()){return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["c"])(t,n,r),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["n"])(t,t),t[3]=-Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["y"])(n,r),t}function q(r,c,s=a()){return Object(_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__["s"])(b,l(r),x(r)),Object(_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__["s"])(d,l(c),x(c)),Object(_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__["m"])(b,d,b),y(s,Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__["rad2deg"])(Object(_chunks_quat_js__WEBPACK_IMPORTED_MODULE_1__["g"])(l(s),b)))}function l(n){return n}function v(n){return n[3]}function x(n){return Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__["deg2rad"])(n[3])}function y(n,r){return n[3]=r,n}const U=[0,0,1,0],b=Object(_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__["a"])(),d=Object(_chunks_quatf64_js__WEBPACK_IMPORTED_MODULE_2__["a"])(),w=a();


/***/ }),

/***/ "NLB6":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ExtentTransformTool.js ***!
  \*************************************************************************************************************/
/*! exports provided: EPSILON, ExtentTransformTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EPSILON", function() { return Gt; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExtentTransformTool", function() { return St; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/unitUtils.js */ "gEht");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/watchUtils.js */ "N5XI");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../chunks/vec2.js */ "M0lq");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../chunks/vec2f64.js */ "AvGH");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../../geometry/support/aaBoundingRect.js */ "kYAx");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../../chunks/boundedPlane.js */ "DZ/s");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../../geometry/support/plane.js */ "colF");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../geometry/support/ray.js */ "0Y+r");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../manipulatorUtils.js */ "dK/y");
/* harmony import */ var _analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../analysisTools/slice/sliceToolUtils.js */ "DufC");
/* harmony import */ var _analysisTools_slice_images_Factory_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../analysisTools/slice/images/Factory.js */ "1Na6");
/* harmony import */ var _dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../dragEventPipeline3D.js */ "tKWm");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../manipulatorUtils.js */ "H4cX");
/* harmony import */ var _visualElementUtils_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../visualElementUtils.js */ "gwGW");
/* harmony import */ var _manipulations_MoveXYGraphicManipulation_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../manipulations/MoveXYGraphicManipulation.js */ "rL7w");
/* harmony import */ var _PreserveAspectRatio_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./PreserveAspectRatio.js */ "qEsh");
/* harmony import */ var _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../visualElements/OutlineVisualElement.js */ "RPp6");
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../layers/graphics/elevationAlignmentUtils.js */ "Lg+x");
/* harmony import */ var _layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../layers/graphics/ElevationContext.js */ "Drlb");
/* harmony import */ var _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../layers/graphics/GraphicState.js */ "p9ZE");
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../support/geometryUtils/ray.js */ "mZDS");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/* harmony import */ var _interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../interactive/InteractiveToolBase.js */ "R3Kl");
/* harmony import */ var _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../interactive/editGeometry/EditGeometryOperations.js */ "LI85");
/* harmony import */ var _interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../../interactive/editGeometry/support/editPlaneUtils.js */ "Walh");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let St=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"].EventedMixin(_interactive_InteractiveToolBase_js__WEBPACK_IMPORTED_MODULE_40__["InteractiveToolBase"])){constructor(t){super(t),this.enableZ=!0,this.enableRotation=!0,this.enableScaling=!0,this._preserveAspectRatio=new _PreserveAspectRatio_js__WEBPACK_IMPORTED_MODULE_33__["PreserveAspectRatio"],this.grabbing=!1,this.inputState=null,this.type="transform-3d",this.handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__["default"],this.moveZManipulator=null,this.resizeManipulators=null,this.rotateManipulator=null,this.attachmentOrigin=null,this.outlineVisualElement=null,this.mapBounds=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["c"])(),this.mapBoundsStart=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["c"])(),this.displayBounds=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["c"])(),this.displayBoundsStart=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["c"])(),this.displayBoundsMarginStart=0,this.resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}]}initialize(){this.graphicState=new _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_37__["GraphicState"]({graphic:this.graphic});const t=this.graphic.geometry;this.editGeometryOperations=_interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_41__["EditGeometryOperations"].fromGeometry(t,this.view.state.viewingMode),this.graphicMoveManipulation=new _manipulations_MoveXYGraphicManipulation_js__WEBPACK_IMPORTED_MODULE_32__["MoveXYGraphicManipulation"]({tool:this,view:this.view,graphicState:this.graphicState}),this.handles.add(this.createMoveXYGraphicDragPipeline()),this.moveZManipulator=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["createShiftManipulator"])(this.view,0),this.moveZManipulator.state|=_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["IsShiftEdgeOnScreenFlag"],this.handles.add(this.watch("enableZ",(()=>this.updateManipulatorAvailability(this.moveZManipulator,0)))),this.handles.add(this.createMoveZDragPipeline()),this.manipulators.add(this.moveZManipulator),this.resizeManipulators=this.resizeHandles.map((t=>{const e=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["createResizeManipulator"])(this.view,t);return this.handles.add(this.watch("enableScaling",(()=>this.updateManipulatorAvailability(e,2)))),e.events.on("grab-changed",(t=>this.onResizeGrab(t))),this.handles.add(this.createResizeDragPipeline(e,t)),e})),this.manipulators.addMany(this.resizeManipulators),this.rotateManipulatorTexture=Object(_analysisTools_slice_images_Factory_js__WEBPACK_IMPORTED_MODULE_28__["getRotateHeadingTexture"])(this.view.toolViewManager.textures),this.rotateManipulator=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["createRotateManipulator"])(this.view,this.rotateManipulatorTexture.texture),this.handles.add(this.watch("enableRotation",(()=>this.updateManipulatorAvailability(this.rotateManipulator,3)))),this.rotateManipulator.events.on("grab-changed",(t=>{this.onRotateGrab(t)})),this.handles.add(this.createRotateDragPipeline(this.rotateManipulator)),this.manipulators.add(this.rotateManipulator),this.calculateMapBounds(),this.updateDisplayBounds();const e=Object(_visualElementUtils_js__WEBPACK_IMPORTED_MODULE_31__["createVisualElements"])({view:this.view,graphic:this.graphic,forEachManipulator:t=>this.forEachManipulator(t),onManipulatorsChanged:()=>Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__["makeHandle"])()});Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(e)&&(this.outlineVisualElement=e.visualElement instanceof _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_34__["OutlineVisualElement"]?e.visualElement:null),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(this.outlineVisualElement)&&this.handles.add(this.outlineVisualElement.events.on("attachment-origin-changed",(()=>this.updateDisplayBounds()))),this.handles.add(e),this.handles.add([this.graphicState.on("changed",(()=>this.onGeometryChanged())),this.graphicState.watch("displaying",(()=>this.updateAllManipulatorAvailability())),Object(_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_8__["init"])(this.graphicState,"isDraped",(()=>this.graphicDrapedChanged())),this.view.trackGraphicState(this.graphicState)]);const i=this.view.pointsOfInterest;i&&this.handles.add(i.centerOnSurfaceFrequent.watch("location",(()=>this.updateDisplayBounds())));const s=t=>{this.handles.add(t.events.on("grab-changed",(()=>{this.grabbing=t.grabbing,this.updateAllManipulatorAvailability()})))};this.forEachManipulator(s);const o=(t,e)=>{this.handles.add(t.events.on("immediate-click",(t=>{1===e&&this.emit("immediate-click",{...t,graphic:this.graphic}),t.stopPropagation()})))};this.forEachManipulator(o),this.onGeometryChanged(),this.updateAllManipulatorAvailability(),this.complete()}graphicDrapedChanged(){this.handles.remove(bt),this.updateDisplayBounds(),this.graphicState.isDraped&&this.handles.add(this.view.elevationProvider.on("elevation-change",(t=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(this.attachmentOrigin)&&Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_19__["containsXY"])(t.extent,this.attachmentOrigin.x,this.attachmentOrigin.y)&&this.updateDisplayBounds()})),bt)}updateAllManipulatorAvailability(){this.forEachManipulator(((t,e)=>this.updateManipulatorAvailability(t,e)))}updateManipulatorAvailability(t,e){const i=this.grabbing&&!t.grabbing;if(t.interactive=!i,t instanceof _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_25__["Manipulator3D"]){const a=this.graphicState.displaying,s=this.enableZ&&Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_30__["canMoveZ"])(this.graphic);switch(e){case 3:t.available=a&&this.enableRotation;break;case 2:t.available=a&&(this.enableScaling||this.enableRotation||s),t.interactive=!i&&this.enableScaling,t.state=this.enableScaling?_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["resizeNormal"]:_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["resizeOutlineOnly"];break;case 0:t.available=a&&s;break;default:t.available=a}}}forEachManipulator(t){this.graphicMoveManipulation.forEachManipulator(t),this.resizeManipulators.forEach((e=>t(e,2))),t(this.rotateManipulator,3),t(this.moveZManipulator,0)}destroy(){this.rotateManipulatorTexture.release(),this.handles.destroy(),this.graphicMoveManipulation.destroy(),this.editGeometryOperations.destroy(),this._set("view",null),this._set("graphic",null)}get preserveAspectRatio(){return this._preserveAspectRatio.enabled}set preserveAspectRatio(t){this._preserveAspectRatio.enabled=t,this._set("preserveAspectRatio",t)}reset(){}onDetach(){this.mapBounds=null,this.displayBounds=null}onGeometryChanged(){this.updateDisplayBounds()}calculateMapBounds(){const t=this.graphic.geometry,e=this.editGeometryOperations.data,i=e.components[0].edges[0],a=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_15__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sv2d"].get(),i.leftVertex.pos,i.rightVertex.pos);Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_15__["i"])(a,a);const s=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["unwrapOr"])(Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_26__["getGraphicAttachmentOrigin"])(this.view,this.graphic),t.extent.center);let r=xt*this.view.pixelSizeAt(s);const n=this.view.spatialReference;n!==t.spatialReference&&(r*=Object(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__["getMetersPerUnitForSR"])(n)/Object(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_7__["getMetersPerUnitForSR"])(t.spatialReference)),Object(_interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__["calculateOrientedBounds"])(a,e,r,this.mapBounds)}updateDisplayBounds(){const t=this.graphic.geometry;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isNone"])(t))return;const e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(this.outlineVisualElement)&&!this.graphicState.isDraped&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(this.outlineVisualElement.attachmentOrigin)?this.outlineVisualElement.attachmentOrigin:Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_26__["getGraphicAttachmentOrigin"])(this.view,this.graphic);this.attachmentOrigin=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["unwrapOr"])(e,t.extent.center);const i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(e)?e.z:Object(_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_35__["evaluateElevationAlignmentAtPoint"])(this.mapBounds.origin,this.view.elevationProvider,_layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_36__["ElevationContext"].fromElevationInfo(Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_24__["getGraphicEffectiveElevationInfo"])(this.graphic)),this.view.renderCoordsHelper),a=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["a"])(this.mapBounds);a.origin[2]=i,Object(_interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__["mapPlaneToRenderPlane"])(a,this.view.renderCoordsHelper,t.spatialReference,this.displayBoundsMargin,this.displayBounds),this.updateManipulators()}get displayBoundsMargin(){const t=this.view.pointsOfInterest,e=t?t.centerOnSurfaceFrequent.location:this.editGeometryOperations.data.geometry.extent.center;return Bt*this.view.pixelSizeAt(e)}createMoveXYGraphicDragPipeline(){return this.graphicMoveManipulation.createDragPipeline(((t,e,i)=>this.applyGraphicMoveSteps(e,i)))}createMoveZDragPipeline(){const t=this.view,e=this.editGeometryOperations.data.spatialReference;return Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_39__["createManipulatorDragEventPipeline"])(this.moveZManipulator,((i,a,s)=>{const r=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__["a"])(i.renderLocation),o=a.next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_29__["screenToZConstrained"])(t,r,e)).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_39__["addScreenDelta"])());this.applyGraphicMoveSteps(o,s)}))}applyGraphicMoveSteps(t,e){const i=t.next((t=>("start"===t.action&&(this.inputState={type:"move"},Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["a"])(this.mapBounds,this.mapBoundsStart),this.emit("graphic-translate-start",{graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY})),t))).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_39__["addMapDelta"])()).next(this.moveDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,dxScreen:t.screenDeltaX,dyScreen:t.screenDeltaY};switch(t.action){case"start":case"update":(t.mapEnd.x-t.mapStart.x||t.mapEnd.y-t.mapStart.y||t.mapEnd.z-t.mapStart.z)&&this.emit("graphic-translate",e);break;case"end":this.inputState=null,this.emit("graphic-translate-stop",e)}return t}));return e.next((()=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(this.inputState)&&this.emit("graphic-translate-stop",{graphic:this.graphic,dxScreen:0,dyScreen:0}),this.cancel()})),i}moveDragUpdateGeometry(){return t=>{if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isNone"])(this.inputState)||"move"!==this.inputState.type)return t;const e=[];for(const s of this.editGeometryOperations.data.components)e.push(...s.vertices);const i="start"===t.action?0:1,a=this.editGeometryOperations.moveVertices(e,t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i);return Object(_interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__["apply"])(a,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}onResizeGrab(t){if("start"!==t.action)return;const e=this.calculatePickRay(t.screenPoint);Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_21__["intersectRay"])(this.displayBounds.plane,e,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sv3d"].get())&&(Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["a"])(this.displayBounds,this.displayBoundsStart),Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["a"])(this.mapBounds,this.mapBoundsStart),this.displayBoundsMarginStart=this.displayBoundsMargin,this.inputState={type:"resize"})}createResizeDragPipeline(t,e){return Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_39__["createManipulatorDragEventPipeline"])(t,((t,i,a)=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isNone"])(this.inputState)||(i.next((t=>("start"===t.action&&this.emit("graphic-scale-start",{graphic:this.graphic,xScale:1,yScale:1}),t))).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_29__["screenToRenderPlane"])(this.view,this.displayBoundsStart.plane)).next((t=>({...t,handle:e}))).next(this.resizeDragRenderPlaneToFactors()).next(this._preserveAspectRatio.createDragEventPipelineStep(),this._preserveAspectRatio.next).next(this.resizeDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,xScale:t.factor1,yScale:t.factor2};switch(t.action){case"start":case"update":this.emit("graphic-scale",e);break;case"end":this.inputState=null,this.emit("graphic-scale-stop",e)}return t})),a.next((()=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(this.inputState)&&this.emit("graphic-scale-stop",{graphic:this.graphic,xScale:1,yScale:1}),this.cancel()})))}))}resizeDragRenderPlaneToFactors(){return t=>{const e=this.displayBoundsStart,i=t.handle.direction,a=this.displayBoundsMargin,s=this.displayBoundsMarginStart,r=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["g"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sv3d"].get(),e.origin);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["F"])(r,r,e.basis1,-i[0]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["F"])(r,r,e.basis2,-i[1]);const o=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sv3d"].get(),t.renderEnd,r),n=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sv3d"].get(),t.renderStart,r),p=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["isDiagonalResizeHandle"])(t.handle),h=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["calculateDiagonalResizeHandleScale"])(e),l=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["calculateDiagonalResizeHandleScale"])(this.displayBounds)/h,c=(t,e)=>{if(0===t)return 1;let i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["l"])(e),r=.5*t*Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["d"])(e,o)/i;const h=r<0?-1:1;if(p){r+=(i-.5*t*Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["d"])(e,n)/i)*h*l}const c=i<1.5*s?1:Gt;return i=Math.max(i-s,Gt),h>0&&(r-=a),h*Math.max(h*(r/i),c)};return{...t,factor1:c(i[0],e.basis1),factor2:c(i[1],e.basis2)}}}resizeDragUpdateGeometry(){return t=>{const e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["g"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__["c"])(),this.mapBoundsStart.origin);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["F"])(e,e,this.mapBoundsStart.basis1,-t.handle.direction[0]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["F"])(e,e,this.mapBoundsStart.basis2,-t.handle.direction[1]);const i=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_15__["s"])(Object(_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_16__["a"])(),this.mapBoundsStart.basis1[0],this.mapBoundsStart.basis1[1]);Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_15__["i"])(i,i);const a=[];for(const o of this.editGeometryOperations.data.components)a.push(...o.vertices);const s="start"===t.action?0:1,r=this.editGeometryOperations.scaleVertices(a,e,i,t.factor1,t.factor2,s,1);return Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["a"])(this.mapBoundsStart,this.mapBounds),Object(_interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__["apply"])(r,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}onRotateGrab(t){if("start"!==t.action)return;const e=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["createRotatePlane"])(this.displayBounds,this.view.renderCoordsHelper,1,Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_21__["create"])()),i=this.calculatePickRay(t.screenPoint);Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_21__["intersectRay"])(e,i,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sv3d"].get())&&(Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["a"])(this.displayBounds,this.displayBoundsStart),Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["a"])(this.mapBounds,this.mapBoundsStart),this.inputState={type:"rotate",rotatePlane:e})}createRotateDragPipeline(t){return Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_39__["createManipulatorDragEventPipeline"])(t,((t,e,i)=>{const a=this.inputState;Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isNone"])(a)||(e.next((t=>("start"===t.action&&this.emit("graphic-rotate-start",{graphic:this.graphic,angle:0}),t))).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_29__["screenToRenderPlane"])(this.view,a.rotatePlane)).next(this.rotateDragRenderPlaneToRotate(a)).next(this.rotateDragUpdateGeometry()).next((t=>{const e={graphic:this.graphic,angle:Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_4__["rad2deg"])(t.rotateAngle)};switch(t.action){case"start":case"update":this.emit("graphic-rotate",e);break;case"end":this.inputState=null,this.emit("graphic-rotate-stop",e)}return t})),i.next((()=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(this.inputState)&&this.emit("graphic-rotate-stop",{graphic:this.graphic,angle:0}),this.cancel()})))}))}rotateDragRenderPlaneToRotate(t){return e=>{const i=Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_21__["normal"])(t.rotatePlane),a=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_26__["calculateInputRotationTransform"])(e.renderStart,e.renderEnd,this.displayBounds.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}rotateDragUpdateGeometry(){return t=>{const e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["g"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_18__["c"])(),this.mapBoundsStart.origin),i=[];for(const r of this.editGeometryOperations.data.components)i.push(...r.vertices);const a="start"===t.action?0:1,s=this.editGeometryOperations.rotateVertices(i,e,t.rotateAngle,a,1);return Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_20__["a"])(this.mapBoundsStart,this.mapBounds),Object(_interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__["apply"])(s,this.mapBounds),this.graphic.geometry=this.editGeometryOperations.data.geometry,t}}calculatePickRay(t){const e=Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_22__["create"])(),i=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_6__["screenPointObjectToArray"])(t);return Object(_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_38__["fromScreen"])(this.view.state.camera,i,e),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["n"])(e.direction,e.direction),e}updateManipulators(){if(!this.visible)return;const t=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["calculateBoundedPlaneTranslateRotate"])(this.displayBounds,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sm4d"].get());Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["updateRotateHeadingHandle"])(this.rotateManipulator,t,this.displayBounds,this.view.renderCoordsHelper),this.updateZMoveHandle(this.moveZManipulator,t),this.resizeManipulators.forEach(((e,i)=>{Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_27__["updateResizeHandle"])(e,this.resizeHandles[i],t,this.displayBounds)}))}updateZMoveHandle(t,e){const i=this.displayBounds,a={basis:i.basis1,direction:-1,position:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_17__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sv3d"].get(),i.origin,i.basis1),edge:2},s=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_23__["sm4d"].get();Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_14__["r"])(s,e,a.edge*Math.PI/2),s[12]=0,s[13]=0,s[14]=0,t.modelTransform=s,t.renderLocation=a.position}cancel(){const t=this.editGeometryOperations.lastOperation;Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isNone"])(t)||(this.editGeometryOperations.undo(),this.graphic.geometry=this.editGeometryOperations.data.geometry,Object(_interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__["unapply"])(t,this.mapBounds),this.updateDisplayBounds(),this.inputState=null)}get canUndo(){return this.editGeometryOperations.canUndo}undo(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["isSome"])(this.inputState))this.view.activeTool=null;else if(this.canUndo){const t=this.editGeometryOperations.undo();this.graphic.geometry=this.editGeometryOperations.data.geometry,Object(_interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__["unapply"])(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["unwrap"])(t),this.mapBounds),this.updateDisplayBounds()}}get canRedo(){return this.editGeometryOperations.canRedo}redo(){if(this.canRedo){const t=this.editGeometryOperations.redo();this.graphic.geometry=this.editGeometryOperations.data.geometry,Object(_interactive_editGeometry_support_editPlaneUtils_js__WEBPACK_IMPORTED_MODULE_42__["apply"])(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__["unwrap"])(t),this.mapBounds),this.updateDisplayBounds()}}get test(){return{resizeManipulators:this.resizeManipulators,rotateManipulator:this.rotateManipulator,moveZManipulator:this.moveZManipulator}}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])({constructOnly:!0,nonNullable:!0})],St.prototype,"view",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])({constructOnly:!0,nonNullable:!0})],St.prototype,"graphic",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])({constructOnly:!0,nonNullable:!0})],St.prototype,"enableZ",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])()],St.prototype,"enableRotation",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])()],St.prototype,"enableScaling",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])()],St.prototype,"preserveAspectRatio",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])()],St.prototype,"grabbing",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])()],St.prototype,"inputState",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_9__["property"])({readOnly:!0})],St.prototype,"type",void 0),St=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_13__["subclass"])("esri.views.3d.interactive.editingTools.graphicTransform3D.ExtentTransformTool")],St);const bt="draped-elevation-changes",Bt=10,xt=80,Gt=1e-6;


/***/ }),

/***/ "Ns/c":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/coordinateSystem.js ***!
  \************************************************************************/
/*! exports provided: altitudeAt, axisAt, closestPoint, closestPointOnSilhouette, coordinateSystemFromOneAxisAndNormalVector, create, createFromOperations, createGlobal, createLocal, distanceToSilhouette, elevate, fromValues, intersectRay, intersectRayClosestSilhouette, intersectsRay, normalAt, renderSRFromViewSR, setAltitudeAt, setAltitudeOfTransformation, setExtent, vectorCoordinates, wrap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "altitudeAt", function() { return O; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "axisAt", function() { return R; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "closestPoint", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "closestPointOnSilhouette", function() { return E; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "coordinateSystemFromOneAxisAndNormalVector", function() { return F; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "create", function() { return m; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createFromOperations", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGlobal", function() { return k; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createLocal", function() { return x; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "distanceToSilhouette", function() { return G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "elevate", function() { return w; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromValues", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "intersectRay", function() { return S; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "intersectRayClosestSilhouette", function() { return C; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "intersectsRay", function() { return b; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalAt", function() { return P; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "renderSRFromViewSR", function() { return H; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setAltitudeAt", function() { return T; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setAltitudeOfTransformation", function() { return q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setExtent", function() { return h; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "vectorCoordinates", function() { return D; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "wrap", function() { return y; });
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _projectionEllipsoid_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../projectionEllipsoid.js */ "9pTf");
/* harmony import */ var _SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../SpatialReference.js */ "WZb1");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../chunks/boundedPlane.js */ "DZ/s");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../chunks/sphere.js */ "+JUG");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function m(t){const{value:n,operations:e}=t;return{operations:e,value:e.create(n)}}function h(t,n,e){return t.operations.setExtent(t.value,n,e.value),e}function d(t){return{operations:t,value:t.create()}}function j(t,n,e=d(t)){return e.operations=t,t.copy(n,e.value),e}function k(t){return j(_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__["s"],Object(_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_6__["f"])(0,0,0,Object(_projectionEllipsoid_js__WEBPACK_IMPORTED_MODULE_3__["getReferenceEllipsoid"])(t).radius))}const A=2**50;function x(){return j(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_5__["b"],Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_5__["f"])([0,0,0],[A,0,0],[0,A,0]))}function y(t,n){return B.operations=t,B.value=n,B}function P(t,n,e){return t.operations.axisAt(t.value,n,2,e)}function R(t,n,e,o){return t.operations.axisAt(t.value,n,e,o)}function S(t,n,e){return t.operations.intersectRay(t.value,n,e)}function b(t,n){return t.operations.intersectRay(t.value,n,null)}function g(t,n,e){return t.operations.closestPoint(t.value,n,e)}function C(t,n,e){return t.operations.intersectRayClosestSilhouette(t.value,n,e)}function E(t,n,e){return t.operations.closestPointOnSilhouette(t.value,n,e)}function G(t,n){return t.operations.distanceToSilhouette(t.value,n)}function O(t,n){return t.operations.altitudeAt(t.value,n)}function T(t,n,e,o){return t.operations.setAltitudeAt(t.value,n,e,o)}function q(e,o,r,u){return o!==u&&Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_0__["c"])(u,o),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["s"])(z,u[12],u[13],u[14]),T(e,z,r,z),u[12]=z[0],u[13]=z[1],u[14]=z[2],u}function w(t,n,e){return t.operations.elevate(t.value,n,e.value)}const z=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])(),B={operations:null,value:null};function D(t,n,o,r,u){return u[0]=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["d"])(t,n),u[1]=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["d"])(t,o),u[2]=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["d"])(t,r),u}function F(t,n,e,a,i){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["g"])(e,t),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["g"])(I,n),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["n"])(I,I),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["c"])(a,I,e),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["c"])(i,a,e)}function H(t,n){return t?Object(_projectionEllipsoid_js__WEBPACK_IMPORTED_MODULE_3__["getSphericalPCPF"])(n):n.isGeographic?_SpatialReference_js__WEBPACK_IMPORTED_MODULE_4__["default"].PlateCarree:n}const I=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])();


/***/ }),

/***/ "O80d":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/snapping/SnapToScene.js ***!
  \*********************************************************************************************/
/*! exports provided: SnapToScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SnapToScene", function() { return a; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class a{constructor(){this.view=null,this.elevationInfo=null,this.lastDragEvent=null,this.next=new _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_2__["EventPipeline"],this._enabled=!1}get enabled(){return this._enabled}set enabled(e){if(this._enabled!==e&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this.lastDragEvent)){const n=this.lastDragEvent.mapEnd,a=this.snap(this.lastDragEvent.screenEnd);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(a)){const t={action:"update",mapStart:this.lastDragEvent.mapStart,mapEnd:!0===e?a:n,screenStart:this.lastDragEvent.screenEnd,screenEnd:this.lastDragEvent.screenEnd};this.next.execute(t)}}this._enabled=e}snap(n){const a=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this.view)?this.view.toMap(n,{exclude:[]}):null;return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(a)&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this.view)&&(a.z=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_1__["getZForElevationMode"])(a,this.view,this.elevationInfo)),a}createDragEventPipelineStep(e,n){return this.view=e,this.elevationInfo=n,this.lastDragEvent=null,e=>{if(this.lastDragEvent="end"!==e.action?{...e}:null,this._enabled){const n=this.snap(e.screenEnd);return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(n)?{action:e.action,mapStart:e.mapStart,mapEnd:n,screenStart:e.screenStart,screenEnd:e.screenEnd}:null}return{action:e.action,mapStart:e.mapStart,mapEnd:e.mapEnd,screenStart:e.screenStart,screenEnd:e.screenEnd}}}}


/***/ }),

/***/ "Pvr3":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/SlicePlaneMaterial.js ***!
  \*****************************************************************************************/
/*! exports provided: SlicePlaneMaterial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SlicePlaneMaterial", function() { return l; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "2jVe");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "1/dN");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/Material.js */ "NbNv");
/* harmony import */ var _internal_DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/DefaultBufferWriter.js */ "hnWO");
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ "fFEv");
/* harmony import */ var _shaders_SlicePlaneMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shaders/SlicePlaneMaterialTechnique.js */ "Ttk/");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class l extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_3__["Material"]{constructor(r){super(r,m),this._config=new _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_1__["ShaderTechniqueConfiguration"]}intersect(r,e,t,i,n,o,s){return Object(_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__["intersectTriangleGeometry"])(r,e,i,n,o,void 0,s)}createBufferWriter(){return new _internal_DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_4__["DefaultBufferWriter"](_internal_DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_4__["PositionUVLayout"])}requiresSlot(r){return 7===r}createGLMaterial(r){return 0===r.output?new c(r):null}getTechniqueConfig(){return this._config}}class c extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_2__["default"]{constructor(r){super(r),this.ensureTechnique(_shaders_SlicePlaneMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_6__["SlicePlaneMaterialTechnique"],null)}updateParameters(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["unwrap"])(this.technique)}beginSlot(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["unwrap"])(this.technique)}bind(r,e){e.bindPass(this._material.parameters,r)}}const m={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,..._lib_Material_js__WEBPACK_IMPORTED_MODULE_3__["materialParametersDefaults"]};


/***/ }),

/***/ "Q44q":
/*!************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools.js ***!
  \************************************************************************/
/*! exports provided: DrawGraphicTool3D, GraphicMoveTool, GraphicReshapeTool, GraphicTransformTool, ExtentTransformTool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _editingTools_draw_DrawGraphicTool3D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editingTools/draw/DrawGraphicTool3D.js */ "0IB0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DrawGraphicTool3D", function() { return _editingTools_draw_DrawGraphicTool3D_js__WEBPACK_IMPORTED_MODULE_0__["DrawGraphicTool3D"]; });

/* harmony import */ var _editingTools_moveGraphic_GraphicMoveTool_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editingTools/moveGraphic/GraphicMoveTool.js */ "97qS");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GraphicMoveTool", function() { return _editingTools_moveGraphic_GraphicMoveTool_js__WEBPACK_IMPORTED_MODULE_1__["GraphicMoveTool"]; });

/* harmony import */ var _editingTools_reshapeGraphic_GraphicReshapeTool_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editingTools/reshapeGraphic/GraphicReshapeTool.js */ "Al+X");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GraphicReshapeTool", function() { return _editingTools_reshapeGraphic_GraphicReshapeTool_js__WEBPACK_IMPORTED_MODULE_2__["GraphicReshapeTool"]; });

/* harmony import */ var _editingTools_transformGraphic_GraphicTransformTool_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editingTools/transformGraphic/GraphicTransformTool.js */ "2VAc");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "GraphicTransformTool", function() { return _editingTools_transformGraphic_GraphicTransformTool_js__WEBPACK_IMPORTED_MODULE_3__["GraphicTransformTool"]; });

/* harmony import */ var _editingTools_transformGraphic_ExtentTransformTool_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editingTools/transformGraphic/ExtentTransformTool.js */ "NLB6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExtentTransformTool", function() { return _editingTools_transformGraphic_ExtentTransformTool_js__WEBPACK_IMPORTED_MODULE_4__["ExtentTransformTool"]; });

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/



/***/ }),

/***/ "Qpoz":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYAxisManipulation.js ***!
  \*************************************************************************************************************/
/*! exports provided: MoveXYAxisManipulation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveXYAxisManipulation", function() { return U; });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../Color.js */ "nvBr");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/* harmony import */ var _dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../dragEventPipeline3D.js */ "tKWm");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../settings.js */ "2WkI");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./config.js */ "UcZh");
/* harmony import */ var _Manipulation_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Manipulation.js */ "GXUb");
/* harmony import */ var _moveUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./moveUtils.js */ "22x+");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../webgl-engine/materials/ColorMaterial.js */ "024p");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class U extends _Manipulation_js__WEBPACK_IMPORTED_MODULE_15__["Manipulation"]{constructor(t){super(),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__["default"],this._arrowManipulatorInfos=new Array,this._opaqueMaterial=this.createMaterial(),this._transparentMaterial=this.createMaterial(.5),this._angle=0,this._scale=1,this._radius=_config_js__WEBPACK_IMPORTED_MODULE_14__["DISC_RADIUS"],this._updateAfterDrag=!1,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t}destroy(){this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._handles=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["destroyMaybe"])(this._handles),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){for(const{manipulator:a}of this._arrowManipulatorInfos)t(a,1)}createGraphicDragPipeline(t,a,r){const e=a.graphic,i=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_10__["getGraphicEffectiveElevationInfo"])(e),s=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrap"])(e.geometry).spatialReference;return Object(_moveUtils_js__WEBPACK_IMPORTED_MODULE_16__["createGraphicMoveDragPipeline"])(a,r,(a=>this.createDragPipeline(((r,e,i,o,s)=>a(r,t(r,e,i,o,s),i)),i,s,e)),this._view.state.viewingMode)}createDragPipeline(t,a,r,i){return Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_3__["handlesGroup"])(this._arrowManipulatorInfos.map((({manipulator:e},o)=>Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_19__["createManipulatorDragEventPipeline"])(e,((e,s,n,l,p)=>{const u=s.next((t=>({...t,manipulatorType:1}))).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_19__["dragAtLocation"])(this._view,e.elevationAlignedLocation)).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_12__["screenToMapXYAtLocation"])(this._view,e.elevationAlignedLocation,a,r,i)).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_19__["constrainToMapAxis"])(e.location,this.angle+(o+1)*Math.PI*.5)).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_19__["addScreenDelta"])());t(e,u,n,l,p)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:a},r){const e=this._radius/_config_js__WEBPACK_IMPORTED_MODULE_14__["DISC_RADIUS"],i=_config_js__WEBPACK_IMPORTED_MODULE_14__["DISC_TRANSLATE_ARROW_SIZE"]*e,o=i*Math.sqrt(3)/2,u=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_17__["default"].createExtrudedTriangle(o,i/2,i/2,_config_js__WEBPACK_IMPORTED_MODULE_14__["DISC_HEIGHT"]);_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_17__["default"].transformInPlace(u,Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["v"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sm4d"].get(),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sv3d"].get(),0,-o/3,0))),t.renderObjects=[{geometry:u,material:this._opaqueMaterial,stateMask:2},{geometry:u,material:this._transparentMaterial,stateMask:1}],t.radius=o/3*2*1.2;const h=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["A"])(h,r*Math.PI/2);const m=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["v"])(m,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sv3d"].get(),0,_config_js__WEBPACK_IMPORTED_MODULE_14__["DISC_TRANSLATE_ARROW_OFFSET"]*e,0)),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["m"])(a,h,m)}_createManipulators(){for(let t=0;t<4;t++){const a=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(a)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,a=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["e"])(a,a,t,Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["f"])(0,0,1));const r=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["w"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sm4d"].get(),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sv3d"].get(),this.displayScale,this.displayScale,this.displayScale)),e=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["m"])(e,r,a);for(const i of this._arrowManipulatorInfos){const t=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["m"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_9__["sm4d"].get(),e,i.transform);i.manipulator.modelTransform=t}}_createArrowManipulator(t){const a=new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_11__["Manipulator3D"]({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["f"])(0,0,1)}}),r={manipulator:a,transform:Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__["c"])()};return this._updateArrowManipulator(r,t),this._handles.add(a.events.on("drag",(t=>{this._updateAfterDrag&&"end"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),r}createMaterial(a=1){const r=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(_settings_js__WEBPACK_IMPORTED_MODULE_13__["colors"].main);return r[3]*=a,new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_18__["ColorMaterial"]({color:r,transparent:1!==a,cullFace:2,renderOccluded:2})}get test(){return{arrowManipulators:this._arrowManipulatorInfos.map((({manipulator:t})=>t))}}}


/***/ }),

/***/ "QzCg":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateObjectSymbol3DAdapter.js ***!
  \**************************************************************************************************************************/
/*! exports provided: ScaleRotateObjectSymbol3DAdapter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleRotateObjectSymbol3DAdapter", function() { return y; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/HandleOwner.js */ "kJYu");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "R3wZ");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let y=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__["HandleOwner"]{constructor(t){super(t),this.angle=0,this.scale=1,this.symbol=null,this.initialAngle=0}initialize(){this.restart()}restart(){this.handles.remove(m);const t=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this.graphic.symbol)&&"point-3d"===this.graphic.symbol.type?this.graphic.symbol:_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["none"];if(this.symbol=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(t)?t.clone():null,this.initialSizes=[],Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(t)){const e=this.findLayerView();Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(e)&&(this.initialSizes=t.symbolLayers.map((i=>"object"===i.type?e.getSymbolLayerSize(t,i):null)).toArray())}this.angle=0,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(t)&&t.symbolLayers.some((t=>!("object"!==t.type||!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(t.heading))&&(this.angle=-Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__["deg2rad"])(t.heading),!0))),this.initialAngle=this.angle,this.scale=1,this.handles.add(Object(_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__["react"])((()=>({angle:this.angle,scale:this.scale})),(t=>this.updateSymbol(t)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__["sync"]),m)}cancel(){this.graphic.symbol=this.symbol}createUndoRecord(){let t=this.graphic.symbol,e=null;return{undo:i=>{e=i.symbol,i.symbol=t,this.restart()},redo:i=>{t=i.symbol,i.symbol=e,this.restart()}}}updateSymbol({scale:t,angle:e}){const i=this.graphic.symbol;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isNone"])(this.symbol)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isNone"])(i)||"point-3d"!==i.type)return;const r=i.clone(),h=-Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__["rad2deg"])(e-this.initialAngle);let c=!1;this.forEachObjectSymbolLayerPair(this.symbol,r,((e,i,s)=>{const r=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["unwrapOr"])(e.heading,0)+h;i.heading!==r&&(i.heading=r,c=!0);const a=this.initialSizes[s];if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(a)&&"width"in a){a.width=this.sizeFilter(a.width),a.height=this.sizeFilter(a.height),a.depth=this.sizeFilter(a.depth);const e=a.width*t;i.width!==e&&(i.width=e,c=!0);const s=a.depth*t;i.depth!==s&&(i.depth=s,c=!0);const o=a.height*t;i.height!==o&&(i.height=o,c=!0)}})),c&&(this.graphic.symbol=r)}forEachObjectSymbolLayerPair(t,e,i){t.symbolLayers.forEach(((t,s)=>{const o=e.symbolLayers.getItemAt(s);"object"===t.type&&"object"===o.type&&i(t,o,s)}))}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],y.prototype,"angle",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],y.prototype,"scale",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],y.prototype,"graphic",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],y.prototype,"symbol",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],y.prototype,"findLayerView",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],y.prototype,"sizeFilter",void 0),y=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__["subclass"])("esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateObjectSymbol3DAdapter")],y);const m="scale-heading-update-key";


/***/ }),

/***/ "RPp6":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/OutlineVisualElement.js ***!
  \***********************************************************************************************/
/*! exports provided: OutlineVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineVisualElement", function() { return A; });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ "XvKw");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/projection.js */ "gYg2");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "QmHG");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ "GlSV");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../symbols/support/ElevationInfo.js */ "/RTN");
/* harmony import */ var _DrapedVisualElementResources_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./DrapedVisualElementResources.js */ "19DF");
/* harmony import */ var _LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./LaserlineVisualElement.js */ "ZHv2");
/* harmony import */ var _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./VisualElementResources.js */ "3WMd");
/* harmony import */ var _layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../layers/graphics/ElevationContext.js */ "Drlb");
/* harmony import */ var _layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/graphics/lineUtils.js */ "1AhW");
/* harmony import */ var _webgl_engine_lib_geometryDataUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/lib/geometryDataUtils.js */ "EDiM");
/* harmony import */ var _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/lib/RenderGeometry.js */ "YGGH");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "hrr/");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class A{constructor(t){this.view=null,this._attachmentOrigin=Object(_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_8__["makeDehydratedPoint"])(0,0,0,null),this._attachmentOriginDirty=!0,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._isDraped=!1,this._geometry=null,this._width=1,this._color=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_5__["f"])(1,0,1,1),this._innerWidth=0,this._innerColor=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_5__["f"])(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._falloff=0,this._elevationInfo=null,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=8,this.resources=new _VisualElementResources_js__WEBPACK_IMPORTED_MODULE_13__["VisualElementResources"]({view:t.view,createResources:e=>this.createResources(e),recreateGeometry:(e,t)=>(e.geometries.length=0,this.recreateGeometry(t,e.material,e.geometries),e.geometries)}),this._attachmentOrigin.spatialReference=t.view.spatialReference,this.drapedResources=new _DrapedVisualElementResources_js__WEBPACK_IMPORTED_MODULE_11__["DrapedVisualElementResources"]({view:t.view,createResources:()=>this._createDrapedResources(),recreateGeometry:e=>{e.geometries=this._createRenderGeometriesDraped(e.material),this.attachmentOriginChanged()}});let r=!0;this._laserline=new _LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_12__["LaserlineVisualElement"]({view:t.view});for(const e in t)e in this?"attached"===e?r=t[e]:this[e]=t[e]:console.error("Cannot set unknown property",e);this.attached=r}destroy(){this.resources.destroy(),this.drapedResources.destroy(),this._laserline.destroy()}get isDraped(){return this._isDraped}set isDraped(e){e!==this._isDraped&&(this._isDraped=e,this.updateAttached(this.attached),this._laserline.attached=this.laserlineAttached)}get laserlineAttached(){return this.attached&&this.visible&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this._laserlineStyle)&&!this.isDraped&&this.laserlineEnabled}get visible(){return this.resources.visible}set visible(e){this.resources.visible=e,this.drapedResources.visible=e,this._laserline.attached=this.laserlineAttached}get attached(){return this.resources.attached||this.drapedResources.attached}set attached(e){this.updateAttached(e)}updateAttached(e){this.resources.attached=!this.isDraped&&e,this.drapedResources.attached=this.isDraped&&e,this._laserline.attached=this.laserlineAttached,this.attached&&this.attachmentOriginChanged()}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.resources.recreateGeometry(),this.drapedResources.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["g"])(e,this._color)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["c"])(this._color,e),this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["g"])(e,this._innerColor)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["c"])(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const r=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(e)!==Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this._stipplePattern);this._stipplePattern=e,r?this.resources.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){e&&this._stippleOffColor&&Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["g"])(e,this._stippleOffColor)||(this._stippleOffColor=e?Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_5__["a"])(e):null,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.resources.recreateGeometry()}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,this._laserline.attached=this.laserlineAttached,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(e)&&(this._laserline.style=e)}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,this._laserline.attached=this.laserlineAttached)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get attachmentOrigin(){if(!this._attachmentOriginDirty)return this._attachmentOrigin;const e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this.resources.resources)?this.resources.resources.geometries:null;if(!e||0===e.length)return null;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["s"])(S,0,0,0);let s=0;for(const t of e){const e=t.vertexAttributes.get("position"),i=t.indices.get("position"),o=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["unwrap"])(this.resources.resources).material.isClosed(e.data,i);Object(_webgl_engine_lib_geometryDataUtils_js__WEBPACK_IMPORTED_MODULE_16__["computeAttachmentOriginLines"])(e,i,o,I)&&(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["b"])(S,S,I),s++)}return 0===s?null:(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["a"])(S,S,1/s),this.view.renderCoordsHelper.fromRenderCoords(S,this._attachmentOrigin),this._attachmentOriginDirty=!1,this._attachmentOrigin)}updateMaterial(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this.resources.resources)&&this.resources.resources.material.setParameters(this.materialParameters),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this.drapedResources.resources)&&this.drapedResources.resources.material.setParameters(this.materialParameters)}get isClosed(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this.geometry)&&"polygon"===this.geometry.type}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:!1,isClosed:this.isClosed,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,join:"round",polygonOffset:!0,renderOccluded:this.normalizedRenderOccluded}}get normalizedRenderOccluded(){return this.isDraped&&8===this._renderOccluded?4:this._renderOccluded}recreateGeometry(e,t,r){const s=this.createRenderGeometries();for(const i of s)e.addGeometry(i,t),r.push(i);this.attachmentOriginChanged()}attachmentOriginChanged(){this._attachmentOriginDirty=!0,this.events.emit("attachment-origin-changed")}createResources(e){const t=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__["RibbonLineMaterial"](this.materialParameters),r=[];return this.recreateGeometry(e,t,r),{material:t,geometries:r,forEach:e=>{e(t),r.forEach(e)}}}_createDrapedResources(){const e=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_18__["RibbonLineMaterial"](this.materialParameters);return{material:e,geometries:this._createRenderGeometriesDraped(e)}}_createRenderGeometriesDraped(e){const t=this.geometry;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(t))return[];const r=Object(_layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_15__["geometryToRenderInfoDraped"])(t,this.view.basemapTerrain.spatialReference),i=[];for(const{position:s}of r.lines){const t={overlayInfo:{spatialReference:this.view.basemapTerrain.spatialReference,renderCoordsHelper:this.view.renderCoordsHelper},attributeData:{position:s},removeDuplicateStartEnd:this.isClosed?1:0},r=new _webgl_engine_lib_RenderGeometry_js__WEBPACK_IMPORTED_MODULE_17__["RenderGeometry"](Object(_layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_15__["createGeometry"])(t),e),a=Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["empty"])(M);Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["expandWithBuffer"])(a,s),Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_4__["s"])(r.boundingSphere,.5*(a[0]+a[3]),.5*(a[1]+a[4]),0,.5*Math.sqrt((a[3]-a[0])*(a[3]-a[0])+(a[4]-a[1])*(a[4]-a[1]))),i.push(r)}return i}calculateMapBounds(e){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(this.resources.resources))return!1;const t=this.view.renderCoordsHelper;for(const r of this.resources.resources.geometries){const s=r.vertexAttributes.get("position"),i=new Float64Array(s.data.length);Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__["projectBuffer"])(s.data,t.spatialReference,0,i,this.view.spatialReference,0,s.data.length/3),Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["expandWithBuffer"])(e,i)}return!0}createRenderGeometries(){var e;const t=this.geometry;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(t))return[];const r=Object(_layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_15__["geometryToRenderInfo"])(t,this.view.elevationProvider,this.view.renderCoordsHelper,_layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_14__["ElevationContext"].fromElevationInfo(null!=(e=this.elevationInfo)?e:new _symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_10__["default"]({mode:Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__["getGeometryEffectiveElevationMode"])(t,null)}))),i=[],a=[];for(const{position:s,mapPosition:o}of r.lines){const e={overlayInfo:null,attributeData:{position:s,mapPosition:o},removeDuplicateStartEnd:this.isClosed?1:0};i.push(Object(_layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_15__["createGeometry"])(e)),a.push(s)}return this._laserline.pathVerticalPlane=a,i}}const M=Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["create"])(),I=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])(),S=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])();


/***/ }),

/***/ "RaGr":
/*!******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/RightAngleQuadVisualElement.js ***!
  \******************************************************************************************************/
/*! exports provided: RightAngleQuadVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RightAngleQuadVisualElement", function() { return y; });
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ "XvKw");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "X668");
/* harmony import */ var _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../webgl-engine/lib/Geometry.js */ "Ango");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/materials/ColorMaterial.js */ "024p");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "hrr/");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class y extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_9__["Object3DVisualElement"]{constructor(t){super(t),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._quadMaterial=null,this._outlineMaterial=null,this._maxSize=0,this._position=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])(),this._up=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])(),this._right=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])(),this._renderOccluded=4,this._color=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_7__["f"])(1,0,0,1),this._outlineColor=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_7__["f"])(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=16,this.applyProps(t)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateQuadMaterial())}get color(){return this._color}set color(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__["c"])(this._color,e),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_6__["c"])(this._outlineColor,e),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(e){const t=0===this._outlineSize!=(0===e);this._outlineSize=e,t?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(e){this._outlineRenderOccluded=e,this._updateOutlineMaterial()}set geometry({previous:e,center:t,next:i}){this._maxSize=Math.min(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["i"])(t,e),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["i"])(t,i))/3,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["n"])(this._up,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["f"])(this._up,e,t)),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["n"])(this._right,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["f"])(this._right,i,t)),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["g"])(this._position,t),this.recreateGeometry()}createExternalResources(){this._quadMaterial=new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_12__["ColorMaterial"](this.quadMaterialParameters),this._outlineMaterial=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_13__["RibbonLineMaterial"](this.outlineMaterialParameters),this._handles.add(this.view.state.watch("camera",(()=>this._updateTransform())))}destroyExternalResources(){this._quadMaterial=null,this._outlineMaterial=null,this._handles.removeAll()}forEachExternalMaterial(e){e(this._quadMaterial),e(this._outlineMaterial)}createGeometries(e){this._createQuadGeometry(e),this._createOutlineGeometry(e),this._updateTransform(e)}_createQuadGeometry(e){const t=this._quadGeometryData(this._up,this._right);e.addGeometry(t,this._quadMaterial)}_createOutlineGeometry(e){if(0===this._outlineSize)return;const t=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["b"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get(),this._up,this._right),i=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_11__["default"].createPolylineGeometry([this._up,t,this._right]);e.addGeometry(i,this._outlineMaterial)}_updateTransform(e=this.object){const a=this.view.state.camera,o=this._size*a.computeScreenPixelSizeAt(this._position),l=Math.min(this._maxSize,o);Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__["i"])(z),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__["a"])(z,z,this._position),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__["f"])(z,z,[l,l,l]),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(e)&&(e.transformation=z)}_quadGeometryData(e,t){const i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["b"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get(),e,t);return new _webgl_engine_lib_Geometry_js__WEBPACK_IMPORTED_MODULE_10__["Geometry"]([["position",{size:3,data:[0,0,0,...t,...e,...i],exclusive:!0}]],[["position",new Uint16Array([0,1,2,1,2,3])]])}get quadMaterialParameters(){return{color:this._color,transparent:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded}}_updateQuadMaterial(){this._quadMaterial&&this._quadMaterial.setParameters(this.quadMaterialParameters)}get outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded}}_updateOutlineMaterial(){this._outlineMaterial&&this._outlineMaterial.setParameters(this.outlineMaterialParameters)}}const z=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])();


/***/ }),

/***/ "TnN0":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js ***!
  \*************************************************************************/
/*! exports provided: Manipulator3D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Manipulator3D", function() { return Y; });
/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../geometry.js */ "4GrV");
/* harmony import */ var _core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/compilerUtils.js */ "bJda");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/accessorSupport/utils.js */ "TDcG");
/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../chunks/mat3.js */ "HJJS");
/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../chunks/mat3f64.js */ "2uVf");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../chunks/vec2.js */ "M0lq");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../geometry/projection.js */ "gYg2");
/* harmony import */ var _geometry_projectionEllipsoid_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../geometry/projectionEllipsoid.js */ "9pTf");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../geometry/support/aaBoundingRect.js */ "kYAx");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../geometry/support/lineSegment.js */ "vX5d");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ "colF");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../geometry/support/ray.js */ "0Y+r");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ "08/N");
/* harmony import */ var _support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../support/ElevationProvider.js */ "DLk3");
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../support/geometryUtils/ray.js */ "mZDS");
/* harmony import */ var _webgl_engine_lib_Camera_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../webgl-engine/lib/Camera.js */ "FxzD");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../webgl-engine/lib/Object3D.js */ "WiJz");
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../webgl-engine/lib/WebGLLayer.js */ "dI/Q");
/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../geometry/Point.js */ "SuVq");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class Y{constructor(e){this.camera=new _webgl_engine_lib_Camera_js__WEBPACK_IMPORTED_MODULE_24__["default"],this._elevation={offset:0,override:null},this.collisionType={type:"point"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__["c"])(),this._worldFrame=null,this._renderLocation=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),this._renderLocationDirty=!0,this._location=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:0,y:0,z:0}),this._elevationAlignedLocation=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"],this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventEmitter,this._screenLocation={screenPointArray:Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["createScreenPointArray"])(),renderScreenPointArray:Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["createRenderScreenPointArray3"])(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:Object(_core_accessorSupport_utils_js__WEBPACK_IMPORTED_MODULE_6__["once"])((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){$(e)&&(this._screenLocationDirty=!0),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__["c"])(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__["c"])()),ee(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){Object(_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_21__["clonePoint"])(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){Object(_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_21__["clonePoint"])(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit("select-changed",{action:e?"select":"deselect"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit("focus-changed",{action:!0===e?"focus":"unfocus"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if($(this._modelTransform)){const t=this._calculateModelTransformOffset(_e);e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["b"])(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,i){if(!this.available)return null;const s=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["screenPointObjectToArray"])(t,te),r=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case"point":if(Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_11__["a"])(this.screenLocation.screenPointArray,s)<r*r)return this.screenLocation.renderScreenPointArray[2]+n;break;case"line":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ne),a=r*this.screenLocation.pixelSize,c=Object(_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_23__["fromScreen"])(this.camera,s,se);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(c))return null;for(const s of e){if(0===s.length)continue;const e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["m"])(ce,s[0],i);for(let t=1;t<s.length;t++){const o=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["m"])(le,s[t],i),r=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_17__["closestRayDistance2"])(Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_17__["fromPoints"])(e,o,ie),c);if(null!=r&&r<a*a){const t=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["b"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_20__["sv3d"].get(),e,o);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["a"])(t,t,.5);const i=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["castRenderScreenPointArray"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_20__["sv3d"].get());return this.camera.projectToRenderScreen(t,i),i[2]+n}Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["g"])(e,o)}}break}case"disc":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__["Z"],i=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(i,ne),l=r*this.screenLocation.pixelSize,h=Object(_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_23__["fromScreen"])(this.camera,s,se);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(h))return null;const d=Object(_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_7__["f"])(oe,c),_=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["t"])(de,e,d),g=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["m"])(ue,t,c);Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_18__["fromPositionAndNormal"])(g,_,ae);const m=he;if(Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_18__["intersectRay"])(ae,h,m)&&Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["h"])(m,g)<l*l)return this.screenLocation.renderScreenPointArray[2]+n;break}case"ribbon":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,ne),c=r*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=Object(_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_23__["fromScreen"])(this.camera,s,se);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(l))return null;const d=Object(_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_7__["f"])(oe,a),_=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["t"])(de,t,d),g=this._calculateModelTransformPosition(ue);Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_18__["fromPositionAndNormal"])(g,_,ae);const m=he;if(!Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_18__["intersectRay"])(ae,l,m))break;for(const s of e){if(0===s.length)continue;const e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["m"])(ce,s[0],a);for(let t=1;t<s.length;t++){const i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["m"])(le,s[t],a),o=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_17__["distance2"])(Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_17__["fromPoints"])(e,i,ie),m);if(null!=o&&o<c*c){const t=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["b"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_20__["sv3d"].get(),e,i);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["a"])(t,t,.5);const s=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["castRenderScreenPointArray"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_20__["sv3d"].get());return this.camera.projectToRenderScreen(t,s),s[2]+n}Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["g"])(e,i)}}break}default:Object(_core_compilerUtils_js__WEBPACK_IMPORTED_MODULE_1__["neverReached"])(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const i=e.manipulator3D;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(i.engineLayerId)){const e=new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_26__["WebGLLayer"]({isPickable:!1,updatePolicy:1});this.view._stage.add(e),i.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(i.engineLayerId));i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(this._materialIdReferences)&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_14__["canProjectWithoutEngine"])(this._location.spatialReference,this.view.spatialReference)||(this.location=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_14__["projectPoint"])(this.location,ge,e.spatialReference),Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_16__["containsPointObject"])(e.extent,ge)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(this.elevationInfo))return!1;let t=null,i=0;const s=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrapOr"])(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case"on-the-ground":t=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrapOr"])(Object(_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_22__["getElevationAtPoint"])(this.view.elevationProvider,e,"ground"),0);break;case"relative-to-ground":i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrapOr"])(Object(_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_22__["getElevationAtPoint"])(this.view.elevationProvider,e,"ground"),0)+s;break;case"relative-to-scene":i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrapOr"])(Object(_support_ElevationProvider_js__WEBPACK_IMPORTED_MODULE_22__["getElevationAtPoint"])(this.view.elevationProvider,e,"scene"),0)+s;break;case"absolute-height":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ne;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const e=!(0!=(15&r))||(s&r)==(15&r),i=!(0!=(65520&r))||(this.state&r)==(65520&r);if(e&&i)for(const s of n)s.setVisible(!0),s.transformation=t;else for(const t of n)t.setVisible(!1)}}_ensureEngineResources(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(this._engineResources)){const e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrap"])(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_25__["Object3D"]({castShadow:!1});s(t,e);const i=e.stateMask||0,r=o.get(i)||[];r.push(t),o.set(i,r)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrap"])(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isNone"])(this._engineResources))return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrap"])(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*("touch"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,re);return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["s"])(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_12__["f"])(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__["s"])(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__["m"])(t,t,this._worldFrame),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__["m"])(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["isSome"])(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function $(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function ee(e,t,s){switch(e.viewingMode){case"local":return Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_9__["i"])(s),!0;case"global":{const o=Object(_geometry_projectionEllipsoid_js__WEBPACK_IMPORTED_MODULE_15__["getReferenceEllipsoid"])(e.renderCoordsHelper.spatialReference);return Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_14__["sphericalPCPFtoLonLatElevation"])(t,0,ce,0,o.radius),Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_14__["computeENUToSphericalPCPFLocalRotation"])(Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__["deg2rad"])(ce[0]),Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__["deg2rad"])(ce[1]),s),!0}}}const te=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["createScreenPointArray"])(),ie=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_17__["create"])(),se=Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_19__["create"])(),oe=Object(_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_8__["c"])(),re=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__["c"])(),ne=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_10__["c"])(),ae=Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_18__["create"])(),ce=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),le=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),he=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),de=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),ue=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),_e=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_13__["c"])(),ge=new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_27__["default"]({x:0,y:0,z:0,spatialReference:null});


/***/ }),

/***/ "Ttk/":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterialTechnique.js ***!
  \************************************************************************************************/
/*! exports provided: SlicePlaneMaterialTechnique */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SlicePlaneMaterialTechnique", function() { return d; });
/* harmony import */ var _core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/shaderLibrary/util/View.glsl.js */ "jpeq");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "w6Td");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "ypgp");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "+h6m");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/Program.js */ "yCmR");
/* harmony import */ var _chunks_SlicePlaneMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/SlicePlaneMaterial.glsl.js */ "sE2g");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "GJyJ");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class d extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_2__["ShaderTechnique"]{initializeProgram(r){const e=d.shader.get().build();return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_4__["Program"](r.rctx,e,_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_3__["Default3D"])}bindPass(e,i){Object(_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__["bindProjectionMatrix"])(this.program,i.camera.projectionMatrix),this.program.setUniform4fv("backgroundColor",e.backgroundColor),this.program.setUniform4fv("gridColor",e.gridColor),this.program.setUniform1f("gridWidth",e.gridWidth)}bindDraw(r){Object(_core_shaderLibrary_util_View_glsl_js__WEBPACK_IMPORTED_MODULE_0__["bindView"])(this.program,r),this.program.rebindTextures()}initializePipeline(){return Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__["makePipelineState"])({blending:Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__["separateBlendingParams"])(1,1,771,771),depthTest:{func:513},colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_6__["defaultColorWriteParams"]})}}d.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_1__["ReloadableShaderModule"](_chunks_SlicePlaneMaterial_glsl_js__WEBPACK_IMPORTED_MODULE_5__["S"],(()=>__webpack_require__.e(/*! import() | SlicePlaneMaterial-glsl-js */ "SlicePlaneMaterial-glsl-js").then(__webpack_require__.bind(null, /*! ./SlicePlaneMaterial.glsl.js */ "B0gI"))));


/***/ }),

/***/ "UVIH":
/*!**************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/SlicePlaneVisualElement.js ***!
  \**************************************************************************************************/
/*! exports provided: SlicePlaneVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SlicePlaneVisualElement", function() { return d; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ "XvKw");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "X668");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_SlicePlaneMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/materials/SlicePlaneMaterial.js */ "Pvr3");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class d extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_3__["Object3DVisualElement"]{constructor(r){super(r),this._material=null,this._renderOccluded=4,this._gridWidth=1,this._gridColor=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_2__["f"])(1,0,0,1),this._backgroundColor=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_2__["f"])(1,0,0,1),this.applyProps(r)}get renderOccluded(){return this._renderOccluded}set renderOccluded(r){r!==this._renderOccluded&&(this._renderOccluded=r,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(r){this._gridWidth!==r&&(this._gridWidth=r,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(r){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_1__["c"])(this._gridColor,r),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_1__["c"])(this._backgroundColor,r),this._updateMaterial()}createExternalResources(){this._material=new _webgl_engine_materials_SlicePlaneMaterial_js__WEBPACK_IMPORTED_MODULE_5__["SlicePlaneMaterial"](this.materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._material)&&e(this._material)}createGeometries(e){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._material)){const r=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_4__["default"].createSquareGeometry();e.addGeometry(r,this._material)}}get materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._material)&&this._material.setParameters(this.materialParameters)}}


/***/ }),

/***/ "UcZh":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/config.js ***!
  \*********************************************************************************************/
/*! exports provided: ALIGN_ARROWS_SCALE_THRESHOLD, DISC_COLLISION_RADIUS, DISC_HEIGHT, DISC_RADIUS, DISC_RADIUS_SMALL, DISC_TRANSLATE_ARROW_OFFSET, DISC_TRANSLATE_ARROW_SIZE, DRAG_THRESHOLD_PX, GEOMETRY_SEGMENTS, HANDLE_COLOR, INDICATOR_THICKNESS, INNER_INDICATOR_RADIUS, OUTER_INDICATOR_RADIUS, RING_HEIGHT, RING_INDICATOR_DELAY_MS, RING_RADIUS, RING_RESET_ANIMATION_SPEED_FACTOR, RING_THICKNESS, ROTATE_INDICATOR_ARC_LENGTH, ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE, ROTATE_INDICATOR_ARROW_TIP_LENGTH, ROTATE_INDICATOR_ARROW_TIP_RADIUS, ROTATE_INDICATOR_DIRECTION_BUFFER, SCALE_INDICATOR_ARC_LENGTH, SCALE_INDICATOR_DIRECTION_BUFFER, SCALE_INDICATOR_OFFSET1, SCALE_INDICATOR_OFFSET2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALIGN_ARROWS_SCALE_THRESHOLD", function() { return w; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISC_COLLISION_RADIUS", function() { return h; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISC_HEIGHT", function() { return M; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISC_RADIUS", function() { return e; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISC_RADIUS_SMALL", function() { return I; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISC_TRANSLATE_ARROW_OFFSET", function() { return o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISC_TRANSLATE_ARROW_SIZE", function() { return c; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DRAG_THRESHOLD_PX", function() { return f; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GEOMETRY_SEGMENTS", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HANDLE_COLOR", function() { return t; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INDICATOR_THICKNESS", function() { return n; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INNER_INDICATOR_RADIUS", function() { return p; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OUTER_INDICATOR_RADIUS", function() { return r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RING_HEIGHT", function() { return i; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RING_INDICATOR_DELAY_MS", function() { return u; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RING_RADIUS", function() { return P; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RING_RESET_ANIMATION_SPEED_FACTOR", function() { return v; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RING_THICKNESS", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_INDICATOR_ARC_LENGTH", function() { return b; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_INDICATOR_ARROW_TIP_LENGTH", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_INDICATOR_ARROW_TIP_RADIUS", function() { return x; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATE_INDICATOR_DIRECTION_BUFFER", function() { return q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCALE_INDICATOR_ARC_LENGTH", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCALE_INDICATOR_DIRECTION_BUFFER", function() { return m; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCALE_INDICATOR_OFFSET1", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCALE_INDICATOR_OFFSET2", function() { return k; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const t=[1,.5,0],a=128,e=70,h=80,M=.02,c=54,o=100,I=Math.ceil(e/3*2),P=160,i=.5,l=24,n=9,p=P+30,r=P+53,s=60,x=23,b=5*Math.PI/12,d=1*Math.PI/3,f=10,g=.2,j=30,k=53,m=.2,q=.3,u=200,v=3,w=1e6;


/***/ }),

/***/ "VtYq":
/*!****************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js ***!
  \****************************************************************/
/*! exports provided: L, b */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "L", function() { return t; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return a; });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js */ "nndT");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "OIYi");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "aQrP");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function a(a){const t=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_2__["ShaderBuilder"];return t.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_0__["Laserline"],a),t.vertex.uniforms.add("uModelViewMatrix","mat4"),t.vertex.uniforms.add("uProjectionMatrix","mat4"),t.attributes.add("start","vec3"),t.attributes.add("end","vec3"),t.attributes.add("up","vec3"),t.attributes.add("extrude","vec2"),t.varyings.add("uv","vec2"),t.varyings.add("vViewStart","vec3"),t.varyings.add("vViewEnd","vec3"),t.varyings.add("vViewPlane","vec4"),t.vertex.uniforms.add("glowWidth","float"),t.vertex.uniforms.add("pixelToNDC","vec2"),t.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__["glsl"]`void main() {
vec3 pos = mix(start, end, extrude.x);
vec4 viewPos = uModelViewMatrix * vec4(pos, 1);
vec4 projPos = uProjectionMatrix * viewPos;
vec2 ndcPos = projPos.xy / projPos.w;
vec3 viewUp = (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;
vec4 projPosUp = uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);
vec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);
vec2 lxy = abs(sign(projExtrudeDir) - ndcPos);
ndcPos += length(lxy) * projExtrudeDir;
vec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));
vec3 viewPlaneNormal = (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;
vViewStart = (uModelViewMatrix * vec4(start, 1)).xyz;
vViewEnd = (uModelViewMatrix * vec4(end, 1)).xyz;
vViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));
float xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;
ndcPos.x += xPaddingPixels * pixelToNDC.x;
uv = ndcPos * 0.5 + 0.5;
gl_Position = vec4(ndcPos, 0, 1);
}`),t.fragment.uniforms.add("globalAlpha","float"),t.fragment.uniforms.add("perScreenPixelRatio","float"),t.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_1__["glsl"]`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {
vec3 origin = mix(start, end, 0.5);
vec3 basis = end - origin;
vec3 posAtOrigin = pos - origin;
float x = dot(normalize(basis), posAtOrigin);
float y = dot(plane.xyz, posAtOrigin);
float dx = max(abs(x) - length(basis), 0.0);
float dy = y;
float dist = length(vec2(dx, dy));
float width = fwidth(y);
float maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;
float pixelDist = dist / min(width, maxPixelDistance);
return abs(pixelDist);
}
void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
float distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);
vec4 color = laserlineProfile(distance);
float alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));
gl_FragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);
}`),t}const t=Object.freeze({__proto__:null,build:a});


/***/ }),

/***/ "WMId":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js ***!
  \*****************************************************************************************************/
/*! exports provided: CameraSpace */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CameraSpace", function() { return o; });
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shaderModules/interfaces.js */ "OIYi");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function o(o){o.fragment.uniforms.add("projInfo","vec4"),o.fragment.uniforms.add("zScale","vec2"),o.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__["glsl"]`vec3 reconstructPosition(vec2 fragCoord, float depth) {
return vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);
}`)}


/***/ }),

/***/ "Walh":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/editGeometry/support/editPlaneUtils.js ***!
  \********************************************************************************************/
/*! exports provided: apply, calculateOrientedBounds, mapPlaneToRenderPlane, unapply */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "apply", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateOrientedBounds", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapPlaneToRenderPlane", function() { return G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "unapply", function() { return C; });
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "M0lq");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/boundedPlane.js */ "DZ/s");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _operations_MoveVertex_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../operations/MoveVertex.js */ "FXzB");
/* harmony import */ var _operations_RotateVertex_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../operations/RotateVertex.js */ "4eAd");
/* harmony import */ var _operations_ScaleVertex_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../operations/ScaleVertex.js */ "+9DA");
/* harmony import */ var _operations_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../operations/UpdateVertices.js */ "NPIS");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function l(s,o){return F(s,o,!1)}function C(s,o){return F(s,o,!0)}function F(s,o,i){if(s instanceof _operations_UpdateVertices_js__WEBPACK_IMPORTED_MODULE_8__["UpdateVertices"]){if(s.operation instanceof _operations_MoveVertex_js__WEBPACK_IMPORTED_MODULE_5__["MoveVertex"])return S(s.operation,o,i),!0;if(s.operation instanceof _operations_RotateVertex_js__WEBPACK_IMPORTED_MODULE_6__["RotateVertex"])return Y(s.operation,o,i),!0;if(s.operation instanceof _operations_ScaleVertex_js__WEBPACK_IMPORTED_MODULE_7__["ScaleVertex"])return _(s.operation,o,i),!0}return!1}function S(s,o,i=!1){const n=i?-1:1,r=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["f"])(n*s.dx,n*s.dy,n*s.dz);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["b"])(o.origin,o.origin,r)}function Y(s,o,i=!1){const n=i?-s.angle:s.angle;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["G"])(o.basis1,o.basis1,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["Z"],n),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["G"])(o.basis2,o.basis2,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["Z"],n)}function _(o,i,n=!1){const r=n?1/o.factor1:o.factor1,t=n?1/o.factor2:o.factor2;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["a"])(i.basis1,i.basis1,r),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["a"])(i.basis2,i.basis2,t),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["q"])(i.origin,i.origin,o.origin,o.axis1,r),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["q"])(i.origin,i.origin,o.origin,o.axis2,t)}function y(s,c,g,b){b||(b=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__["c"])());const f=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv2d"].get(),s[1],-s[0]),u=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv2d"].get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),m=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv2d"].get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),p=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv2d"].get();c.components.forEach((t=>t.vertices.forEach((t=>{const a=t.pos;Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["s"])(p,Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["k"])(s,a),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["k"])(f,a)),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["x"])(u,u,p),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["y"])(m,m,p)}))));const I=1e-6,d=Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv2d"].get(),m[0]-u[0]<I?g/2:0,m[1]-u[1]<I?g/2:0);return Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["f"])(u,u,d),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["m"])(m,m,d),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["g"])(b.basis1,s,(m[0]-u[0])/2),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["g"])(b.basis2,f,(m[1]-u[1])/2),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["s"])(b.origin,u[0]*s[0]+u[1]*f[0],u[0]*s[1]+u[1]*f[1]),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["m"])(b.origin,b.origin,b.basis1),Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_0__["m"])(b.origin,b.origin,b.basis2),b}function G(s,o,i,n=0,r){r||(r=Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__["c"])()),o.toRenderCoords(s.origin,i,r.origin);const t=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get();Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["b"])(t,s.origin,s.basis1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["b"])(t,t,s.basis2),o.toRenderCoords(t,i,t);const a=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get();Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["b"])(a,s.origin,s.basis1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(a,a,s.basis2),o.toRenderCoords(a,i,a);const e=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get();Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(e,s.origin,s.basis1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(e,e,s.basis2),o.toRenderCoords(e,i,e);const g=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get();Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(g,s.origin,s.basis1),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["b"])(g,g,s.basis2),o.toRenderCoords(g,i,g);const N=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["e"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),t,a,.5);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(N,N,r.origin);const j=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["e"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),e,g,.5);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(j,r.origin,j),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["e"])(r.basis1,N,j,.5);const T=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["e"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),g,t,.5);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(T,T,r.origin);const h=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["e"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),a,e,.5);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(h,r.origin,h),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["e"])(r.basis2,T,h,.5);const k=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["c"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),r.basis1,r.basis2),v=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["c"])(k,k,r.basis1);return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["n"])(v,v),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["a"])(r.basis2,v,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["d"])(r.basis2,v)),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["a"])(r.basis1,r.basis1,1+n/Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["l"])(r.basis1)),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["a"])(r.basis2,r.basis2,1+n/Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["l"])(r.basis2)),Object(_chunks_boundedPlane_js__WEBPACK_IMPORTED_MODULE_3__["u"])(r),r}


/***/ }),

/***/ "WfAT":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/analysisTools/slice/images/heading-rotate-png.js ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return D; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const D="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAACuFBMVEUAAAD/AAD/gAD/VQD/gAD/bQD/gAD/cQD/gAD/dAD/eAD/gAD/gAD/egD/gAD/ewD/gAD/fAD/gAD/fQD/gAD/fQD/fQD/egD/fQD/gAD/fQD/ewD/fQD/gAD/gAD/fQD/gAD/fAD/fgD/fgD/fAD/fgD/fAD/fgD/fAD/fgD/gAD/fAD/fgD/fAD/fQD/fgD/fgD/fQD/fgD/fgD/fQD/fgD/fQD/fQD/fgD/fgD/fQD/fQD/fgD/fQD/fgD/fQD/fgD/fQD/fgD/fgD/gAL/fgD/gAb/gAT/gwr/gQj/hA7/hAz/hxH/iBP/ixn/iRf/jBz/jR7/jyP/kCX/kyr/lS7/lCz/li//mTT/mTf/nDr/mjn/nTz/n0H/nT//oET/oEL/okf/oEX/o0r/pU3/o0v/pU//qFL/plH/qFX/qFP/qVb/q1n/rV3/rFz/rmD/rl7/sGL/rmH/tW3/s2v/tW//tW7/t3L/tnD/uHT/unb/unn/unf/vHv/vX3/v4D/vX7/w4n/xY3/xIv/x4//xY3/x5H/yZP/x5H/yJP/y5f/yZX/zZv/y5n/zZ3/zJv/z5//z6D/z6H/0aT/0KP/0qb/06j/1av/06r/1q3/1q//17H/2rb/2rb/2rj/3bz/4MH/38D/38H/4sX/4MT/48f/4sb/4sf/5Mr/5s3/5cz/5s3/59D/59D/6dT/6dP/6dT/6tb/6tX/6tf/69n/69j/7dr/7Nn/7dz/7dv/7t3/7t7/7t3/7+H/8eL/8uX/8eP/8+j/8+f/9On/8+j/9Or/9ez/9e3/9ez/9e3/9+//9+7/+PD/9+//+PH/+PD/+fL/+PH/+fT/+vX/+fT/+vb/+vX/+/b/+vb/+/j/+/j//Pr//Pn//fv//v3//vz//fz//fv//v3//fz//////v7//v3///9vf1WOAAAA53RSTlMAAQIDBgcICQoLERIYGRobKCkqKywtLzAxMjM4OTo+P0BAQUVGR0hPUFFSUlNUWlthYmNlZmdoamtvcHR1dnd4eXx9f4CAgYGCgoODhIWGhoeIiYqLjIyNjo+QkJGSkpOTlJSVlpaXmJiZmZqbnJydnZ6eoqKjo6Skpaanp6ipqqqvsLCxsbKzs7S1tbe3uLi5uru8vL2+wMDBwsTGx8jLzc3O0NDR0dLT1dXW19ja2tvc3N3e3t/f4ODh4uLl5ufn6urr6+zt7u7v8PDx8fLy8/P09fX29vf3+Pn6+vv8/Pz8/f3+/v7EBDCzAAADmklEQVR42qXXd3sUVRQG8BNDKkU3KLYUIFkLLBo0yRJNBszuuwQlGISIDUTFhljAhhUbtlXEYEcjoEJUNCqKPXZUUCDU0FvI+RpkZpa5c9iZzMzD7+/d88yde+95z5CbvIIhIyqrtbo6rboyUlKQR4GcGI7GIMSi4QHkU1bRKDgaVZRF3nKGanClDc4hD4Nq0CvtzAzqRd8L4GlkX3IVGg0fxpxMzjLOgk9hx2VkRuBbJNPh/+cjpQnezkuvcC6Q8vVseItkkKTWP6Pr17HwVkbCQFg+YJ4P3U0vtrS1t//c9u6zM+DgFLH/av+m7Gfe1IhpLf+ysmbxVBxrdD4ptvPzDvdY2trNUvfytBLlZDkdloZt3GPvPk5z8K0EpFMpJacWlmTqmdnBd1dBqMkm01BY4n+waTsb1nd0drHl/2kQSsiQpcHyKKd0MP/YfOt4AJfPWtTOKRumw04z+0MRlNV81PezoNz5JZv+boRdIemisMxkS+ck2M3rZMPHskcZ/Q/KR6y8D2HqWjbMh11/IgrDfoiU7lsgXGNW6GgQB1quYPrClk9+WnuITash3WGWfw02VUR5MUCKX3n7w8m3P1z121xIzazbMg5KLJcK4Ntl5vV4EDYhGgz/XmDdcnmWRsC/iQeM1wibYVSBAL5g3WQoF9JFCOBN1t0PpZo0BDCPdU9BqaU6BPAA65JQLglWYDbrFooCGgJ4jHXPiSUEeokvse4hKNXBtnEF624W2xiBf/GN3GP3pVCG0xAIE57+9h64uZd1bbApFpcpMXfFLuaVcLOKdS/DJiSu87UHucfhOb0+wIEmeZ0pCqWVdX+Nh5MJ61i3BDaVsqVhphkCnyaQrt68SYdvhE0pEQ2AzRI2LBuX3k1a2fAe7PoRyTU0/seGb66ANPkHNqxpEG1dBIvhvkNs2PLMWCiJ5FY27LlbBouMNsOTXWz6p/lqmK57fR2buh+HjDYVrsqCLhWmK5cuXvbZBhUVzzuGK+XUwO6J3exs5yMQLs6mlNMg3PY7O/nlBkiDyDISQv2CHXysrckEpHI5ZEmTXpUzyp+vTOx1yHLIp/icN74y927z54vuiiNNiISwc5hNub6pHoo8xNI5CCSS4T5sw/ewLZ1wNnwbnklOyuBPrJRcnKTBhzEDyVV+OTyV5x/fZ98Z5CG7RIOr2pJs8tanMApH0cI+5FP/sqoYhFhVaT8KJDdUHKkwP/8rhhWHct1+dwRTps/cplDIpwAAAABJRU5ErkJggg==";


/***/ }),

/***/ "X668":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js ***!
  \************************************************************************************************/
/*! exports provided: Object3DVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Object3DVisualElement", function() { return c; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./VisualElement.js */ "9ToJ");
/* harmony import */ var _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3D.js */ "WiJz");
/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../webgl-engine/lib/WebGLLayer.js */ "dI/Q");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class c extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_3__["VisualElement"]{constructor(e){super(e.view),this._resources=null,this._transform=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])()}get object(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__["c"])(this._transform,s),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_5__["WebGLLayer"]({isPickable:!1,updatePolicy:1});e.add(s);const r=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_4__["Object3D"]({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._resources)||this._resources.object.setVisible(e)}}


/***/ }),

/***/ "XvKw":
/*!*****************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/vec4f32.js ***!
  \*****************************************************/
/*! exports provided: O, U, Z, a, b, c, d, e, f, g, h, i, j, o, u, v, z */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "O", function() { return l; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "U", function() { return _; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Z", function() { return f; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return t; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return n; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return c; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return r; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return i; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return w; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return N; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return U; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return u; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return e; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function n(){return new Float32Array(4)}function t(n){const t=new Float32Array(4);return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function r(n,t,r,a){const e=new Float32Array(4);return e[0]=n,e[1]=t,e[2]=r,e[3]=a,e}function a(n,t){return new Float32Array(n,t,4)}function e(){return n()}function u(){return r(1,1,1,1)}function o(){return r(1,0,0,0)}function s(){return r(0,1,0,0)}function c(){return r(0,0,1,0)}function i(){return r(0,0,0,1)}const f=e(),l=u(),_=o(),w=s(),N=c(),U=i(),y=Object.freeze({__proto__:null,create:n,clone:t,fromValues:r,createView:a,zeros:e,ones:u,unitX:o,unitY:s,unitZ:c,unitW:i,ZEROS:f,ONES:l,UNIT_X:_,UNIT_Y:w,UNIT_Z:N,UNIT_W:U});


/***/ }),

/***/ "YmLc":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js ***!
  \*************************************************************************/
/*! exports provided: LaserLineRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LaserLineRenderer", function() { return z; });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec2f64.js */ "AvGH");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../chunks/vec4f64.js */ "D8Ta");
/* harmony import */ var _geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/support/clipRay.js */ "T4vJ");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/support/frustum.js */ "01mo");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../geometry/support/lineSegment.js */ "vX5d");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ "colF");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../geometry/support/ray.js */ "0Y+r");
/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../chunks/sphere.js */ "+JUG");
/* harmony import */ var _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LaserlinePathData.js */ "bkqt");
/* harmony import */ var _webgl_engine_lib_glUtil3D_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../webgl-engine/lib/glUtil3D.js */ "1ff1");
/* harmony import */ var _webgl_engine_lib_Util_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../webgl-engine/lib/Util.js */ "EVMh");
/* harmony import */ var _webgl_engine_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../webgl-engine/materials/internal/MaterialUtil.js */ "fFEv");
/* harmony import */ var _webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlinePathTechnique.js */ "6mdJ");
/* harmony import */ var _webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlineTechnique.js */ "nmNv");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const y=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),I=Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__["c"])(),O={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__["deg2rad"])(6),globalAlphaContrastBoost:2};function H(e,t,i,n){const s=y,r=I;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["m"])(s,t,n),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(r,i),r[3]=0,Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["t"])(r,r,n),Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__["fromPositionAndNormal"])(s,r,e)}class z{constructor(e,t={},i={contrastControlEnabled:!1}){this._renderCoordsHelper=e,this._config=i,this._technique=null,this._projInfo=Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__["c"])(),this._zScale=Object(_chunks_vec2f64_js__WEBPACK_IMPORTED_MODULE_2__["a"])(),this._heightManifoldEnabled=!1,this._heightManifoldTarget=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._pointDistanceEnabled=!1,this._pointDistanceOrigin=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._pointDistanceTarget=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._lineVerticalPlaneEnabled=!1,this._lineVerticalPlaneSegment=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["create"])(),this._intersectsLineEnabled=!1,this._intersectsLineSegment=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["create"])(),this._intersectsLineRadius=3,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this.canRender=!0,this._tempNormal=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._tempDir=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._tempUp=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._tempVec3A=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._tempVec3B=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._tempVec4=Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_6__["c"])(),this._tempPlane=Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_10__["create"])(),this._tempSphere=Object(_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__["c"])(),this._params=Object(_webgl_engine_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_16__["copyParameters"])(t,O)}get renderSlots(){return[this._config.contrastControlEnabled?15:14]}get needsLinearDepth(){return!0}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._heightManifoldTarget}set heightManifoldTarget(e){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(this._heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._pointDistanceTarget}set pointDistanceTarget(e){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(this._pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._pointDistanceOrigin}set pointDistanceOrigin(e){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(this._pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["copy"])(e,this._lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._intersectsLineSegment}set intersectsLineSegment(e){Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["copy"])(e,this._intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._intersectsLineRadius}set intersectsLineRadius(e){e!==this._intersectsLineRadius&&(this._intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(this._pathVerticalPlaneData)&&this._requestRender())}set pathVerticalPlaneVertices(e){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__["LaserlinePathData"](this._renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new _LaserlinePathData_js__WEBPACK_IMPORTED_MODULE_13__["LaserlinePathData"](this._renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){Object(_webgl_engine_materials_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_16__["updateParameters"])(this._params,e)&&this._requestRender()}initializeRenderContext(e){this._context=e;const t=e.renderContext.rctx;this._quadVAO=Object(_webgl_engine_lib_glUtil3D_js__WEBPACK_IMPORTED_MODULE_14__["createQuadVAO"])(t),this._techniqueRepository=e.shaderTechniqueRep,this._techniqueConfig=new _webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_18__["LaserlineTechniqueConfiguration"];const i=new _webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__["LaserlinePathTechniqueConfiguration"];i.contrastControlEnabled=this._config.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquire(_webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_17__["LaserlinePathTechnique"],i)}uninitializeRenderContext(){this._quadVAO=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["disposeMaybe"])(this._quadVAO),this._technique=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["releaseMaybe"])(this._technique),this._pathVerticalPlaneData=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["disposeMaybe"])(this._pathVerticalPlaneData),this._pathTechnique=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["releaseMaybe"])(this._pathTechnique)}render(e){const t=this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled,i=this.pathVerticalPlaneEnabled;if(!t&&!i)return!1;const n=e.camera;return Object(_webgl_engine_lib_Util_js__WEBPACK_IMPORTED_MODULE_15__["inverseProjectionInfo"])(n.projectionMatrix,n.fullWidth,n.fullHeight,this._projInfo,this._zScale),t&&this.renderUnified(e),i&&this.renderPath(e),!0}renderUnified(e){const t=e.rctx,i=this._selectTechnique(),n=i.program;t.useProgram(n),i.bindPipelineState(t),this._bindGlobalUniforms(e,n),this.bindHeightManifoldUniforms(e,n),this.bindPointDistanceUniforms(e,n),this.bindLineVerticalPlaneUniforms(e,n),this.bindIntersectsLineUniforms(e,n),i.bind(this._params,e.camera),t.bindVAO(this._quadVAO),t.drawArrays(5,0,4)}renderPath(e){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(this._pathVerticalPlaneData)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isNone"])(this._pathTechnique))return;const t=e.rctx,n=this._pathTechnique,s=n.program;t.useProgram(s),n.bindPipelineState(t),this._bindGlobalUniforms(e,s),n.bind(this._params,this._pathVerticalPlaneData.origin,e.camera),this._pathVerticalPlaneData.draw(e.rctx)}bindHeightManifoldUniforms(e,t){if(!this.heightManifoldEnabled)return;const i=this._tempVec3A,n=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,i),H(n,this._heightManifoldTarget,i,e.camera.viewMatrix),t.setUniform4fv("heightPlane",n)}bindPointDistanceUniforms(e,t){if(!this._pointDistanceEnabled)return;const i=e.camera,n=this._tempSphere;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(n,this._pointDistanceOrigin),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["m"])(n,n,i.viewMatrix),n[3]=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["i"])(this._pointDistanceOrigin,this._pointDistanceTarget),t.setUniform4f("pointDistanceSphere",n[0],n[1],n[2],n[3])}bindLineVerticalPlaneUniforms(e,t){if(!this._lineVerticalPlaneEnabled)return;const i=this._renderCoordsHelper,n=e.camera,s=this._tempPlane,r=this._tempVec3A,l=this._tempUp,d=this._tempDir,m=this._tempNormal;Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["pointAt"])(this._lineVerticalPlaneSegment,.5,r),i.worldUpAtPosition(r,l),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["n"])(d,this._lineVerticalPlaneSegment.vector),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["c"])(m,l,d),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["n"])(m,m),H(s,this._lineVerticalPlaneSegment.origin,m,n.viewMatrix),t.setUniform4fv("lineVerticalPlane",s);const p=this._tempVec3A;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(p,this._lineVerticalPlaneSegment.origin),i.setAltitude(p,0),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["m"])(p,p,n.viewMatrix),t.setUniform3fv("lineVerticalStart",p);const f=this._tempVec3B;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["b"])(f,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector),i.setAltitude(f,0),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["m"])(f,f,n.viewMatrix),t.setUniform3fv("lineVerticalEnd",f)}bindIntersectsLineUniforms(e,t){if(!this._intersectsLineEnabled)return;const i=B,n=G;if(this._intersectsLineInfinite){const t=e.camera;if(Object(_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__["fromRay"])(Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_11__["wrap"])(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),k),k.c0=-Number.MAX_VALUE,!Object(_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__["intersectClipRay"])(t.frustum,k))return;Object(_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__["getStart"])(k,i),Object(_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__["getEnd"])(k,n)}else Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(i,this._intersectsLineSegment.origin),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["b"])(n,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);const s=this._tempVec3A;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["m"])(s,i,e.camera.viewMatrix),t.setUniform3fv("intersectsLineStart",s);const r=this._tempVec4;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(r,this._intersectsLineSegment.vector),this._tempVec4[3]=0,Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["t"])(this._tempVec4,this._tempVec4,e.camera.viewMatrix),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["m"])(n,n,e.camera.viewMatrix),t.setUniform3fv("intersectsLineEnd",n),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["n"])(r,r),t.setUniform3f("intersectsLineDirection",r[0],r[1],r[2]),t.setUniform1f("intersectsLineRadius",this._intersectsLineRadius)}_bindGlobalUniforms(e,t){const i=e.camera;t.setUniform4fv("projInfo",this._projInfo),t.setUniform2fv("zScale",this._zScale),t.setUniform2f("nearFar",i.near,i.far),this._heightManifoldEnabled?t.setUniform1f("maxPixelDistance",2*i.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?t.setUniform1f("maxPixelDistance",2*i.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&t.setUniform1f("maxPixelDistance",2*i.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin)),t.bindTexture(e.offscreenRenderingHelper.linearDepthTexture,"depthMap"),t.bindTexture(e.offscreenRenderingHelper.mainColorTexture,"frameColor")}_requestRender(){this._context&&this._context.requestRender()}_selectTechnique(){return this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled,this._technique=this._techniqueRepository.releaseAndAcquire(_webgl_engine_shaders_LaserlineTechnique_js__WEBPACK_IMPORTED_MODULE_18__["LaserlineTechnique"],this._techniqueConfig,this._technique),this._technique}}const k=Object(_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__["create"])(),B=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),G=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])();


/***/ }),

/***/ "ZHv2":
/*!*************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js ***!
  \*************************************************************************************************/
/*! exports provided: LaserlineVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LaserlineVisualElement", function() { return o; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "vX5d");
/* harmony import */ var _VisualElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./VisualElement.js */ "9ToJ");
/* harmony import */ var _support_LaserLineRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../support/LaserLineRenderer.js */ "YmLc");
/* harmony import */ var _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/Laserlines.glsl.js */ "qZfn");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class o extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_4__["VisualElement"]{constructor(e){super(e.view),this._angleCutoff=_chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_6__["d"],this._style={},this._heightManifoldTarget=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])(),this._heightManifoldEnabled=!1,this._intersectsLine=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__["create"])(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProps(e)}get testData(){return this.renderer}createResources(){this.ensureRenderer()}destroyResources(){this.disposeRenderer()}updateVisibility(){this.syncHeightManifold(),this.syncIntersectsLine(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this.syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this.syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t)?(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["g"])(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this.syncRenderer(),this.syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(e))return void(this.intersectsLine=null);const i=this.view.renderCoordsHelper.worldUpAtPosition(e,f);this.intersectsLine=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__["fromValues"])(e,i),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(t){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t)?(Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__["copy"])(t,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this.syncIntersectsLine(),this.syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this.syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(t){this._lineVerticalPlaneSegment=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t)?Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_3__["copy"])(t):null,this.syncLineVerticalPlane(),this.syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(t){this._pointDistanceLine=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t)?{origin:Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["a"])(t.origin),target:Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["a"])(t.target)}:null,this.syncPointDistance(),this.syncRenderer()}syncRenderer(){this.attached&&(this._intersectsLineEnabled||this._heightManifoldEnabled||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._pointDistanceLine)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()}ensureRenderer(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this.renderer)||(this.renderer=new _support_LaserLineRenderer_js__WEBPACK_IMPORTED_MODULE_5__["LaserLineRenderer"](this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightManifold(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))}syncStyle(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.renderer)||(this.renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))}syncAngleCutoff(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.renderer)||this.renderer.setParameters({angleCutoff:this._angleCutoff})}syncHeightManifold(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this.renderer.heightManifoldTarget=this._heightManifoldTarget))}syncIntersectsLine(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.renderer)||(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))}syncIntersectsLineInfinite(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)}syncPathVerticalPlane(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._pathVerticalPlaneBuffers)&&this.visible,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}syncLineVerticalPlane(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.renderer)||(this.renderer.lineVerticalPlaneEnabled=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._lineVerticalPlaneSegment)&&this.visible,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._lineVerticalPlaneSegment)&&(this.renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}syncPointDistance(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.renderer)||(this.renderer.pointDistanceEnabled=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._pointDistanceLine)&&this.visible,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._pointDistanceLine)&&(this.renderer.pointDistanceOrigin=this._pointDistanceLine.origin,this.renderer.pointDistanceTarget=this._pointDistanceLine.target))}disposeRenderer(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)}}const f=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])();


/***/ }),

/***/ "aS/U":
/*!**********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js ***!
  \**********************************************************************/
/*! exports provided: S, b */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "S", function() { return c; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return t; });
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js */ "IlJQ");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js */ "0nJL");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js */ "Tbkp");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js */ "0Ect");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js */ "xtdb");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js */ "69UF");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js */ "Q3fD");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "OIYi");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "aQrP");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function t(t){const c=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_8__["ShaderBuilder"];return c.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__["Transform"],{linearDepth:!1}),c.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_0__["ScreenSizeScaling"],{}),c.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__["Slice"],t),c.fragment.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_6__["ColorConversion"]),c.vertex.uniforms.add("proj","mat4").add("view","mat4"),c.fragment.uniforms.add("color","vec4"),c.attributes.add("position","vec3"),c.varyings.add("vWorldPosition","vec3"),t.multipassTerrainEnabled&&c.varyings.add("depth","float"),t.screenSizeEnabled&&c.attributes.add("offset","vec3"),t.shadingEnabled&&(c.vertex.uniforms.add("viewNormal","mat4"),c.fragment.uniforms.add("shadedColor","vec4").add("shadingDirection","vec3"),c.attributes.add("normal","vec3"),c.varyings.add("vViewNormal","vec3")),c.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`
    void main(void) {
      vWorldPosition = ${t.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `),t.shadingEnabled&&c.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),c.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`
    ${t.multipassTerrainEnabled?"depth = (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `),t.multipassTerrainEnabled&&(c.fragment.include(_views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_3__["ReadLinearDepth"]),c.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_4__["multipassTerrainTest"],t)),c.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`
    void main() {
      discardBySlice(vWorldPosition);
      ${t.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
    `),t.shadingEnabled?c.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(color, shadedColor, shadingFactor);`):c.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`vec4 finalColor = color;`),c.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`
      if (finalColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"].float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_5__["symbolAlphaCutoff"])}) {
        discard;
      }
      ${7===t.output?_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`gl_FragColor = vec4(finalColor.a);`:""}

      ${0===t.output?_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__["glsl"]`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}`:""}
    }
    `),c}const c=Object.freeze({__proto__:null,build:t});


/***/ }),

/***/ "bkqt":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js ***!
  \*************************************************************************/
/*! exports provided: LaserlinePathData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LaserlinePathData", function() { return c; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buffer/glUtil.js */ "Lrt+");
/* harmony import */ var _buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./buffer/InterleavedLayout.js */ "/ADo");
/* harmony import */ var _webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../webgl-engine/shaders/LaserlinePathTechnique.js */ "6mdJ");
/* harmony import */ var _webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../webgl/BufferObject.js */ "fOQB");
/* harmony import */ var _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../webgl/VertexArrayObject.js */ "D6bk");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class c{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=new Float64Array(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(e){if(this._buffers=e,this._buffers.length>0){const e=this._buffers[0],t=3*Math.floor(e.length/3/2);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["s"])(this._origin,e[t+0],e[t+1],e[t+2])}else Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["s"])(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(t){const r=this.ensureVAO(t);Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(r)&&(t.bindVAO(r),t.drawArrays(4,0,this._count))}dispose(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._vao)&&this._vao.dispose()}ensureVAO(e){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._buffers)?null:(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._vao)&&(this._vao=this.createVAO(e,this._buffers)),this.ensureVertexData(this._vao,this._buffers),this._vao)}createVAO(e,t){const r=this.createDataBuffer(t);return this._dirty=!1,new _webgl_VertexArrayObject_js__WEBPACK_IMPORTED_MODULE_7__["default"](e,_webgl_engine_shaders_LaserlinePathTechnique_js__WEBPACK_IMPORTED_MODULE_5__["LaserlinePathTechnique"].attributeLocations,{data:Object(_buffer_glUtil_js__WEBPACK_IMPORTED_MODULE_3__["glLayout"])(d)},{data:_webgl_BufferObject_js__WEBPACK_IMPORTED_MODULE_6__["default"].createVertex(e,35044,r)})}ensureVertexData(e,t){if(!this._dirty)return;const r=this.createDataBuffer(t);e.vertexBuffers.data.setData(r),this._dirty=!1}numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}createDataBuffer(e){const t=e.reduce(((e,t)=>e+this.numberOfRenderVertices(t)),0);this._count=t;const i=d.createBuffer(t),o=this._origin;let u=0,f=0;for(const n of e){for(let e=0;e<n.length;e+=3){const t=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["s"])(l,n[e+0],n[e+1],n[e+2]);0===e?f=this._renderCoordsHelper.getAltitude(t):this._renderCoordsHelper.setAltitude(t,f);const a=this._renderCoordsHelper.worldUpAtPosition(t,h),c=u+2*e,d=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["f"])(l,t,o);if(e<n.length-3){i.up.setVec(c,a),i.up.setVec(c+3,a),i.up.setVec(c+5,a);for(let e=0;e<6;e++)i.start.setVec(c+e,d);i.extrude.setValues(c+0,0,-1),i.extrude.setValues(c+1,1,-1),i.extrude.setValues(c+2,1,1),i.extrude.setValues(c+3,0,-1),i.extrude.setValues(c+4,1,1),i.extrude.setValues(c+5,0,1)}if(e>0){i.up.setVec(c-2,a),i.up.setVec(c-4,a),i.up.setVec(c-5,a);for(let e=-6;e<0;e++)i.end.setVec(c+e,d)}}u+=this.numberOfRenderVertices(n)}return i.buffer}}const h=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])(),l=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])(),d=Object(_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__["newLayout"])().vec3f("start").vec3f("end").vec3f("up").vec2f("extrude");


/***/ }),

/***/ "dK/y":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js ***!
  \****************************************************************************/
/*! exports provided: calculateInputRotationTransform, calculateTranslateRotateFromBases, createManipulatorMaterial, createManipulatorOutlineMaterial, createSphereManipulator, getGraphicAttachmentOrigin, placeAtGraphic */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateInputRotationTransform", function() { return y; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "calculateTranslateRotateFromBases", function() { return b; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createManipulatorMaterial", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createManipulatorOutlineMaterial", function() { return j; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createSphereManipulator", function() { return w; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGraphicAttachmentOrigin", function() { return O; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "placeAtGraphic", function() { return v; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec4f64.js */ "D8Ta");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../layers/graphics/hydratedFeatures.js */ "08/N");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Manipulator3D.js */ "TnN0");
/* harmony import */ var _layers_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layers/graphics/graphicUtils.js */ "uljd");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../webgl-engine/materials/ColorMaterial.js */ "024p");
/* harmony import */ var _webgl_engine_materials_ShadedColorMaterial_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../webgl-engine/materials/ShadedColorMaterial.js */ "k2DL");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function d(e,t=4,r=!0){const n=Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__["f"])(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new _webgl_engine_materials_ShadedColorMaterial_js__WEBPACK_IMPORTED_MODULE_10__["ShadedColorMaterial"]({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t}):new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_9__["ColorMaterial"]({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__["f"])(e[0],e[1],e[2],4===e.length?e[3]:1);return new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_9__["ColorMaterial"]({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_6__["Manipulator3D"]({view:e,renderObjects:[{geometry:_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_8__["default"].createSphereGeometry(1,32,32),material:d(Object(_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_3__["f"])(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,a,i){const m=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),e,a),u=b(m,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["c"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),i,m),a,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__["b"])(u,u);const p=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["m"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,n){const c=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["n"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),e),i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["n"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),t),l=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["c"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),c,i);return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function O(t,r){const n=t.getViewForGraphic(r);return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(n)&&"computeAttachmentOrigin"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(t,r,n){const o=O(t,n);Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(o)?r.elevationAlignedLocation=o:F(r,n.geometry)}function F(e,r){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(r))return;const n="mesh"===r.type?r.anchor:Object(_layers_graphics_graphicUtils_js__WEBPACK_IMPORTED_MODULE_7__["computeCentroid"])(r);Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(n)||(e.location=Object(_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_5__["hydrateGeometry"])(n))}


/***/ }),

/***/ "f+PC":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveZManipulation.js ***!
  \********************************************************************************************************/
/*! exports provided: MoveZManipulation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveZManipulation", function() { return x; });
/* harmony import */ var _core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/colorUtils.js */ "0ynT");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../manipulatorUtils.js */ "dK/y");
/* harmony import */ var _dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../dragEventPipeline3D.js */ "tKWm");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../settings.js */ "2WkI");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./config.js */ "UcZh");
/* harmony import */ var _Manipulation_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Manipulation.js */ "GXUb");
/* harmony import */ var _moveUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./moveUtils.js */ "22x+");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class x extends _Manipulation_js__WEBPACK_IMPORTED_MODULE_14__["Manipulation"]{constructor(t){super(),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__["default"],this._radius=_config_js__WEBPACK_IMPORTED_MODULE_13__["DISC_RADIUS"],this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._tool=t.tool,this._view=t.view,null!=t.radius&&(this._radius=t.radius),this.createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,0)}createGraphicDragPipeline(t,e,r){const a=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__["unwrap"])(e.graphic.geometry).spatialReference;return Object(_moveUtils_js__WEBPACK_IMPORTED_MODULE_15__["createGraphicMoveDragPipeline"])(e,r,(e=>this.createDragPipeline(((r,a,i,o,s)=>e(r,t(r,a,i,o,s),i)),a)),this._view.state.viewingMode)}createDragPipeline(t,e){const r=this._view;return Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_17__["createManipulatorDragEventPipeline"])(this._manipulator,((a,i,o,s,n)=>{const l=i.next((t=>({...t,manipulatorType:0}))).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_11__["screenToZConstrained"])(r,a.renderLocation,e)).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_17__["addScreenDelta"])());t(a,l,o,s,n)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this.updateManipulator())}updateManipulator(){const e=this._radius/_config_js__WEBPACK_IMPORTED_MODULE_13__["DISC_RADIUS"],r=_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.height*e,a=_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.coneHeight*e,i=_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.coneWidth*e,m=_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.width*e,p=[Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["f"])(0,0,0),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["f"])(0,0,r)],u=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_16__["default"].createTubeGeometry(p,m/2,16,!1),c=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_16__["default"].createConeGeometry(a,i/2,16,!1),h=[Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["f"])(0,0,0),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["f"])(0,0,r+a)],d=t=>{const e=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_6__["c"])();if(Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["a"])(e,e,[0,0,r]),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["d"])(e,e,Math.PI/2),t){const r=1+2*t/i;Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_5__["f"])(e,e,[r,r,r])}return e},f=d(0),_=(e,r)=>{const a=Object(_core_colorUtils_js__WEBPACK_IMPORTED_MODULE_0__["darken"])(_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.color,r);return[a.r/255,a.g/255,a.b/255,_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.color.a*e]},y=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_10__["createManipulatorMaterial"])(_(1,.25),1),w=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_10__["createManipulatorMaterial"])(_(1,0),1),k=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_10__["createManipulatorMaterial"])(_(.7,0),_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.renderOccluded),b=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_10__["createManipulatorMaterial"])(_(.85,0),_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.renderOccluded);this._manipulator.renderObjects=[{geometry:c,transform:f,material:y,stateMask:1},{geometry:u,material:y,stateMask:1},{geometry:c,transform:f,material:w,stateMask:2},{geometry:u,material:w,stateMask:2},{geometry:c,transform:f,material:k,stateMask:1},{geometry:u,material:k,stateMask:1},{geometry:c,transform:f,material:b,stateMask:2},{geometry:u,material:b,stateMask:2}],this._manipulator.radius=m/2+2,this._manipulator.collisionType={type:"line",paths:[h]}}createManipulator(){const t=new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_9__["Manipulator3D"]({view:this._view,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});t.applyObjectTransform=t=>{const e=this._view.state.camera,r=D;this._view.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,r);const i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["j"])(e.eye,r),o=e.computeRenderPixelSizeAtDist(i),s=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["f"])(E,r,e.eye);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["n"])(s,s);const n=O;this._view.renderCoordsHelper.worldUpAtPosition(D,n);const l=Math.abs(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["d"])(s,n)),f=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["c"])(E,s,n),M=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["c"])(E,f,n),_=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__["clamp"])(l,.01,1),g=1-Math.sqrt(1-_*_)/_/e.fullWidth,y=this._radius/_config_js__WEBPACK_IMPORTED_MODULE_13__["DISC_RADIUS"],w=_settings_js__WEBPACK_IMPORTED_MODULE_12__["settings"].zManipulator.width*y;Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["a"])(M,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_7__["n"])(M,M),(1/g-1)*i+o*w),t[12]-=E[0],t[13]-=E[1],t[14]-=E[2]},this._manipulator=t,this.updateManipulator()}get test(){return{manipulator:this._manipulator}}}const D=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["c"])(),E=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["c"])(),O=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_8__["c"])();


/***/ }),

/***/ "f3+M":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatorState.js ***!
  \*****************************************************************************************/
/*! exports provided: ManipulatorState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ManipulatorState", function() { return e; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Manipulator3D.js */ "TnN0");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class e{constructor(){this.grabbingState=0,this.zManipulator=null,this.firstSelected=null,this.numSelected=0,this.firstGrabbedXY=null}update(e){this.grabbingState=0,this.zManipulator=null,this.numSelected=0,this.firstSelected=null,this.firstGrabbedXY=null,e.forEachManipulator(((e,s)=>{if(0===s&&(this.zManipulator=e),e instanceof _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_1__["Manipulator3D"]&&(e.selected&&(0===this.numSelected&&(this.firstSelected=e),this.numSelected++),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this.firstGrabbedXY)&&e.grabbing&&1===s&&(this.firstGrabbedXY=e)),e.grabbing)switch(this.grabbingState|=1,s){case 0:this.grabbingState|=2;break;case 1:this.grabbingState|=4}}))}}


/***/ }),

/***/ "g1SR":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/originGraphicVisualElementUtils.js ***!
  \********************************************************************************************************/
/*! exports provided: createVisualElements */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createVisualElements", function() { return S; });
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/watchUtils.js */ "N5XI");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/projection.js */ "gYg2");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "QmHG");
/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ "kYAx");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _ManipulatorState_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ManipulatorState.js */ "f3+M");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./settings.js */ "2WkI");
/* harmony import */ var _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../visualElements/ExtendedLineVisualElement.js */ "jxyb");
/* harmony import */ var _visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../visualElements/LaserlineVisualElement.js */ "ZHv2");
/* harmony import */ var _visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../visualElements/PointVisualElement.js */ "ACyv");
/* harmony import */ var _layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layers/graphics/elevationAlignmentUtils.js */ "Lg+x");
/* harmony import */ var _layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../layers/graphics/ElevationContext.js */ "Drlb");
/* harmony import */ var _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../layers/graphics/GraphicState.js */ "p9ZE");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function S(t){const{view:n,graphic:o}=t,i=new _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_17__["GraphicState"]({graphic:o}),a=[],s=P(t,i,a);return L(t,i,a,s),a.push(n.trackGraphicState(i)),{visualElement:s,remove(){Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["handlesGroup"])(a).remove()}}}function L(e,n,s,l){const{view:c,graphic:m}=e,d=new _visualElements_ExtendedLineVisualElement_js__WEBPACK_IMPORTED_MODULE_12__["ExtendedLineVisualElement"]({view:c,extensionType:_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.zVerticalLine.extensionType,innerWidth:1,attached:!1,writeDepthEnabled:!1,renderOccluded:4});_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.zVerticalLine.apply(d);const w=new _visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_13__["LaserlineVisualElement"]({view:c,intersectsLineInfinite:!0,attached:!1});_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.pointGraphics.shadowStyle.apply(w);const x=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__["deg2rad"])(_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.heightPlaneAngleCutoff),S=new _visualElements_LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_13__["LaserlineVisualElement"]({view:c,attached:!1,angleCutoff:x});_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.heightPlane.apply(S);const L=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__["getGraphicEffectiveElevationInfo"])(e.graphic),P=_layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_16__["ElevationContext"].fromElevationInfo(L),C="on-the-ground"===L.mode||!L.offset&&"absolute-height"!==L.mode,M=new _ManipulatorState_js__WEBPACK_IMPORTED_MODULE_10__["ManipulatorState"];let R=1,G=1;const V=()=>{M.update(e);const t=A(m),o=C&&(n.isDraped||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isNone"])(t)||!t.hasZ);let s=!0;if(!o&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(t)){const e=Object(_layers_graphics_elevationAlignmentUtils_js__WEBPACK_IMPORTED_MODULE_15__["evaluateElevationAlignmentAtPoint"])(t,c.elevationProvider,P,c.renderCoordsHelper);Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_4__["s"])(U,t.x,t.y,e),Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__["projectVectorToVector"])(U,t.spatialReference,U,c.renderCoordsHelper.spatialReference),d.setStartEndFromWorldDownAtLocation(U),w.intersectsWorldUpAtLocation=U}else s=!1;const f=2&M.grabbingState?_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.laserlineAlphaMultiplier:1;f!==R&&(R=f,_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.heightPlane.apply(S,f));const g=Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["empty"])(D);!o&&n.displaying&&l.calculateMapBounds(g)&&Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__["projectVectorToVector"])(Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["getMin"])(g,U),c.spatialReference,U,c.renderCoordsHelper.spatialReference)?(S.heightManifoldTarget=U,S.attached=!0):S.attached=!1;const y=4&M.grabbingState?_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.laserlineAlphaMultiplier:1;y!==G&&(G=y,_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.pointGraphics.shadowStyle.apply(w,y));const E=s&&n.displaying&&!o;w.attached=E,d.attached=E};s.push(n.watch(["displaying","isDraped"],V),n.on("changed",V)),e.forEachManipulator((e=>{s.push(e.events.on("grab-changed",V))})),s.push(Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["destroyHandle"])(w)),s.push(Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["destroyHandle"])(d)),s.push(Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["destroyHandle"])(S)),V()}function P(e,n,o){const{view:i,graphic:a}=e,s=new _visualElements_PointVisualElement_js__WEBPACK_IMPORTED_MODULE_14__["PointVisualElement"]({view:i,geometry:A(a),elevationInfo:Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__["getGraphicEffectiveElevationInfo"])(a),attached:!1});return C(e,s,n,o),o.push(Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["destroyHandle"])(s)),s}function A(e){const t=e.geometry;return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isNone"])(t)?null:"point"===t.type?t:"mesh"===t.type?t.anchor.clone():null}function C(e,t,n,o){const i=()=>t.attached=n.displaying;M(e,t,n,o),_settings_js__WEBPACK_IMPORTED_MODULE_11__["settings"].visualElements.pointGraphics.outline.apply(t),o.push(Object(_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_3__["init"])(n,"displaying",i))}function M(e,t,o,i){const{view:s,graphic:r}=e;let l=null;const p=e=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(l)&&(l.remove(),l=null),o.isDraped&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(e)&&(l=R(s,e,(()=>{t.geometry=e})))},c=()=>{const e=A(r);p(e),t.geometry=e};i.push(o.on("changed",c),Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__["refHandle"])((()=>l))),c()}function R(e,t,n){const o=e.elevationProvider.spatialReference;Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_6__["projectPointToVector"])(t,U,o);const i=U[0],a=U[1];return e.elevationProvider.on("elevation-change",(e=>{Object(_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_8__["containsXY"])(e.extent,i,a)&&n()}))}const U=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_5__["c"])(),D=Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_7__["create"])();


/***/ }),

/***/ "gwGW":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/visualElementUtils.js ***!
  \*******************************************************************************************/
/*! exports provided: createVisualElements */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createVisualElements", function() { return i; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _lineGraphicVisualElementUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lineGraphicVisualElementUtils.js */ "DX/4");
/* harmony import */ var _originGraphicVisualElementUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./originGraphicVisualElementUtils.js */ "g1SR");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function i(i){switch(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["unwrap"])(i.graphic.geometry).type){case"point":case"mesh":return Object(_originGraphicVisualElementUtils_js__WEBPACK_IMPORTED_MODULE_2__["createVisualElements"])(i);case"polygon":case"polyline":return Object(_lineGraphicVisualElementUtils_js__WEBPACK_IMPORTED_MODULE_1__["createVisualElements"])(i);default:return null}}


/***/ }),

/***/ "jbgK":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/ScaleRotateMeshAdapter.js ***!
  \****************************************************************************************************************/
/*! exports provided: ScaleRotateMeshAdapter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScaleRotateMeshAdapter", function() { return g; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/HandleOwner.js */ "kJYu");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/reactiveUtils.js */ "R3wZ");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../geometry/support/axisAngleDegrees.js */ "M7DR");
/* harmony import */ var _undoRecords_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./undoRecords.js */ "lLp8");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let g=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__["HandleOwner"]{constructor(e){super(e),this.angle=0,this.scale=1,this.initialAngle=0,this.previousAngle=0,this.previousScale=1}initialize(){this.restart()}restart(){this.handles.remove(m);const e=this.geometry.transform;if(this.scale=1,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(e)){const t=Object(_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_10__["axis"])(e.rotation)[2];Math.abs(t)>.999999&&(this.angle=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__["deg2rad"])(Object(_geometry_support_axisAngleDegrees_js__WEBPACK_IMPORTED_MODULE_10__["angle"])(e.rotation))*Math.sign(t))}this.initialAngle=this.angle,this.previousAngle=this.angle,this.previousScale=this.scale,this.handles.add(Object(_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__["react"])((()=>({angle:this.angle,scale:this.scale})),(e=>this.update(e)),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__["sync"]),m)}cancel(){this.scale=1,this.angle=this.initialAngle}createUndoRecord(){return Object(_undoRecords_js__WEBPACK_IMPORTED_MODULE_11__["createGraphicGeometryUndoRecord"])(this.graphic)}update({scale:e,angle:t}){const s=this.geometry.anchor,o=1===this.viewingMode;e!==this.previousScale&&(this.geometry.scale(e/this.previousScale,{origin:s,geographic:o}),this.previousScale=e,this.graphic.notifyGeometryChanged()),t!==this.previousAngle&&(this.geometry.rotate(0,0,Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__["rad2deg"])(t-this.previousAngle),{origin:s,geographic:o}),this.previousAngle=t,this.graphic.notifyGeometryChanged())}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],g.prototype,"graphic",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],g.prototype,"geometry",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])({constructOnly:!0})],g.prototype,"viewingMode",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],g.prototype,"angle",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__["property"])()],g.prototype,"scale",void 0),g=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__["subclass"])("esri.views.3d.interactive.editingTools.transformGraphic.ScaleRotateMeshAdapter")],g);const m="scale-heading-update-key";


/***/ }),

/***/ "jxyb":
/*!****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/ExtendedLineVisualElement.js ***!
  \****************************************************************************************************/
/*! exports provided: ExtendedLineVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExtendedLineVisualElement", function() { return M; });
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ "XvKw");
/* harmony import */ var _geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/clipRay.js */ "T4vJ");
/* harmony import */ var _geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/frustum.js */ "01mo");
/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/lineSegment.js */ "vX5d");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "0Y+r");
/* harmony import */ var _LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LaserlineVisualElement.js */ "ZHv2");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "X668");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "hrr/");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class M extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_12__["Object3DVisualElement"]{constructor(t){super(t),this._ray=Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__["create"])(),this._externalResources=null,this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._isWorldDown=!1,this._start=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),this._end=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["f"])(1,0,0),this._width=1,this._color=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__["f"])(1,0,1,1),this._polygonOffset=!1,this._writeDepthEnabled=!0,this._innerWidth=0,this._innerColor=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__["f"])(1,1,1,1),this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._falloff=0,this._extensionType=0,this._laserlineStyle=null,this._laserlineEnabled=!1,this._renderOccluded=4,this._fadedExtensions=T,this.applyProps(t)}createExternalResources(){const e=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_14__["RibbonLineMaterial"](this.materialParameters);this._handles.add(this.view.state.watch("camera",(()=>{this.updateGeometry()})));const t=new _LaserlineVisualElement_js__WEBPACK_IMPORTED_MODULE_11__["LaserlineVisualElement"]({view:this.view,attached:this._laserlineEnabled});this._externalResources={material:e,laserline:t}}destroyExternalResources(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._externalResources)&&this._externalResources.laserline.destroy(),this._externalResources=null,this._handles.removeAll()}forEachExternalMaterial(e){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._externalResources)&&e(this._externalResources.material)}createGeometries(e){const t=[Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])()],i=3===this.extensionType;i&&t.push(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])());const r=i?new Float32Array([1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0]):null,n=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_13__["default"].createPolylineGeometry(t,null,r);e.addGeometry(n,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["unwrap"])(this._externalResources).material),this.updateVertices(e)}updateVisibility(e){super.updateVisibility(e),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._externalResources)&&(this._externalResources.laserline.visible=e)}setStartEndFromWorldDownAtLocation(e){this._isWorldDown=!0,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(this._start,e),this.view.renderCoordsHelper.worldUpAtPosition(e,this._end),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["f"])(this._end,e,this._end),Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__["fromPoints"])(this._start,this._end,this._ray),this.updateGeometry()}get start(){return this._start}set start(e){this._isWorldDown=!1,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["k"])(this._start,e)||(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(this._start,e),Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__["fromPoints"])(this._start,this._end,this._ray),this.updateGeometry())}get end(){return this._end}set end(e){this._isWorldDown=!1,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["k"])(this._end,e)||(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(this._end,e),Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_10__["fromPoints"])(this._start,this._end,this._ray),this.updateGeometry())}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this.updateMaterial())}get color(){return this._color}set color(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["g"])(e,this._color)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["c"])(this._color,e),this.updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this.updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this.updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this.updateMaterial())}get innerColor(){return this._innerColor}set innerColor(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["g"])(e,this._innerColor)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["c"])(this._innerColor,e),this.updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(e){const s=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(e)!==Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._stipplePattern);this._stipplePattern=e,s?this.recreate():this.updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(e){(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isNone"])(e)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isNone"])(this._stippleOffColor)||!Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["g"])(e,this._stippleOffColor))&&(this._stippleOffColor=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(e)?Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__["a"])(e):null,this.updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){e!==this._stipplePreferContinuous&&(this._stipplePreferContinuous=e,this.updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this.updateMaterial())}get extensionType(){return this._extensionType}set extensionType(e){e!==this._extensionType&&(this._extensionType=e,this.updateGeometry())}get _laserlineAttached(){return this._laserlineEnabled&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._laserlineStyle)}get laserlineStyle(){return this._laserlineStyle}set laserlineStyle(e){this._laserlineStyle=e,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(e)&&(this._externalResources.laserline.style=e))}get laserlineEnabled(){return this._laserlineEnabled}set laserlineEnabled(e){this._laserlineEnabled!==e&&(this._laserlineEnabled=e,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._externalResources)&&(this._externalResources.laserline.attached=this._laserlineAttached))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial())}get fadedExtensions(){return this._fadedExtensions}set fadedExtensions(e){this._fadedExtensions=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["unwrapOr"])(e,T),this.recreateGeometry()}updateMaterial(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isNone"])(this._externalResources))return;this._externalResources.material.setParameters(this.materialParameters)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,innerWidth:this._innerWidth,innerColor:this._innerColor,falloff:this._falloff,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}updateGeometry(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this.object)&&this.updateVertices(this.object)}updateVertices(e){const s=3===this._extensionType?this.updateLineSegmentFinite(S):this.updateLineSegmentInfinite(this._extensionType,S);this.updateVertexAttributes(e,s),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["isSome"])(this._externalResources)&&(this._externalResources.laserline.intersectsLine=s)}updateLineSegmentFinite(e){return Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["fromPoints"])(this._start,this._end,e)}updateLineSegmentInfinite(e,t){const s=this.view.state.camera;switch(Object(_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__["fromRay"])(this._ray,D),e){case 0:D.c0=-Number.MAX_VALUE;break;case 1:case 2:{const e=this._ray.origin,t=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["unwrapOr"])(this.view.elevationProvider.getElevation(e[0],e[1],e[2],this.view.renderCoordsHelper.spatialReference,"ground"),0),s=this.view.renderCoordsHelper.getAltitude(e);this._isWorldDown&&s<t&&Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["o"])(D.ray.direction,D.ray.direction),2===this._extensionType&&null!=t&&(D.c1=Math.abs(s-t));break}}if(!Object(_geometry_support_frustum_js__WEBPACK_IMPORTED_MODULE_8__["intersectClipRay"])(s.frustum,D))return Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["fromPoints"])(this._start,this._end,t);const i=Object(_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__["getStart"])(D,A),n=Object(_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__["getEnd"])(D,W);return Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["fromPoints"])(i,n,t)}updateVertexAttributes(e,t){const s=e.geometries[0].getMutableAttribute("position").data;if(3===this.extensionType){const e=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["pointAt"])(t,-this.fadedExtensions.start,A);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["pointAt"])(t,0,A);s[3]=i[0],s[4]=i[1],s[5]=i[2];const r=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["pointAt"])(t,1,A);s[6]=r[0],s[7]=r[1],s[8]=r[2];const n=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["pointAt"])(t,1+this.fadedExtensions.end,A);s[9]=n[0],s[10]=n[1],s[11]=n[2]}else{const e=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["pointAt"])(t,0,A);s[0]=e[0],s[1]=e[1],s[2]=e[2];const i=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["pointAt"])(t,1,A);s[3]=i[0],s[4]=i[1],s[5]=i[2]}e.geometryVertexAttrsUpdated(e.geometryRecords[0])}}const D=Object(_geometry_support_clipRay_js__WEBPACK_IMPORTED_MODULE_7__["create"])(),A=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),W=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),S=Object(_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_9__["create"])(),G=1/3,T={start:G,end:G};


/***/ }),

/***/ "k2DL":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js ***!
  \******************************************************************************************/
/*! exports provided: ShadedColorMaterial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShadedColorMaterial", function() { return q; });
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ "QmHG");
/* harmony import */ var _geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../geometry/support/buffer/BufferView.js */ "gZDz");
/* harmony import */ var _support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../support/buffer/InterleavedLayout.js */ "/ADo");
/* harmony import */ var _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/GLMaterial.js */ "1/dN");
/* harmony import */ var _lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/GLMaterials.js */ "sGEu");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/Material.js */ "NbNv");
/* harmony import */ var _lib_Util_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../lib/Util.js */ "EVMh");
/* harmony import */ var _internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./internal/bufferWriterUtils.js */ "WVfK");
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ "fFEv");
/* harmony import */ var _shaders_ShadedColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../shaders/ShadedColorMaterialTechnique.js */ "Knsq");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class q extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_7__["Material"]{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new _shaders_ShadedColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_11__["ShadedColorMaterialTechniqueConfiguration"],this._vertexAttributeLocations=_shaders_ShadedColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_11__["ShadedColorMaterialVertexAttrLocations"]}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.screenSizeEnabled=this.parameters.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.parameters.shadingEnabled,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.parameters}intersect(e,i,o,u,c,l,f){if(this.parameters.screenSizeEnabled){const o=e.vertexAttributes.get("offset"),h={applyToVertex:(e,i,a,n)=>{const c=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__["s"])(z,o.data[3*n+0],o.data[3*n+1],o.data[3*n+2]),l=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__["s"])(w,e,i,a);return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__["a"])(c,c,this.parameters.screenSize*u.camera.computeRenderPixelSizeAt(c)),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__["b"])(l,l,c),[l[0],l[1],l[2]]},applyToAabb:e=>{const t=Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__["center"])(e,z);return Object(_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_2__["scale"])(e,this.parameters.screenSize*u.camera.computeRenderPixelSizeAt(t))}};Object(_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_10__["intersectTriangleGeometry"])(e,i,u,c,l,h,f)}else Object(_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_10__["intersectTriangleGeometry"])(e,i,u,c,l,void 0,f)}requiresSlot(e,t){if(4===Object(_lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_6__["outputFromPass"])(t))return 2===e;let r=2;return this.parameters.transparent&&(r=this.parameters.writeDepth?4:7),e===r||20===e}createGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new S(e):null}createBufferWriter(){return new x(this.parameters.screenSizeEnabled)}}class S extends _lib_GLMaterial_js__WEBPACK_IMPORTED_MODULE_5__["default"]{updateParameters(e){return this.ensureTechnique(_shaders_ShadedColorMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_11__["ShadedColorMaterialTechnique"],e)}beginSlot(e){return this.updateParameters(e)}bind(e,t){t.bindPass(this._material.getPassParameters(),e)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__["n"])(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__["c"])(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,..._lib_Material_js__WEBPACK_IMPORTED_MODULE_7__["materialParametersDefaults"]};class x{constructor(e){this.screenSizeEnabled=e;const t=Object(_support_buffer_InterleavedLayout_js__WEBPACK_IMPORTED_MODULE_4__["newLayout"])().vec3f("position").vec3f("normal");this.screenSizeEnabled&&t.vec3f("offset"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get("position").length}write(e,t,r,s){if(Object(_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_9__["writeDefaultAttributes"])(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,s),this.screenSizeEnabled){if(!t.vertexAttributes.has("offset"))throw new Error("offset vertex attribute required for screenSizeEnabled ShadedColorMaterial");{const i=t.vertexAttributes.get("offset"),a=t.indices.get("offset");Object(_lib_Util_js__WEBPACK_IMPORTED_MODULE_8__["assert"])(3===i.size);const n=r.getField("offset",_geometry_support_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_3__["BufferViewVec3f"]);if(!n)throw new Error("unable to acquire view for offset");Object(_internal_bufferWriterUtils_js__WEBPACK_IMPORTED_MODULE_9__["writePosition"])(a,i.data,e.invTranspTransformation,n,s)}}}}const z=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__["c"])(),w=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_1__["c"])();


/***/ }),

/***/ "kqF+":
/*!**************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js ***!
  \**************************************************************************/
/*! exports provided: RenderCoordsHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenderCoordsHelper", function() { return v; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/unitUtils.js */ "gEht");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../geometry/projection.js */ "gYg2");
/* harmony import */ var _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/SpatialReference.js */ "WZb1");
/* harmony import */ var _geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../geometry/support/coordinateSystem.js */ "Ns/c");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../geometry/support/plane.js */ "colF");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../layers/graphics/dehydratedFeatureUtils.js */ "hPSC");
/* harmony import */ var _support_spatialReferenceSupport_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/spatialReferenceSupport.js */ "zieJ");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class v{constructor(t,e,s,r){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=s,this.coordinateSystem=r,this._coordinateSystem=Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["create"])(r)}set extent(t){t&&Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["setExtent"])(this.coordinateSystem,t,this.coordinateSystem)}getAltitude(t){return Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["altitudeAt"])(this.coordinateSystem,t)}setAltitude(t,e,s=t){return Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["setAltitudeAt"])(this.coordinateSystem,s,e,t)}setAltitudeOfTransformation(t,e){Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["setAltitudeOfTransformation"])(this.coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["normalAt"])(this.coordinateSystem,t,e)}worldBasisAtPosition(t,e,s){return Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["axisAt"])(this.coordinateSystem,t,e,s)}basisMatrixAtPosition(t,e){const r=this.worldBasisAtPosition(t,0,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get()),i=this.worldBasisAtPosition(t,1,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get()),o=this.worldBasisAtPosition(t,2,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get());return Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_2__["s"])(e,r[0],r[1],r[2],0,i[0],i[1],i[2],0,o[0],o[1],o[2],0,0,0,0,1),e}intersectManifoldClosestSilhouette(t,e,s){return Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["elevate"])(this.coordinateSystem,e,this._coordinateSystem),Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["intersectRayClosestSilhouette"])(this._coordinateSystem,t,s),s}intersectManifold(t,e,s){Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["elevate"])(this.coordinateSystem,e,this._coordinateSystem);const i=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get();return Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["intersectRay"])(this._coordinateSystem,t,i)?Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(s,i):null}intersectInfiniteManifold(t,e,s){if(1===this.viewingMode)return this.intersectManifold(t,e,s);Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["elevate"])(this.coordinateSystem,e,this._coordinateSystem);const i=this._coordinateSystem.value,o=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv3d"].get();return Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_7__["intersectRay"])(i.plane,t,o)?Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(s,o):null}toRenderCoords(t,e,s){return Object(_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_9__["isDehydratedPoint"])(t)?Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__["projectPointToVector"])(t,e,this.spatialReference):Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__["projectVectorToVector"])(t,e,s,this.spatialReference)}fromRenderCoords(e,s,r=null){return Object(_layers_graphics_dehydratedFeatureUtils_js__WEBPACK_IMPORTED_MODULE_9__["isDehydratedPoint"])(s)?(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(r)&&(s.spatialReference=r),Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__["projectVectorToDehydratedPoint"])(e,this.spatialReference,s)):s instanceof _geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_5__["default"]?Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__["projectVectorToPoint"])(e,this.spatialReference,s):Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__["projectVectorToVector"])(e,this.spatialReference,s,r)?s:null}static create(t,s){switch(t){case 2:return new v(2,s,Object(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__["getMetersPerUnitForSR"])(s),Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["createLocal"])());case 1:return new v(1,s,1,Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["createGlobal"])(s))}}static renderUnitScaleFactor(t,e){return B(t)/B(e)}}function B(t){if(Object(_support_spatialReferenceSupport_js__WEBPACK_IMPORTED_MODULE_10__["isSpatialReferenceSupported"])(t,1))return 1;const s=Object(_geometry_support_coordinateSystem_js__WEBPACK_IMPORTED_MODULE_6__["renderSRFromViewSR"])(!1,t);return Object(_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_1__["getMetersPerUnitForSR"])(s)}


/***/ }),

/***/ "krFY":
/*!************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/VerticesVisualElement.js ***!
  \************************************************************************************************/
/*! exports provided: VerticesVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerticesVisualElement", function() { return u; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _editingTools_settings_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../editingTools/settings.js */ "2WkI");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "X668");
/* harmony import */ var _layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../layers/graphics/ElevationContext.js */ "Drlb");
/* harmony import */ var _layers_graphics_pointUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../layers/graphics/pointUtils.js */ "UkHK");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_ShadedColorMaterial_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/materials/ShadedColorMaterial.js */ "k2DL");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class u extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_5__["Object3DVisualElement"]{constructor(e){super(e),this.view=null,this._renderOccluded=4,this._vertices=null,this._spatialReference=null,this._color=_editingTools_settings_js__WEBPACK_IMPORTED_MODULE_4__["settings"].colorToVec4(_editingTools_settings_js__WEBPACK_IMPORTED_MODULE_4__["settings"].reshapeManipulators.vertex.color),this._size=_editingTools_settings_js__WEBPACK_IMPORTED_MODULE_4__["settings"].reshapeManipulators.vertex.size,this._outlineColor=_editingTools_settings_js__WEBPACK_IMPORTED_MODULE_4__["settings"].colorToVec4(_editingTools_settings_js__WEBPACK_IMPORTED_MODULE_4__["settings"].reshapeManipulators.vertex.outlineColor),this._outlineSize=_editingTools_settings_js__WEBPACK_IMPORTED_MODULE_4__["settings"].reshapeManipulators.vertex.outlineSize,this._elevationInfo=null,this.applyProps(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this.updateMaterial(),this.updateOutlineMaterial())}get vertices(){return this._vertices}set vertices(e){this._vertices=e,this.recreateGeometry()}get spatialReference(){return this._spatialReference}set spatialReference(e){this._spatialReference=e,this.recreateGeometry()}get color(){return this._color}set color(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__["g"])(e,this._color)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__["c"])(this._color,e),this.updateMaterial())}get size(){return this._size}set size(e){e!==this._size&&(this._size=e,this.updateMaterial())}get outlineColor(){return this._outlineColor}set outlineColor(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__["g"])(e,this._outlineColor)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_3__["c"])(this._outlineColor,e),this.updateOutlineMaterial())}get outlineSize(){return this._outlineSize}set outlineSize(e){e!==this._outlineSize&&(this._outlineSize=e,this.updateOutlineMaterial())}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this.recreateGeometry()}get vertexMaterialParameters(){return{color:this._color,transparent:this._color[3]<1,screenSize:this.size,renderOccluded:this._renderOccluded}}get vertexOutlineMaterialParameters(){return{color:this._outlineColor,transparent:this._outlineColor[3]<1,screenSize:this.size+2*this.outlineSize,renderOccluded:this._renderOccluded}}updateMaterial(){this.attached&&this.vertexMaterial.setParameters(this.vertexMaterialParameters)}updateOutlineMaterial(){this.attached&&this.vertexOutlineMaterial.setParameters(this.vertexOutlineMaterialParameters)}createRenderGeometries(){const r=this.vertices;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(r)||0===r.length)return[];const i=.5,s=.5,a=Object(_layers_graphics_pointUtils_js__WEBPACK_IMPORTED_MODULE_7__["geometryToRenderInfo"])(r,this.spatialReference,this.view.elevationProvider,this.view.renderCoordsHelper,_layers_graphics_ElevationContext_js__WEBPACK_IMPORTED_MODULE_6__["ElevationContext"].fromElevationInfo(this.elevationInfo)),o=[],c=a.numVertices,h=a.position;for(let e=0;e<c;++e){const r=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_1__["s"])(d,h[3*e+0],h[3*e+1],h[3*e+2]),a=p(i,r),l=p(s,r);o.push({vertexGeometry:a,vertexOutlineGeometry:l})}return o}createGeometries(e){const t=this.createRenderGeometries();for(const{vertexGeometry:r,vertexOutlineGeometry:i}of t)e.addGeometry(r,this.vertexMaterial),e.addGeometry(i,this.vertexOutlineMaterial)}createExternalResources(){this.vertexMaterial=new _webgl_engine_materials_ShadedColorMaterial_js__WEBPACK_IMPORTED_MODULE_9__["ShadedColorMaterial"]({...this.vertexMaterialParameters,writeDepth:!0,cullFace:2,screenSizeEnabled:!0}),this.vertexOutlineMaterial=new _webgl_engine_materials_ShadedColorMaterial_js__WEBPACK_IMPORTED_MODULE_9__["ShadedColorMaterial"]({...this.vertexOutlineMaterialParameters,transparent:!0,writeDepth:!0,cullFace:1,screenSizeEnabled:!0,shadingEnabled:!1})}destroyExternalResources(){this.vertexMaterial=null,this.vertexOutlineMaterial=null}forEachExternalMaterial(e){e(this.vertexMaterial),e(this.vertexOutlineMaterial)}}const d=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])();function p(e,t){return _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_8__["default"].createSphereGeometry(e,16,16,{offset:t})}


/***/ }),

/***/ "lLp8":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/undoRecords.js ***!
  \*****************************************************************************************************/
/*! exports provided: createGraphicGeometryUndoRecord */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createGraphicGeometryUndoRecord", function() { return r; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function r(t){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t.geometry)&&"mesh"===t.geometry.type?o(t.geometry):n(t)}function o(t){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t.transform)?m(t,t.transform):i(t)}function n(e){let r=e.geometry,o=_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["none"];return{undo(e){o=e.geometry,e.geometry=r},redo(e){r=e.geometry,e.geometry=o}}}function m(t,r){let o=r.clone(),n=null;return{undo:r=>{n=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t.transform)?t.transform.clone():null,t.transform=o,r.notifyGeometryChanged()},redo:r=>{o=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t.transform)?t.transform.clone():null,t.transform=n,r.notifyGeometryChanged()}}}function i(e){let t,r=e.vertexAttributes.clonePositional();return{undo:o=>{t=e.vertexAttributes.clonePositional(),e.vertexAttributes=r,o.notifyGeometryChanged()},redo:o=>{r=e.vertexAttributes.clonePositional(),e.vertexAttributes=t,o.notifyGeometryChanged()}}}


/***/ }),

/***/ "lObl":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js ***!
  \********************************************************************************************/
/*! exports provided: LineVisualElement */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LineVisualElement", function() { return m; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../chunks/vec4.js */ "dXfX");
/* harmony import */ var _chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../chunks/vec4f32.js */ "XvKw");
/* harmony import */ var _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Object3DVisualElement.js */ "X668");
/* harmony import */ var _layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../layers/graphics/lineUtils.js */ "1AhW");
/* harmony import */ var _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../webgl-engine/materials/RibbonLineMaterial.js */ "hrr/");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class m extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_7__["Object3DVisualElement"]{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__["f"])(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromRenderSpacePoint(e){const t=1e3,r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),s=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),i=100,n=[];Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["s"])(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["s"])(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["s"])(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["s"])(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["s"])(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["s"])(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,n=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),h=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),a=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),p=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])();n[0]=r[0]-s[0]*o-i[0]*o,n[1]=r[1]-s[1]*o-i[1]*o,n[2]=r[2]-s[2]*o-i[2]*o,h[0]=r[0]-s[0]*o+i[0]*o,h[1]=r[1]-s[1]*o+i[1]*o,h[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([n[0],n[1],n[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__["i"])(g),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__["a"])(g,g,t),this.transform=g;const{points:i}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[i]}setGeometryFromSegments(e,t=_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__["Z"]){Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__["i"])(g),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__["a"])(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["g"])(e,this._color)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["c"])(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(r)?!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._innerColor)&&Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["g"])(r,this._innerColor)||(this._innerColor=Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["c"])(Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__["c"])(),r),this._updateMaterial()):Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t)!==Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(r)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(this._stippleOffColor)||!Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__["g"])(r,this._stippleOffColor))&&(this._stippleOffColor=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(r)?Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__["a"])(r):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){this._stipplePreferContinuous!==e&&(this._stipplePreferContinuous=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_9__["RibbonLineMaterial"](this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=Object(_layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_8__["createGeometry"])(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameters(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={overlayInfo:null,attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__["c"])();


/***/ }),

/***/ "mZDS":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js ***!
  \*************************************************************************/
/*! exports provided: fromRender, fromRenderAtEye, fromScreen, fromScreenAtEye */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromRender", function() { return u; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromRenderAtEye", function() { return g; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromScreen", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromScreenAtEye", function() { return m; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec2.js */ "M0lq");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "c2GT");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function s(e,n,o){return u(e,e.screenToRender(n,Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["castRenderScreenPointArray3"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get())),o)}function u(t,c,s){const u=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["castRenderScreenPointArray3"])(Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__["c"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),c));if(u[2]=0,!t.unprojectFromRenderScreen(u,s.origin))return null;const m=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["castRenderScreenPointArray3"])(Object(_chunks_vec2_js__WEBPACK_IMPORTED_MODULE_2__["c"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),c));m[2]=1;const g=t.unprojectFromRenderScreen(m,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get());return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(g)?null:(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["f"])(s.direction,g,s.origin),s)}function m(e,n,o){return g(e,e.screenToRender(n,Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["castRenderScreenPointArray3"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get())),o)}function g(r,n,s){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["g"])(s.origin,r.eye);const u=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get(),n[0],n[1],1),m=r.unprojectFromRenderScreen(u,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_4__["sv3d"].get());return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(m)?null:(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__["f"])(s.direction,m,s.origin),s)}


/***/ }),

/***/ "nmNv":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js ***!
  \***************************************************************************************/
/*! exports provided: LaserlineTechnique, LaserlineTechniqueConfiguration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LaserlineTechnique", function() { return d; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LaserlineTechniqueConfiguration", function() { return c; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/shaderTechnique/ReloadableShaderModule.js */ "w6Td");
/* harmony import */ var _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechnique.js */ "ypgp");
/* harmony import */ var _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/shaderTechnique/ShaderTechniqueConfiguration.js */ "2jVe");
/* harmony import */ var _lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/DefaultVertexAttributeLocations.js */ "+h6m");
/* harmony import */ var _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/Program.js */ "yCmR");
/* harmony import */ var _chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../chunks/Laserlines.glsl.js */ "qZfn");
/* harmony import */ var _webgl_renderState_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../webgl/renderState.js */ "GJyJ");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class d extends _core_shaderTechnique_ShaderTechnique_js__WEBPACK_IMPORTED_MODULE_3__["ShaderTechnique"]{initializeProgram(o){const t=d.shader.get(),e=this.configuration,r=t.build(e);return new _lib_Program_js__WEBPACK_IMPORTED_MODULE_6__["Program"](o.rctx,r,_lib_DefaultVertexAttributeLocations_js__WEBPACK_IMPORTED_MODULE_5__["Default3D"])}bind(o,e){this.program.setUniform3fv("innerColor",o.innerColor),this.program.setUniform1f("innerWidth",o.innerWidth*e.pixelRatio),this.program.setUniform3fv("glowColor",o.glowColor),this.program.setUniform1f("glowWidth",o.glowWidth*e.pixelRatio),this.program.setUniform1f("glowFalloff",o.glowFalloff),this.program.setUniform1f("globalAlpha",o.globalAlpha),this.configuration.contrastControlEnabled&&this.program.setUniform1f("globalAlphaContrastBoost",null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1);const r=null!=o.angleCutoff?o.angleCutoff:_chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_7__["d"];this.program.setUniform2f("angleCutoff",Math.cos(r),Math.cos(Math.max(0,r-Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_1__["deg2rad"])(2)))),this.configuration.intersectsLineEnabled&&this.program.setUniform1f("perScreenPixelRatio",e.perScreenPixelRatio)}initializePipeline(){return Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_8__["makePipelineState"])({blending:Object(_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_8__["simpleBlendingParams"])(1,771),colorWrite:_webgl_renderState_js__WEBPACK_IMPORTED_MODULE_8__["defaultColorWriteParams"]})}}d.shader=new _core_shaderTechnique_ReloadableShaderModule_js__WEBPACK_IMPORTED_MODULE_2__["ReloadableShaderModule"](_chunks_Laserlines_glsl_js__WEBPACK_IMPORTED_MODULE_7__["L"],(()=>__webpack_require__.e(/*! import() | Laserlines-glsl-js */ "Laserlines-glsl-js").then(__webpack_require__.bind(null, /*! ./Laserlines.glsl.js */ "4TuL"))));class c extends _core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__["ShaderTechniqueConfiguration"]{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.contrastControlEnabled=!1}}Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__["parameter"])()],c.prototype,"heightManifoldEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__["parameter"])()],c.prototype,"pointDistanceEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__["parameter"])()],c.prototype,"lineVerticalPlaneEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__["parameter"])()],c.prototype,"intersectsLineEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_shaderTechnique_ShaderTechniqueConfiguration_js__WEBPACK_IMPORTED_MODULE_4__["parameter"])()],c.prototype,"contrastControlEnabled",void 0);


/***/ }),

/***/ "nndT":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js ***!
  \**********************************************************************************************/
/*! exports provided: Laserline */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Laserline", function() { return a; });
/* harmony import */ var _output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./output/ReadLinearDepth.glsl.js */ "0Ect");
/* harmony import */ var _util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/CameraSpace.glsl.js */ "WMId");
/* harmony import */ var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shaderModules/interfaces.js */ "OIYi");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function a(a,t){a.extensions.add("GL_OES_standard_derivatives"),a.fragment.include(_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_0__["ReadLinearDepth"]),a.include(_util_CameraSpace_glsl_js__WEBPACK_IMPORTED_MODULE_1__["CameraSpace"]),a.fragment.uniforms.add("glowColor","vec3"),a.fragment.uniforms.add("glowWidth","float"),a.fragment.uniforms.add("glowFalloff","float"),a.fragment.uniforms.add("innerColor","vec3"),a.fragment.uniforms.add("innerWidth","float"),a.fragment.uniforms.add("depthMap","sampler2D"),a.fragment.uniforms.add("nearFar","vec2"),a.fragment.uniforms.add("frameColor","sampler2D"),t.contrastControlEnabled&&a.fragment.uniforms.add("globalAlphaContrastBoost","float"),a.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__["glsl"]`vec4 blendPremultiplied(vec4 source, vec4 dest) {
float oneMinusSourceAlpha = 1.0 - source.a;
return vec4(
source.rgb + dest.rgb * oneMinusSourceAlpha,
source.a + dest.a * oneMinusSourceAlpha
);
}`),a.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__["glsl"]`vec4 premultipliedColor(vec3 rgb, float alpha) {
return vec4(rgb * alpha, alpha);
}`),a.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__["glsl"]`vec4 laserlineProfile(float dist) {
if (dist > glowWidth) {
return vec4(0.0);
}
float innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));
float glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);
return blendPremultiplied(
premultipliedColor(innerColor, innerAlpha),
premultipliedColor(glowColor, glowAlpha)
);
}`),a.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__["glsl"]`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {
float depth = linearDepthFromTexture(depthMap, uv, nearFar);
if (-depth == nearFar[0]) {
return false;
}
pos = reconstructPosition(gl_FragCoord.xy, depth);
normal = normalize(cross(dFdx(pos), dFdy(pos)));
float ddepth = fwidth(depth);
depthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);
return true;
}`),t.contrastControlEnabled?a.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__["glsl"]`float rgbToLuminance(vec3 color) {
return dot(vec3(0.2126, 0.7152, 0.0722), color);
}
vec4 laserlineOutput(vec4 color) {
float backgroundLuminance = rgbToLuminance(texture2D(frameColor, uv).rgb);
float alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);
return color * alpha;
}`):a.fragment.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_2__["glsl"]`vec4 laserlineOutput(vec4 color) {
return color * globalAlpha;
}`)}


/***/ }),

/***/ "p9ZE":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicState.js ***!
  \****************************************************************************/
/*! exports provided: GraphicState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicState", function() { return e; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let e=class extends _core_Evented_js__WEBPACK_IMPORTED_MODULE_1__["default"].EventedAccessor{constructor(r){super(r),this.tracking=!1,this.displaying=!1,this.isDraped=!1}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__["property"])({constructOnly:!0})],e.prototype,"graphic",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__["property"])()],e.prototype,"tracking",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__["property"])()],e.prototype,"displaying",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__["property"])()],e.prototype,"isDraped",void 0),e=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_6__["subclass"])("esri.views.3d.layers.graphics.GraphicState")],e);


/***/ }),

/***/ "qEsh":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/PreserveAspectRatio.js ***!
  \*************************************************************************************************************/
/*! exports provided: PreserveAspectRatio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreserveAspectRatio", function() { return s; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../analysisTools/slice/sliceToolUtils.js */ "DufC");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class s{constructor(){this.lastDragEvent=null,this.next=new _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_2__["EventPipeline"],this._enabled=!1}get enabled(){return this._enabled}set enabled(a){if(this._enabled!==a&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(this.lastDragEvent)){const t={...this.lastDragEvent,action:"update"};a&&this.adjustScaleFactors(t),this.next.execute(t)}this._enabled=a}createDragEventPipelineStep(){return this.lastDragEvent=null,t=>(this.lastDragEvent="end"!==t.action?{...t}:null,this._enabled&&this.adjustScaleFactors(t),t)}adjustScaleFactors(t){const e=Object(_analysisTools_slice_sliceToolUtils_js__WEBPACK_IMPORTED_MODULE_1__["isDiagonalResizeHandle"])(t.handle)?Math.max(Math.abs(t.factor1),Math.abs(t.factor2)):0===t.handle.direction[0]?Math.abs(t.factor2):Math.abs(t.factor1);t.factor1=t.factor1<0?-e:e,t.factor2=t.factor2<0?-e:e}get test(){return{adjustScaleFactors:t=>this.adjustScaleFactors(t)}}}


/***/ }),

/***/ "qZfn":
/*!*************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/Laserlines.glsl.js ***!
  \*************************************************************/
/*! exports provided: L, b, d */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "L", function() { return s; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return o; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return l; });
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/mathUtils.js */ "OKTS");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js */ "nndT");
/* harmony import */ var _views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js */ "Kq27");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "OIYi");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "aQrP");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
const l=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_0__["deg2rad"])(6);function o(e){const l=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_4__["ShaderBuilder"];return l.extensions.add("GL_OES_standard_derivatives"),l.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSpacePass_js__WEBPACK_IMPORTED_MODULE_2__["ScreenSpacePass"]),l.include(_views_3d_webgl_engine_core_shaderLibrary_Laserline_glsl_js__WEBPACK_IMPORTED_MODULE_1__["Laserline"],e),l.fragment.uniforms.add("angleCutoff","vec2"),l.fragment.uniforms.add("globalAlpha","float"),e.heightManifoldEnabled&&l.fragment.uniforms.add("heightPlane","vec4"),e.pointDistanceEnabled&&l.fragment.uniforms.add("pointDistanceSphere","vec4"),e.lineVerticalPlaneEnabled&&l.fragment.uniforms.add("lineVerticalPlane","vec4").add("lineVerticalStart","vec3").add("lineVerticalEnd","vec3"),(e.heightManifoldEnabled||e.pointDistanceEnabled||e.lineVerticalPlaneEnabled)&&l.fragment.uniforms.add("maxPixelDistance","float"),e.intersectsLineEnabled&&l.fragment.uniforms.add("intersectsLineStart","vec3").add("intersectsLineEnd","vec3").add("intersectsLineDirection","vec3").add("intersectsLineRadius","float").add("perScreenPixelRatio","float"),(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)&&l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`float planeDistancePixels(vec4 plane, vec3 pos) {
float dist = dot(plane.xyz, pos) + plane.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`),e.pointDistanceEnabled&&l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`float sphereDistancePixels(vec4 sphere, vec3 pos) {
float dist = distance(sphere.xyz, pos) - sphere.w;
float width = fwidth(dist);
dist /= min(width, maxPixelDistance);
return abs(dist);
}`),e.intersectsLineEnabled&&l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {
float dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);
return abs(dist) - radius;
}`),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {
vec3 dir = end - start;
float t2 = dot(dir, pos - start);
float l2 = dot(dir, dir);
return t2 >= 0.0 && t2 <= l2;
}`),l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`void main() {
vec3 pos;
vec3 normal;
float depthDiscontinuityAlpha;
if (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {
discard;
}
vec4 color = vec4(0, 0, 0, 0);`),e.heightManifoldEnabled&&l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`{
float heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));
vec4 heightManifoldColor = laserlineProfile(planeDistancePixels(heightPlane, pos));
color = max(color, heightManifoldColor * heightManifoldAlpha);
}`),e.pointDistanceEnabled&&l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`{
float pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);
vec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);
float pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));
color = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);
}`),e.lineVerticalPlaneEnabled&&l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`{
if (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {
float lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);
vec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);
float lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));
color = max(color, lineVerticalColor * lineVerticalAlpha);
}
}`),e.intersectsLineEnabled&&l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`{
if (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {
float intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);
vec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);
float intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));
color = max(color, intersectsLineColor * intersectsLineAlpha);
}
}`),l.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_3__["glsl"]`gl_FragColor = laserlineOutput(color * depthDiscontinuityAlpha);
}`),l}const s=Object.freeze({__proto__:null,defaultAngleCutoff:l,build:o});


/***/ }),

/***/ "rL7w":
/*!****************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYGraphicManipulation.js ***!
  \****************************************************************************************************************/
/*! exports provided: MoveXYGraphicManipulation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveXYGraphicManipulation", function() { return h; });
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dragEventPipeline3D.js */ "tKWm");
/* harmony import */ var _Manipulation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Manipulation.js */ "GXUb");
/* harmony import */ var _moveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./moveUtils.js */ "22x+");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/* harmony import */ var _interactive_GraphicManipulator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../interactive/GraphicManipulator.js */ "PN7H");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class h extends _Manipulation_js__WEBPACK_IMPORTED_MODULE_3__["Manipulation"]{constructor(i){super(),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._view=i.view,this._tool=i.tool,this._graphicState=i.graphicState,this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null,this._graphicState=null}forEachManipulator(t){t(this._manipulator,1)}createGraphicDragPipeline(t){return Object(_moveUtils_js__WEBPACK_IMPORTED_MODULE_4__["createGraphicMoveDragPipeline"])(this._graphicState,t,(t=>this.createDragPipeline(t)),this._view.state.viewingMode)}createDragPipeline(t){const r=this._view,a=this._graphicState.graphic,l=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__["isSome"])(a.geometry)?a.geometry.spatialReference:null;return Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_5__["createManipulatorDragEventPipeline"])(this._manipulator,((i,o,h,p,c)=>{const m=o.next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_2__["screenToMapXYForGraphic"])(c,r,a,l)).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_5__["addMapDelta"])()).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_5__["addScreenDelta"])());t(i,m,h,p,c)}))}_createManipulator(){const t=this._view,i=this._graphicState.graphic;this._manipulator=new _interactive_GraphicManipulator_js__WEBPACK_IMPORTED_MODULE_6__["GraphicManipulator"]({graphic:i,view:t,selectable:!0,cursor:"move"})}}


/***/ }),

/***/ "rZaU":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js ***!
  \************************************************************************************/
/*! exports provided: ImageMaterial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageMaterial", function() { return h; });
/* harmony import */ var _lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/GLMaterials.js */ "sGEu");
/* harmony import */ var _lib_GLMaterialTexture_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/GLMaterialTexture.js */ "aK8v");
/* harmony import */ var _lib_Material_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/Material.js */ "NbNv");
/* harmony import */ var _lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/OrderIndependentTransparency.js */ "dDjh");
/* harmony import */ var _internal_DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./internal/DefaultBufferWriter.js */ "hnWO");
/* harmony import */ var _internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./internal/MaterialUtil.js */ "fFEv");
/* harmony import */ var _shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../shaders/ImageMaterialTechnique.js */ "7pFG");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class h extends _lib_Material_js__WEBPACK_IMPORTED_MODULE_2__["Material"]{constructor(e){super(e,o),this.supportsEdges=!0,this.techniqueConfig=new _shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_6__["ImageMaterialTechniqueConfiguration"]}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.sceneHasOcludees=this.parameters.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.enableOffset=t.camera.relativeElevation<_lib_OrderIndependentTransparency_js__WEBPACK_IMPORTED_MODULE_3__["OITPolygonOffsetLimit"],this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,this.techniqueConfig}intersect(e,t,r,a,s,i,n){Object(_internal_MaterialUtil_js__WEBPACK_IMPORTED_MODULE_5__["intersectTriangleGeometry"])(e,t,a,s,i,void 0,n)}requiresSlot(t,r){if(20===t)return!0;if(4===Object(_lib_GLMaterials_js__WEBPACK_IMPORTED_MODULE_0__["outputFromPass"])(r))return 2===t;return t===(this.parameters.transparent?this.parameters.writeDepth?4:7:2)}createGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new p(e):void 0}createBufferWriter(){return new _internal_DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_4__["DefaultBufferWriter"](_internal_DefaultBufferWriter_js__WEBPACK_IMPORTED_MODULE_4__["PositionUVLayout"])}}class p extends _lib_GLMaterialTexture_js__WEBPACK_IMPORTED_MODULE_1__["default"]{constructor(e){super({...e,...e.material.parameters})}updateParameters(e){const t=this._material.parameters;return this.updateTexture(t.textureId),this.ensureTechnique(_shaders_ImageMaterialTechnique_js__WEBPACK_IMPORTED_MODULE_6__["ImageMaterialTechnique"],e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.sceneHasOcludees&&(this._material.setParameters({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}beginSlot(e){return 0!==this._output&&7!==this._output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e,t){this.bindTextures(t.program),this.bindTextureScale(t.program),t.bindPass(this._material.parameters,e)}}const o={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,..._lib_Material_js__WEBPACK_IMPORTED_MODULE_2__["materialParametersDefaults"]};


/***/ }),

/***/ "rexj":
/*!********************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/reshapeGraphic/ReshapeOperation.js ***!
  \********************************************************************************************************/
/*! exports provided: ReshapeOperation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReshapeOperation", function() { return ne; });
/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ "pO5D");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/HandleOwner.js */ "kJYu");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/watchUtils.js */ "N5XI");
/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/property.js */ "WbKI");
/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ "tQ+6");
/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ "zqDF");
/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ "04ZG");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../../geometry/Polyline.js */ "UhwK");
/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../layers/graphics/dehydratedFeatures.js */ "GlSV");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../../symbols/support/utils.js */ "rI4C");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../manipulatorUtils.js */ "dK/y");
/* harmony import */ var _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../SnappingVisualizer3D.js */ "/rov");
/* harmony import */ var _dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../dragEventPipeline3D.js */ "tKWm");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../manipulatorUtils.js */ "H4cX");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../settings.js */ "2WkI");
/* harmony import */ var _visualElementUtils_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../visualElementUtils.js */ "gwGW");
/* harmony import */ var _manipulations_config_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../manipulations/config.js */ "UcZh");
/* harmony import */ var _manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../manipulations/MoveManipulation.js */ "ss8a");
/* harmony import */ var _manipulations_moveUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../manipulations/moveUtils.js */ "22x+");
/* harmony import */ var _manipulations_MoveXYGraphicManipulation_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../manipulations/MoveXYGraphicManipulation.js */ "rL7w");
/* harmony import */ var _edgeOffsetUtils_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./edgeOffsetUtils.js */ "6pmL");
/* harmony import */ var _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../visualElements/OutlineVisualElement.js */ "RPp6");
/* harmony import */ var _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../layers/graphics/GraphicState.js */ "p9ZE");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/* harmony import */ var _interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../interactive/editGeometry/EditGeometryOperations.js */ "LI85");
/* harmony import */ var _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../interactive/snapping/SnappingContext.js */ "Hxwb");
/* harmony import */ var _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../interactive/snapping/SnappingDragPipelineStep.js */ "ihms");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
let ne=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__["default"].EventedMixin(_core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_3__["HandleOwner"])){constructor(e){super(e),this._vertexManipulatorMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex.color),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorOutlineMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorOutlineMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex.outlineColor),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex.renderOccluded),this._vertexManipulatorHoverOutlineMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorOutlineMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex.hoverOutlineColor),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex.renderOccluded),this._edgeManipulatorMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edge.color),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edge.renderOccluded),this._edgeManipulatorOutlineMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorOutlineMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edge.outlineColor),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edge.renderOccluded),this._edgeOffsetManipulatorMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edgeOffset.color),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edgeOffset.renderOccluded,!1),this._edgeOffsetManipulatorHoverMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edgeOffset.hoverColor),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edgeOffset.renderOccluded,!1),this._selectedManipulatorMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.selected.color),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.selected.renderOccluded),this._selectedManipulatorOutlineMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorOutlineMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.selected.outlineColor),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.selected.renderOccluded),this._selectedManipulatorHoverOutlineMaterial=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["createManipulatorOutlineMaterial"])(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.selected.hoverOutlineColor),_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.selected.renderOccluded),this._selectedIndex=0,this._vertexManipulatorGeometry=null,this._vertexManipulatorOutlineGeometry=null,this._edgeManipulatorGeometry=null,this._edgeManipulatorOutlineGeometry=null,this._edgeOffsetManipulatorGeometryInside=null,this._edgeOffsetManipulatorGeometryOutside=null,this._manipulatorHandles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_4__["default"],this._manipulatorInfos=[],this._editGeometryOperations=null,this._graphicMoveManipulation=null,this._moveManipulation=null,this._numGrabbing=0,this._numDragging=0,this._reshapeEventState=0,this._outlineVisualElement=null,this.tool=null,this.outputGeometry=null,this._snappingPipeline=new _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_37__["SnappingPipeline"],this._snappingPipelineHandle=new _interactive_snapping_SnappingDragPipelineStep_js__WEBPACK_IMPORTED_MODULE_37__["SnappingPipeline"],this._vertexLaserLineVisualElement=null}initialize(){const e=new _layers_graphics_GraphicState_js__WEBPACK_IMPORTED_MODULE_32__["GraphicState"]({graphic:this.graphic});this._graphicState=e,this.handles.add([e.watch("displaying",(e=>{for(const t of this._manipulatorInfos)t.manipulator.available=e})),this.view.trackGraphicState(e)])}destroy(){this._editGeometryOperations=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["destroyMaybe"])(this._editGeometryOperations),this._moveManipulation=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["destroyMaybe"])(this._moveManipulation),this._graphicMoveManipulation=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["destroyMaybe"])(this._graphicMoveManipulation),this._manipulatorHandles=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["destroyMaybe"])(this._manipulatorHandles),this.manipulators.removeAll(),this._manipulatorInfos=[],this._resetGrabbingDragging()}get inputGeometry(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null}set inputGeometry(e){this._recreateEditGeometryAndManipulators(e)}get updating(){return this.updatingHandles.updating}get manipulators(){return this.tool.manipulators}get view(){return this.tool.view}get graphic(){return this.tool.graphic}get enableZShape(){return this.tool.enableZShape}get enableZVertex(){return this.tool.enableZVertex}get enableMoveGraphic(){return this.tool.enableMoveGraphic}get enableMidpoints(){return this.tool.enableMidpoints}get enableEdgeOffset(){return this.tool.enableEdgeOffset}removeSelectedVertices(){const e=this._manipulatorInfos.filter((e=>e.manipulator.selected&&"vertex"===e.handle.type));this._removeVertices(e)}manipulatorSelectionChanged(){this.emit("manipulators-changed")}_removeManipulators(){this._moveManipulation=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["destroyMaybe"])(this._moveManipulation),this._graphicMoveManipulation=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["destroyMaybe"])(this._graphicMoveManipulation),this._manipulatorHandles.removeAll(),this.manipulators.removeAll(),this._manipulatorInfos=[]}_resetGrabbingDragging(){this._numGrabbing=0,this._numDragging=0}_createManipulators(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._editGeometryOperations))return;const e=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__["getGraphicEffectiveElevationInfo"])(this.graphic);for(const t of this._editGeometryOperations.data.components){for(const i of t.vertices)this._createVertexOrEdgeManipulator(i,e);for(const i of t.edges)this._createVertexOrEdgeManipulator(i,e)}this._createGraphicMoveManipulators(e)}get canRedo(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._editGeometryOperations)&&this._editGeometryOperations.canRedo}get canUndo(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._editGeometryOperations)&&this._editGeometryOperations.canUndo}redo(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._editGeometryOperations))return null;const e=this._editGeometryOperations.redo();return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(e)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),e}undo(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._editGeometryOperations))return null;this.emit("undo");const e=this._editGeometryOperations.undo();return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(e)&&(this.outputGeometry=this._editGeometryOperations.data.geometry,this._recreateManipulators()),e}_recreateManipulators(){this._removeManipulators(),this._resetGrabbingDragging(),this._createManipulators()}_recreateEditGeometryAndManipulators(e=this.inputGeometry){this._removeManipulators(),this._resetGrabbingDragging(),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(e)||(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["destroyMaybe"])(this._editGeometryOperations),this._editGeometryOperations=_interactive_editGeometry_EditGeometryOperations_js__WEBPACK_IMPORTED_MODULE_35__["EditGeometryOperations"].fromGeometry(e,this.view.state.viewingMode),this._createManipulators())}_perGraphicManipulatorDragAction(e,t){if("end"===t.action)return;let i=0;const a=[],n=this._manipulatorInfos.some((e=>"vertex"===e.handle.type&&e.manipulator.selected)),r=1===e&&n;for(const o of this._manipulatorInfos)oe(o)&&(o.manipulator.grabbing||r&&!o.manipulator.selected||a.push(o),i++);if(0===a.length)return;this._moveVertices(a,t);if(a.length===i){if(this._updateEventState(1),this.destroyed)return;this.emit("move",{type:"move",dx:t.screenDeltaX,dy:t.screenDeltaY,mover:this.graphic})}else{if(this._updateEventState(2),this.destroyed)return;this.emit("reshape",{type:"reshape",mover:this.graphic})}}_isMultiVertexSelection(){let e=0;for(const t of this._manipulatorInfos)oe(t)&&t.manipulator.selected&&e++;return e>1}_perVertexManipulatorDragAction(e){if(this._updateEventState(2),this.destroyed)return;const{mapDeltaX:t,mapDeltaY:i,mapDeltaZ:a}=e;if(!t&&!i&&!a)return;const n=[];for(const r of this._manipulatorInfos)oe(r)&&(r.manipulator.selected&&!r.manipulator.grabbing||r===e.info)&&n.push(r);this._moveVertices(n,e,1),this.emit("reshape",{type:"reshape",mover:this.graphic})}_updateEventState(e){if(e===this._reshapeEventState)return!1;switch(e){case 0:if(0!==this._numGrabbing||0!==this._numDragging)return!1;switch(this._reshapeEventState){case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic})}break;case 1:switch(this._reshapeEventState){case 0:this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape-stop",mover:this.graphic}),this.destroyed||this.emit("move",{type:"move-start",dx:0,dy:0,mover:this.graphic})}break;case 2:switch(this._reshapeEventState){case 0:this.emit("reshape",{type:"reshape-start",mover:this.graphic});break;case 1:this.emit("move",{type:"move-stop",dx:0,dy:0,mover:this.graphic}),this.destroyed||this.emit("reshape",{type:"reshape-start",mover:this.graphic})}}if(this.destroyed)return!1;const t=this._reshapeEventState!==e;return this._reshapeEventState=e,t}_createGraphicMoveManipulators(e){if(this._graphicMoveManipulation=new _manipulations_MoveXYGraphicManipulation_js__WEBPACK_IMPORTED_MODULE_29__["MoveXYGraphicManipulation"]({tool:this.tool,view:this.view,graphicState:this._graphicState}),this.enableMoveGraphic){let e=null;this._manipulatorHandles.add(this._graphicMoveManipulation.createDragPipeline(((t,i,a)=>{i.next((e=>this._trackNumDragging(e))).next((t=>("start"===t.action&&(e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations).createUndoGroup()),t))).next((t=>{this._perGraphicManipulatorDragAction(0,t),"end"===t.action&&(e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["removeMaybe"])(e))})),a.next(this._cancelDragOperation((()=>e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["removeMaybe"])(e))))})))}else this._graphicMoveManipulation.forEachManipulator((e=>{e.grabbable=!1,e.cursor=null}));this._graphicMoveManipulation.forEachManipulator((e=>this._manipulatorHandles.add([this._watchAndUpdateGrabState(e,!1),e.events.on("immediate-click",(e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit("immediate-click",{...e,graphic:this.graphic}),e.stopPropagation()}))]))),this._moveManipulation=new _manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_27__["MoveManipulation"]({tool:this.tool,view:this.view,xyAvailable:!0,xyAxisAvailable:!0,zAvailable:this.enableZShape&&Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_23__["canMoveZ"])(this.graphic),snapToScene:!1,radius:_manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_27__["MoveManipulation"].radiusForSymbol(this.graphic.symbol)}),this._moveManipulation.forEachManipulator((e=>{this.handles.add([this._watchAndUpdateGrabState(e,!1),e.events.on("immediate-click",(t=>{this._moveManipulation.zManipulation.hasManipulator(e)||this._manipulatorInfos.some((e=>e.manipulator.selected))||this.emit("immediate-click",{...t,graphic:this.graphic}),t.stopPropagation()}))])})),this._moveManipulation.elevationInfo={mode:"absolute-height",offset:0};const t=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this.graphic.geometry).spatialReference;this.handles.add([this._moveManipulation.createDragPipeline(((t,i,a,n,r)=>{const o=a.next((e=>this._trackNumDragging(e))).next((e=>{const t=this._manipulatorInfos.filter((e=>oe(e)&&e.manipulator.selected));return 1===e.manipulatorType&&1===t.length?{...e,info:t[0],snapOrigin:t[0].handle.pos}:{...e,info:null}})).next(this._snappingPipelineHandle.createSnapDragEventPipelineStep({predicate:e=>!!e.info,cancel:n,snappingManager:this.tool.snappingManager,snappingContext:new _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_36__["SnappingContext"]({editGeometryOperations:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations),elevationInfo:e,pointer:r,excludeFeature:this.graphic,visualizer:new _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_21__["SnappingVisualizer3D"]}),updatingHandles:this.updatingHandles}),this._snappingPipelineHandle.next).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["addMapDelta"])()).next((e=>(this._perGraphicManipulatorDragAction(1,e),e)));return n.next(this._cancelDragOperation()),o}),e,t,this.graphic),Object(_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_7__["init"])(this._graphicState,"displaying",(()=>{this._updateMoveManipulationPosition()})),this._graphicState.on("changed",(()=>this._updateMoveManipulationPosition())),Object(_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_7__["init"])(this._graphicState,"isDraped",(()=>{const e="align-move-manipulation";this._graphicState.isDraped?this.handles.add(this.view.elevationProvider.on("elevation-change",(()=>this._updateMoveManipulationPosition())),e):this.handles.remove(e)}))]),this._updateMoveManipulationPosition();const i=Object(_visualElementUtils_js__WEBPACK_IMPORTED_MODULE_25__["createVisualElements"])({view:this.view,graphic:this.graphic,forEachManipulator:e=>{if(!this.destroyed){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._graphicMoveManipulation)&&this._graphicMoveManipulation.forEachManipulator(e);for(const t of this._manipulatorInfos)e(t.manipulator,1);this._moveManipulation.forEachManipulator(e)}},onManipulatorsChanged:e=>this.on("manipulators-changed",e)});Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(i)&&(this._outlineVisualElement=i.visualElement instanceof _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_31__["OutlineVisualElement"]?i.visualElement:null),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._outlineVisualElement)&&this._manipulatorHandles.add([this._outlineVisualElement.events.on("attachment-origin-changed",(()=>{this._graphicState.isDraped||this._updateMoveManipulationPosition()})),this._graphicState.watch("isDraped",(()=>this._updateMoveManipulationPosition()))]),this._manipulatorHandles.add(i)}_createEdgeOffsetManipulator(e,t=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__["getGraphicEffectiveElevationInfo"])(this.graphic)){const i=_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edgeOffset,a=i.size/2,r=a+i.collisionPadding;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._edgeOffsetManipulatorGeometryInside)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._edgeOffsetManipulatorGeometryOutside)){const e=a/r,t=e*Math.sqrt(3)/2;this._edgeOffsetManipulatorGeometryInside=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_33__["default"].createExtrudedTriangle(t,e/2,e/2,i.height,i.offset),this._edgeOffsetManipulatorGeometryOutside=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_33__["default"].createExtrudedTriangle(-t,e/2,e/2,i.height,-i.offset)}const o=[{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorMaterial,stateMask:1},{geometry:this._edgeOffsetManipulatorGeometryInside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:2},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorMaterial,stateMask:1},{geometry:this._edgeOffsetManipulatorGeometryOutside,material:this._edgeOffsetManipulatorHoverMaterial,stateMask:2}],p=new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_19__["Manipulator3D"]({view:this.view,renderObjects:o,elevationInfo:"on-the-ground"!==t.mode||Object(_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_18__["isVolumetricSymbol"])(this.graphic.symbol)?{mode:"absolute-height",offset:0}:t,worldOriented:!1,focusMultiplier:1,radius:r,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionType:{type:"disc",direction:Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__["f"])(0,0,1)},collisionPriority:1}),h=new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_19__["Manipulator3D"]({view:this.view,renderObjects:[],worldSized:!0,worldOriented:!1,available:!(!this.graphic.visible||!this.graphic.layer.visible),collisionPriority:-10,cursor:this.enableMoveGraphic?"move":"default"}),d={manipulator:p,handle:e,locationUpdateHandle:null,type:"edge",selectedIndex:0,edgeManipulator:h,elevationInfo:t,visibilityHandle:null};this._autoHideEdgeOffsetManipulator(d,i.minSquaredEdgeLength),this._updateEdgeOffsetManipulator(d);const u=this._getManipulatorInfoFromHandle(d.handle.leftVertex).manipulator.events.on("location-update",(()=>this._updateEdgeOffsetManipulator(d))),c=this._getManipulatorInfoFromHandle(d.handle.rightVertex).manipulator.events.on("location-update",(()=>this._updateEdgeOffsetManipulator(d)));d.locationUpdateHandle=Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__["handlesGroup"])([u,c]),this._manipulatorHandles.add(d.locationUpdateHandle,p),this._manipulatorHandles.add([this._watchAndUpdateGrabState(p,!0),this._watchAndUpdateGrabState(h,!0)],p),this._manipulatorHandles.add(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["createManipulatorDragEventPipeline"])(p,this._createEdgeOffsetPipeline(d,t)),p),this._manipulatorHandles.add(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["createManipulatorDragEventPipeline"])(h,((e,i,a,n)=>{if("touch"===n){this._createEdgeOffsetPipeline(d,t)(e,i,a)}else if(this.enableMoveGraphic){const n=this.graphic,r=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(n.geometry)?n.geometry.spatialReference:null;i.next((e=>this._trackNumDragging(e))).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["dragAtLocation"])(this.view,e.elevationAlignedLocation)).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_22__["screenToMapXYAtLocation"])(this.view,e.elevationAlignedLocation,t,r,n)).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["addScreenDelta"])()).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["addMapDelta"])()).next((e=>this._perGraphicManipulatorDragAction(0,e))),a.next(this._cancelDragOperation())}})),p);const m=e=>{this._manipulatorInfos.some((e=>e.manipulator.selected))?this._clearSelection():this.emit("immediate-click",{...e,graphic:this.graphic}),e.stopPropagation()};return this._manipulatorHandles.add([p.events.on("immediate-click",m),h.events.on("immediate-click",m)],p),this._manipulatorInfos.push(d),this.manipulators.add(p),this.manipulators.add(h),this.emit("manipulators-changed"),d}_autoHideEdgeOffsetManipulator(e,t){const i=e.manipulator,a=e.edgeManipulator,r=()=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["removeMaybe"])(e.visibilityHandle);const r=Object(_edgeOffsetUtils_js__WEBPACK_IMPORTED_MODULE_30__["screenEdgeLengthSquared"])(this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator.renderLocation,this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator.renderLocation,this.view.state.camera)<t;(!i.focused&&!a.focused||r)&&(i.grabbable=!r,a.grabbable=!r,e.visibilityHandle=Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__["handlesGroup"])([i.disableDisplay(),{remove:()=>{i.grabbable=!0,a.grabbable=this.enableMoveGraphic}}]))};this._manipulatorHandles.add([i.events.on("focus-changed",r),a.events.on("focus-changed",r),{remove:()=>{Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["removeMaybe"])(e.visibilityHandle),this.manipulators.remove(a)}}],i),r()}_updateEdgeOffsetManipulator(e){this._updateManipulatorPosition(e);const t=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations).data.coordinateHelper,i=Object(_edgeOffsetUtils_js__WEBPACK_IMPORTED_MODULE_30__["createEdgeOffsetIntersectionPlane"])(this.view,e.manipulator.elevationAlignedLocation,Object(_edgeOffsetUtils_js__WEBPACK_IMPORTED_MODULE_30__["createEdgeOffsetOperation"])(t,e.handle,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(e.manipulator.elevationInfo))),a=this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator.renderLocation,n=this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator.renderLocation,r=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(i)?Object(_edgeOffsetUtils_js__WEBPACK_IMPORTED_MODULE_30__["edgeOffsetRotationMatrix"])(i,a,n):_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_12__["I"];e.manipulator.modelTransform=r,e.edgeManipulator.elevationAlignedLocation=e.manipulator.elevationAlignedLocation,e.edgeManipulator.modelTransform=r;const o=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__["l"])(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__["f"])(pe,a,n))/2;e.edgeManipulator.collisionType={type:"line",paths:[[[-o,0,0],[o,0,0]]]}}_createEdgeOffsetPipeline(e,t){return(i,a,n)=>{this._clearSelection();const{step:r,cleanup:o}=this._initializeEdgeOffset(e,t);a.next((e=>this._trackNumDragging(e))).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["dragAtLocation"])(this.view,i.elevationAlignedLocation)).next(r).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_22__["screenToRenderPlaneFromEvent"])(this.view)).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_22__["convertToMapCoordinates"])(this.view,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations).data.spatialReference)).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["addMapDelta"])()).next(this._applyEdgeOffsetStep(e)).next((e=>{"end"===e.action&&o()})),n.next((e=>(o(),e))).next(this._cancelDragOperation())}}_initializeEdgeOffset(e,t){const i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations),a=Object(_edgeOffsetUtils_js__WEBPACK_IMPORTED_MODULE_30__["createEdgeOffsetOperation"])(i.data.coordinateHelper,e.handle,t),o=i.createUndoGroup(),s=Object(_edgeOffsetUtils_js__WEBPACK_IMPORTED_MODULE_30__["createEdgeOffsetIntersectionPlane"])(this.view,e.manipulator.elevationAlignedLocation,a);a.requiresSplitEdgeLeft&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(e.handle.leftVertex.leftEdge),1),a.requiresSplitEdgeRight&&this._splitEdgeManipulator(this._getManipulatorInfoFromHandle(e.handle.rightVertex.rightEdge),0);const d=()=>new _geometry_Polyline_js__WEBPACK_IMPORTED_MODULE_15__["default"]({paths:[[e.handle.leftVertex.pos,e.handle.rightVertex.pos]],spatialReference:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations).data.spatialReference}),u=new _visualElements_OutlineVisualElement_js__WEBPACK_IMPORTED_MODULE_31__["OutlineVisualElement"]({view:this.view,isDraped:this._graphicState.isDraped,geometry:d(),elevationInfo:e.elevationInfo,width:_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].visualElements.lineGraphics.outline.width,color:_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].colorToVec4(_settings_js__WEBPACK_IMPORTED_MODULE_24__["colors"].main),attached:!0});let c;const m=()=>{this._cleanEdgeOffsetCollapsedEdges(e),c=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["removeMaybe"])(c)},g=this.on("undo",m);return c=Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__["handlesGroup"])([Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__["destroyHandle"])(u),this._graphicState.watch("isDraped",(e=>u.isDraped=e)),this._graphicState.on("changed",(()=>u.geometry=d())),o,g]),{step:e=>Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(a)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(s)?(m(),null):{...e,operation:a,plane:s},cleanup:m}}_applyEdgeOffsetStep(e){return t=>{if(this.destroyed||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(t.operation))return t;this._updateEventState(2);const{mapDeltaX:i,mapDeltaY:a,mapDeltaZ:n}=t;return(i||a||n)&&(this._offsetEdge(e,t),this.emit("reshape",{type:"reshape",mover:this.graphic})),t}}_cleanEdgeOffsetCollapsedEdges(e){var t,i;const a=null==(t=e.handle.leftVertex.leftEdge)?void 0:t.leftVertex,n=e.handle.leftVertex,r=null==(i=e.handle.rightVertex.rightEdge)?void 0:i.rightVertex,o=e.handle.rightVertex,s=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations).data.coordinateHelper,l=1e-6,h=[];a&&s.distance(a.pos,n.pos)<l&&h.push(this._getManipulatorInfoFromHandle(n)),(s.distance(n.pos,o.pos)<l||r&&s.distance(r.pos,o.pos)<l)&&h.push(this._getManipulatorInfoFromHandle(o)),h.length&&this._removeVertices(h)}_computeVertexManipulatorSizeAndOutline(e){const t=e.size/2,i=t+e.collisionPadding;return{size:t/i,outlineSize:(t+e.outlineSize)/i}}_createVertexOrEdgeManipulator(e,t=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__["getGraphicEffectiveElevationInfo"])(this.graphic)){if("edge"===e.type){if(this.enableEdgeOffset)return this._createEdgeOffsetManipulator(e,t);if(!this.enableMidpoints)return null}if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._vertexManipulatorGeometry)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._vertexManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex);this._vertexManipulatorGeometry=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_33__["default"].createSphereGeometry(e,16,16),this._vertexManipulatorOutlineGeometry=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_33__["default"].createSphereGeometry(t,16,16)}if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._edgeManipulatorGeometry)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(this._edgeManipulatorOutlineGeometry)){const{size:e,outlineSize:t}=this._computeVertexManipulatorSizeAndOutline(_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edge);this._edgeManipulatorGeometry=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_33__["default"].createSphereGeometry(e,16,16),this._edgeManipulatorOutlineGeometry=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_33__["default"].createSphereGeometry(t,16,16)}const i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this.graphic.geometry)&&"point"===this.graphic.geometry.type?[]:[{geometry:this._vertexManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:4|he.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorOutlineMaterial,stateMask:5|he.Vertex},{geometry:this._vertexManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|he.Vertex},{geometry:this._vertexManipulatorGeometry,material:this._selectedManipulatorMaterial,stateMask:8},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorOutlineMaterial,stateMask:9},{geometry:this._vertexManipulatorOutlineGeometry,material:this._selectedManipulatorHoverOutlineMaterial,stateMask:10}];this.enableMidpoints&&i.push({geometry:this._edgeManipulatorGeometry,material:this._vertexManipulatorMaterial,stateMask:6|he.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._vertexManipulatorHoverOutlineMaterial,stateMask:6|he.Edge},{geometry:this._edgeManipulatorGeometry,material:this._edgeManipulatorMaterial,stateMask:5|he.Edge},{geometry:this._edgeManipulatorOutlineGeometry,material:this._edgeManipulatorOutlineMaterial,stateMask:5|he.Edge});const a=new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_19__["Manipulator3D"]({view:this.view,renderObjects:i,elevationInfo:t,focusMultiplier:1,touchMultiplier:1,available:!(!this.graphic.visible||!this.graphic.layer.visible)});this._setTypeSpecificManipulatorSettings(a,e,t);const r="edge"===e.type?{manipulator:a,handle:e,locationUpdateHandle:null,type:"edge",selectedIndex:0}:{manipulator:a,handle:e,type:"vertex",selectedIndex:0};if(this._manipulatorInfos.push(r),this.manipulators.add(a),this._updateManipulatorPosition(r),"edge"===r.type){const e=this._getManipulatorInfoFromHandle(r.handle.leftVertex).manipulator.events.on("location-update",(()=>this._updateManipulatorPosition(r))),t=this._getManipulatorInfoFromHandle(r.handle.rightVertex).manipulator.events.on("location-update",(()=>this._updateManipulatorPosition(r)));r.locationUpdateHandle=Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_5__["handlesGroup"])([e,t]),this._manipulatorHandles.add(r.locationUpdateHandle,a)}this._manipulatorHandles.add(this._watchAndUpdateGrabState(a,!0),a);const o=Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["createManipulatorDragEventPipeline"])(a,((e,i,a,n)=>{let o=null;i.next((e=>this._trackNumDragging(e))).next((e=>{if("start"===e.action&&(o=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations).createUndoGroup()),se(r)){const t=this._splitEdgeManipulator(r);return{...e,info:t,snapOrigin:t.handle.pos}}return{...e,info:r,snapOrigin:r.handle.pos}})).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["dragAtLocation"])(this.view,e.elevationAlignedLocation)).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_22__["screenToMapXYForGraphicAtLocation"])(this.view,this.graphic,e.elevationAlignedLocation,e.location.spatialReference,this.graphic)).next(this._snappingPipeline.createSnapDragEventPipelineStep({predicate:()=>!this._isMultiVertexSelection(),cancel:a,snappingManager:this.tool.snappingManager,snappingContext:new _interactive_snapping_SnappingContext_js__WEBPACK_IMPORTED_MODULE_36__["SnappingContext"]({editGeometryOperations:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations),elevationInfo:t,pointer:n,excludeFeature:this.graphic,visualizer:new _SnappingVisualizer3D_js__WEBPACK_IMPORTED_MODULE_21__["SnappingVisualizer3D"]}),updatingHandles:this.updatingHandles}),this._snappingPipeline.next).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_34__["addMapDelta"])()).next((e=>{this._perVertexManipulatorDragAction(e),"end"===e.action&&(o=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["removeMaybe"])(o))})),a.next(this._cancelDragOperation((()=>o=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["removeMaybe"])(o))))}));return this._manipulatorHandles.add(o,a),this._manipulatorHandles.add([a.events.on("immediate-click",(e=>this._manipulatorClickCallback(e,r))),a.events.on("select-changed",(()=>{r.selectedIndex=++this._selectedIndex,this._updateMoveManipulationPosition()}))],a),this.emit("manipulators-changed"),r}_trackNumDragging(e){switch(e.action){case"start":this._numDragging++;break;case"end":this._numDragging--}return e}_cancelDragOperation(e){return()=>{switch(this._numDragging--,this.undo(),this.outputGeometry=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._editGeometryOperations)?this._editGeometryOperations.data.geometry:null,Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this.tool.snappingManager)&&this.tool.snappingManager.doneSnapping(),this._reshapeEventState){case 0:break;case 1:this.emit("move",{type:"move",dx:0,dy:0,mover:this.graphic});break;case 2:this.emit("reshape",{type:"reshape",mover:this.graphic})}e&&e(),this.destroyed||this._updateEventState(0)}}_setTypeSpecificManipulatorSettings(e,t,i){switch(t.type){case"vertex":e.state=he.Vertex,e.selectable=!0,e.cursor="move",e.collisionPriority=2,e.radius=_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex.size/2+_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.vertex.collisionPadding,e.elevationInfo=i,e.interactive=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this.graphic.geometry)&&"point"!==this.graphic.geometry.type;break;case"edge":e.state=he.Edge,e.selectable=!1,e.cursor="copy",e.collisionPriority=-1,e.radius=_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edge.size/2+_settings_js__WEBPACK_IMPORTED_MODULE_24__["settings"].reshapeManipulators.edge.collisionPadding,e.elevationInfo="on-the-ground"!==i.mode||Object(_symbols_support_utils_js__WEBPACK_IMPORTED_MODULE_18__["isVolumetricSymbol"])(this.graphic.symbol)?{mode:"absolute-height",offset:0}:i}}_watchAndUpdateGrabState(e,t){return e.events.on("grab-changed",(i=>{if("start"===i.action)t&&this._updateSelection(e),this._numGrabbing++;else if(this._numGrabbing--,this._updateEventState(0),this.destroyed)return;this._moveManipulation.interactive=!this._numGrabbing,("touch"!==i.pointerType||this.enableEdgeOffset)&&(this._manipulatorInfos.forEach((e=>{e.manipulator.interactive=!this._numGrabbing&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this.graphic.geometry)&&"point"!==this.graphic.geometry.type,"edgeManipulator"in e&&(e.edgeManipulator.interactive=!this._numGrabbing)})),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._graphicMoveManipulation).forEachManipulator((e=>e.interactive=!this._numGrabbing)))}))}_clearSelection(){for(const e of this._manipulatorInfos)e.manipulator.grabbing||(e.manipulator.selected=!1)}_updateSelection(e){e.grabbing&&!e.selected&&e.selectable&&(this._clearSelection(),e.selected=!0,this.emit("manipulators-changed"))}_removeManipulator(e){e&&(this._manipulatorHandles.remove(e.manipulator),this._manipulatorInfos.splice(this._manipulatorInfos.indexOf(e),1),this.manipulators.remove(e.manipulator),this.emit("manipulators-changed"))}_getManipulatorInfoFromHandle(e){if(e)for(const t of this._manipulatorInfos)if(e===t.handle)return t;return null}_updateManipulatorPosition(e){if(!e)return;const t=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations);if("vertex"===e.handle.type)e.manipulator.location=t.data.coordinateHelper.vectorToDehydratedPoint(e.handle.pos,le),e.manipulator.grabbing&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._vertexLaserLineVisualElement)&&(this._vertexLaserLineVisualElement.visualElement.intersectsWorldUpAtLocation=e.manipulator.renderLocation);else if("edge"===e.handle.type){const i=this._getManipulatorInfoFromHandle(e.handle.leftVertex).manipulator,a=this._getManipulatorInfoFromHandle(e.handle.rightVertex).manipulator;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(e.manipulator.elevationInfo)&&"on-the-ground"===e.manipulator.elevationInfo.mode){const n=i.location,r=a.location,o=.5,s=n.x+o*(r.x-n.x),l=n.y+o*(r.y-n.y),p=n.hasZ&&r.hasZ?0:void 0;e.manipulator.location=Object(_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__["makeDehydratedPoint"])(s,l,p,t.data.spatialReference)}else Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__["e"])(pe,i.renderLocation,a.renderLocation,.5),e.manipulator.renderLocation=pe}}_splitEdgeManipulator(e,t=.5){const i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations),a=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(i.splitEdge(e.handle,t).createdVertex);e.locationUpdateHandle.remove(),e.locationUpdateHandle=void 0;const n=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_17__["getGraphicEffectiveElevationInfo"])(this.graphic);let r;this.enableEdgeOffset?(this._removeManipulator(e),r=this._createVertexOrEdgeManipulator(a)):(r=e,r.handle=a,r.type="vertex",this._setTypeSpecificManipulatorSettings(e.manipulator,e.handle,n)),a.leftEdge&&this._createVertexOrEdgeManipulator(a.leftEdge),a.rightEdge&&this._createVertexOrEdgeManipulator(a.rightEdge),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(r),this._updateSelection(e.manipulator);const o=this._updateEventState(2),s=i.data.coordinateHelper.vectorToArray(r.handle.pos),l=i.data.components.indexOf(a.component);return this.emit("vertex-add",{type:"vertex-add",vertices:[{coordinates:s,componentIndex:l,vertexIndex:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(a.index)}],added:s}),o&&this._updateEventState(0),r}_updateMoveManipulationPosition(){const e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__["s"])(pe,0,0,0);let t=0,i=!1,a=null,n=null;for(const r of this._manipulatorInfos)oe(r)&&(r.manipulator.selected?(t++,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__["b"])(e,e,r.manipulator.renderLocation),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(a)||r.selectedIndex>a.selectedIndex?(n=a,a=r):(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(n)||r.selectedIndex>n.selectedIndex)&&(n=r)):i=!0);if(0!==t){const e=this._graphicState.displaying;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.zManipulation.available=e&&this.enableZVertex&&Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_23__["canMoveZ"])(this.graphic),this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e&&1!==t}else{const e=this._graphicState.displaying&&this.enableMoveGraphic;this._moveManipulation.xyManipulation.available=e,this._moveManipulation.xyAxisManipulation.available=e,this._moveManipulation.xyAxisManipulation.orthogonalAvailable=e,this._moveManipulation.zManipulation.available=e&&this.enableZShape&&Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_23__["canMoveZ"])(this.graphic)}if(0!==t){let e=0;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(a)){const t=a.handle.pos,i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(n)?n.handle.pos:a.handle.leftEdge&&a.handle.leftEdge.leftVertex?a.handle.leftEdge.leftVertex.pos:null,r=!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(n)&&a.handle.rightEdge&&a.handle.rightEdge.rightVertex?a.handle.rightEdge.rightVertex.pos:null;i&&r?this._moveManipulation.xyAxisManipulation.available=!1:i?e=re(i,t):r&&(e=re(t,r))}this._moveManipulation.angle=e,this._moveManipulation.radius=_manipulations_config_js__WEBPACK_IMPORTED_MODULE_26__["DISC_RADIUS_SMALL"]}else this._moveManipulation.angleDeferred=()=>Object(_manipulations_moveUtils_js__WEBPACK_IMPORTED_MODULE_28__["shapeOrientation"])(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this.graphic.geometry)),this._moveManipulation.radius=_manipulations_MoveManipulation_js__WEBPACK_IMPORTED_MODULE_27__["MoveManipulation"].radiusForSymbol(this.graphic.symbol);0!==t&&i?(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_13__["a"])(e,e,1/t),le.spatialReference=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations).data.spatialReference,le.hasZ=!0,this.view.renderCoordsHelper.fromRenderCoords(e,le),this._moveManipulation.elevationAlignedLocation=le):Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._outlineVisualElement)&&!this._graphicState.isDraped&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isSome"])(this._outlineVisualElement.attachmentOrigin)?this._moveManipulation.elevationAlignedLocation=this._outlineVisualElement.attachmentOrigin:Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_20__["placeAtGraphic"])(this.view,this._moveManipulation,this.graphic)}_removeVertices(e){const t=[],i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations);for(const a of e)if("vertex"===a.handle.type&&i.canRemoveVertex()){t.push(a.handle),this._removeManipulator(a),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.leftEdge)),this._removeManipulator(this._getManipulatorInfoFromHandle(a.handle.rightEdge));const e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(i.removeVertices([a.handle]).removedVertices[0].createdEdge);e&&this._createVertexOrEdgeManipulator(e)}if(t.length>0){const e=t.map((e=>{const t=i.data.components.indexOf(e.component);return{coordinates:i.data.coordinateHelper.vectorToArray(e.pos),componentIndex:t,vertexIndex:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(e.index)}}));this.outputGeometry=i.data.geometry;const a=this._updateEventState(2);if(this.destroyed)return;if(this.emit("vertex-remove",{type:"vertex-remove",removed:e.map((e=>e.coordinates)),vertices:e}),this.destroyed)return;if(a&&(this._updateEventState(0),this.destroyed))return;this._updateMoveManipulationPosition()}}_moveVertices(e,t,i=("start"===t.action?0:1)){const a=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations);a.moveVertices(e.map((e=>e.handle)),t.mapDeltaX,t.mapDeltaY,t.mapDeltaZ,i),this.outputGeometry=a.data.geometry;for(const n of e)this._updateManipulatorPosition(n)}_offsetEdge(e,t){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["isNone"])(t.operation))return;const i=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_6__["unwrap"])(this._editGeometryOperations),a=t.operation.clone();a.distance=t.operation.signedDistanceToPoint(t.mapEnd),i.updateVertices([e.handle.leftVertex,e.handle.rightVertex],a),this.outputGeometry=i.data.geometry,this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.leftVertex)),this._updateManipulatorPosition(this._getManipulatorInfoFromHandle(e.handle.rightVertex))}_manipulatorClickCallback(e,t){e.shiftKey||this._clearSelection(),"vertex"===t.handle.type&&(t.manipulator.selected=!t.manipulator.selected),"vertex"===t.handle.type&&2===e.button&&this._removeVertices([t]),se(t)&&0===e.button&&this._splitEdgeManipulator(t),e.stopPropagation()}};function re(e,t){return Math.atan2(t[1]-e[1],t[0]-e[0])+Math.PI/2}function oe(e){return"vertex"===e.handle.type}function se(e){return"edge"===e.handle.type}Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__["property"])({constructOnly:!0})],ne.prototype,"tool",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__["property"])()],ne.prototype,"inputGeometry",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__["property"])()],ne.prototype,"outputGeometry",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_8__["property"])({readOnly:!0})],ne.prototype,"updating",null),ne=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__["_"])([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_11__["subclass"])("esri.views.3d.interactive.editingTools.reshapeGraphic.ReshapeOperation")],ne);const le=Object(_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_16__["makeDehydratedPoint"])(0,0,null,null),pe=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_14__["c"])();var he;!function(e){e.Vertex=16,e.Edge=32}(he||(he={}));


/***/ }),

/***/ "sE2g":
/*!*********************************************************************!*\
  !*** ./node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js ***!
  \*********************************************************************/
/*! exports provided: S, b */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "S", function() { return a; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return r; });
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/interfaces.js */ "OIYi");
/* harmony import */ var _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js */ "aQrP");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function r(){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_1__["ShaderBuilder"];return r.extensions.add("GL_OES_standard_derivatives"),r.vertex.uniforms.add("proj","mat4").add("view","mat4"),r.attributes.add("position","vec3"),r.attributes.add("uv0","vec2"),r.varyings.add("vUV","vec2"),r.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__["glsl"]`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),r.fragment.uniforms.add("backgroundColor","vec4").add("gridColor","vec4").add("ratio","float").add("gridWidth","float"),r.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__["glsl"]`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
gl_FragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),r}const a=Object.freeze({__proto__:null,build:r});


/***/ }),

/***/ "ss8a":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveManipulation.js ***!
  \*******************************************************************************************************/
/*! exports provided: MoveManipulation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveManipulation", function() { return h; });
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/handleUtils.js */ "xkkJ");
/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/has.js */ "wSAH");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./config.js */ "UcZh");
/* harmony import */ var _Manipulation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Manipulation.js */ "GXUb");
/* harmony import */ var _MoveXYAxisManipulation_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MoveXYAxisManipulation.js */ "Qpoz");
/* harmony import */ var _MoveXYDiscManipulation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MoveXYDiscManipulation.js */ "vmcV");
/* harmony import */ var _MoveZManipulation_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MoveZManipulation.js */ "f+PC");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class h extends _Manipulation_js__WEBPACK_IMPORTED_MODULE_5__["Manipulation"]{constructor(a){super(),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_0__["default"],this._angleDeferred=null,this._interactive=!0;const{tool:t,view:e,snapToScene:n,radius:s}=a;this._view=e,this.xyManipulation=new _MoveXYDiscManipulation_js__WEBPACK_IMPORTED_MODULE_7__["MoveXYDiscManipulation"]({tool:t,view:e,snapToScene:n,radius:s}),this.xyAxisManipulation=new _MoveXYAxisManipulation_js__WEBPACK_IMPORTED_MODULE_6__["MoveXYAxisManipulation"]({tool:t,view:e,radius:s}),this.zManipulation=new _MoveZManipulation_js__WEBPACK_IMPORTED_MODULE_8__["MoveZManipulation"]({tool:t,view:e,radius:s}),this.xyManipulation.available=a.xyAvailable,this.xyAxisManipulation.available=a.xyAxisAvailable,this.zManipulation.available=a.zAvailable,this.autoHideXYAxis(),this.forEachManipulator((i=>{this._handles.add(i.events.on("grab-changed",(()=>this.updateManipulatorInteractivity())))}))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createGraphicDragPipeline(i,t,e){return Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__["handlesGroup"])([this.xyManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),t,e),this.xyAxisManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),t,e),this.zManipulation.createGraphicDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),t,e)])}createDragPipeline(i,t,e,n){return Object(_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_1__["handlesGroup"])([this.xyManipulation.createDragPipeline(((a,t,e,n,s)=>i(0,a,t,e,n,s)),t,e,n),this.xyAxisManipulation.createDragPipeline(((a,t,e,n,s)=>i(1,a,t,e,n,s)),t,e,n),this.zManipulation.createDragPipeline(((a,t,e,n,s)=>i(2,a,t,e,n,s)),e)])}set snapToScene(i){this.xyManipulation.snapToScene=i}set angle(i){this._angleDeferred=null,this.xyAxisManipulation.angle=i}set angleDeferred(i){this.xyAxisVisible?this.angle=i():this._angleDeferred=i}set interactive(i){this._interactive!==i&&(this._interactive=i,this.updateManipulatorInteractivity())}set radius(i){this.xyAxisManipulation.radius=i,this.xyManipulation.radius=i,this.zManipulation.radius=i}set displayScale(i){this.xyManipulation.displayScale=i,this.xyAxisManipulation.displayScale=i}forEachManipulator(i){this.xyManipulation.forEachManipulator((a=>i(a,1))),this.xyAxisManipulation.forEachManipulator((a=>i(a,1))),this.zManipulation.forEachManipulator((a=>i(a,0)))}get xyAxisVisible(){const i=this.xyManipulation.someManipulator((i=>i.focused))||this.xyAxisManipulation.someManipulator((i=>i.focused));return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||i}autoHideXYAxis(){const i=this.xyAxisManipulation,a=this.xyManipulation;if(Object(_core_has_js__WEBPACK_IMPORTED_MODULE_2__["default"])("esri-mobile"))return;const n=[];a.forEachManipulator((i=>n.push(i))),i.forEachManipulator((i=>n.push(i)));const s=()=>{const a=[];this.xyAxisVisible?Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._angleDeferred)&&(this.angle=this._angleDeferred()):i.forEachManipulator((i=>a.push(i.disableDisplay()))),this._handles.remove(u),this._handles.add(a,u)};for(const t of n)this._handles.add(t.events.on("focus-changed",s));this._view.inputManager&&this._handles.add(this._view.inputManager.watch("latestPointerType",s)),s()}updateManipulatorInteractivity(){const i=this.grabbing;this.forEachManipulator((a=>{a.interactive=!i&&this._interactive||a.grabbing}))}static radiusForSymbol(i){const a=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(i)&&"point-3d"===i.type&&i.symbolLayers;return!!a&&a.length>0&&a.some((i=>"icon"===i.type))?_config_js__WEBPACK_IMPORTED_MODULE_4__["DISC_RADIUS_SMALL"]:_config_js__WEBPACK_IMPORTED_MODULE_4__["DISC_RADIUS"]}}const u="disable-xy-axis-display";


/***/ }),

/***/ "tKWm":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js ***!
  \********************************************************************************************/
/*! exports provided: convertToMapCoordinates, hideManipulatorWhileDragging, projectToWorldUp, screenToMap3D, screenToMapXYAtLocation, screenToMapXYForGraphic, screenToMapXYForGraphicAtLocation, screenToRenderPlane, screenToRenderPlaneFromEvent, screenToZConstrained */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "convertToMapCoordinates", function() { return q; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hideManipulatorWhileDragging", function() { return G; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "projectToWorldUp", function() { return D; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screenToMap3D", function() { return O; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screenToMapXYAtLocation", function() { return M; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screenToMapXYForGraphic", function() { return F; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screenToMapXYForGraphicAtLocation", function() { return R; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screenToRenderPlane", function() { return P; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screenToRenderPlaneFromEvent", function() { return U; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "screenToZConstrained", function() { return A; });
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../geometry/projection.js */ "gYg2");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../geometry/support/plane.js */ "colF");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../geometry/support/ray.js */ "0Y+r");
/* harmony import */ var _geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../geometry/support/vector.js */ "obHo");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/geometryUtils/ray.js */ "mZDS");
/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ "klA5");
/* harmony import */ var _webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../webgl-engine/lib/verticalOffsetUtils.js */ "ib+T");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../interactive/dragEventPipeline.js */ "wg3g");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function P(e,r){return h(e,(()=>r))}function U(e){return h(e,(e=>e.plane))}function h(t,s){const c=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])(),l=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])();let a=!1;return i=>{const u=s(i);if("start"===i.action){const r=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["screenPointObjectToArray"])(i.screenStart,Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["castScreenPointArray"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv2d"].get())),s=Object(_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_10__["fromScreen"])(t.state.camera,r,J);Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(s)&&(a=Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__["intersectRay"])(u,s,c))}if(!a)return null;const p=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["screenPointObjectToArray"])(i.screenEnd,Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["castScreenPointArray"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_8__["sv2d"].get())),d=Object(_support_geometryUtils_ray_js__WEBPACK_IMPORTED_MODULE_10__["fromScreen"])(t.state.camera,p,J);return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(d)?null:Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__["intersectRay"])(u,d,l)?{...i,renderStart:c,renderEnd:l,plane:u,ray:d}:null}}function k(t,n,o,c=null,l=null){let a=null;return i=>{if("start"===i.action&&(a=t.sceneIntersectionHelper.intersectElevationFromScreen(Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["createScreenPointArray"])(i.screenStart.x,i.screenStart.y),n,o,l),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(a)&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(c)&&!Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__["projectPoint"])(a,a,c)))return null;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(a))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["createScreenPointArray"])(i.screenEnd.x,i.screenEnd.y),n,o,l);return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(u)?Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(c)&&!Object(_geometry_projection_js__WEBPACK_IMPORTED_MODULE_4__["projectPoint"])(u,u,c)?null:{...i,mapStart:a,mapEnd:u}:null}}function M(e,r,t,n=null,o=null){return k(e,t,Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__["getZForElevationMode"])(r,e,t),n,o)}function R(e,r,t,n=null,o=null){return M(e,t,Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_9__["getGraphicEffectiveElevationInfo"])(r),n,o)}function F(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(s)?R(t,n,s,o):null}function T(e,r){const t=z,n=B,o=Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__["create"])();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["c"])(o,t,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["f"])(n,r,e.state.camera.eye));return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["c"])(s,s,t),Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_5__["fromPositionAndNormal"])(r,s,o)}function A(e,r,t){let n=null;const o=new _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_13__["EventPipeline"];return o.next(P(e,T(e,r))).next(D(e,r)).next(q(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function D(e,r){const t=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])(),n=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["l"])(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])(),s=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])(),d=o=>{if(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["f"])(o,o,r),Object(_geometry_support_vector_js__WEBPACK_IMPORTED_MODULE_7__["projectPoint"])(t,o,o),"global"===e.viewingMode){Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["l"])(o)*Math.sign(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["d"])(t,o))<.001-n&&Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["f"])(o,Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["a"])(o,t,.001),r)}return Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["b"])(o,o,r),o};return e=>(e.renderStart=d(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["g"])(o,e.renderStart)),e.renderEnd=d(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_2__["g"])(s,e.renderEnd)),e)}function q(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(o)&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(s)?{...r,mapStart:o,mapEnd:s}:null}}function G(r){let t=null;return n=>{switch(n.action){case"start":t=r.disableDisplay();break;case"end":case"cancel":Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(t)&&(t.remove(),t=null)}return n}}function O(o,c=null){const l=Object(_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_11__["newIntersector"])(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=0,l.options.hud=!1;const a=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["createScreenPointArray"])(),i={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])(),p=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["unwrapOr"])(c,o.spatialReference),d=e=>{o.map.ground&&o.map.ground.opacity<1?i.exclude.add(_webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_12__["TERRAIN_ID"]):i.exclude.delete(_webgl_engine_lib_verticalOffsetUtils_js__WEBPACK_IMPORTED_MODULE_12__["TERRAIN_ID"]),o.sceneIntersectionHelper.intersectIntersectorScreen(Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_1__["screenPointObjectToArray"])(e,a),l,i);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=2===r.intersector?0:1;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=0}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if("start"===t.action){const r=d(t.screenStart);f=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(r)?r.location:null}if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isNone"])(f))return null;const n=d(t.screenEnd);return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(n)&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__["isSome"])(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}const z=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])(),B=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_3__["c"])(),J=Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_6__["create"])();


/***/ }),

/***/ "vmcV":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/manipulations/MoveXYDiscManipulation.js ***!
  \*************************************************************************************************************/
/*! exports provided: MoveXYDiscManipulation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveXYDiscManipulation", function() { return b; });
/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../Color.js */ "nvBr");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/* harmony import */ var _dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dragEventPipeline3D.js */ "tKWm");
/* harmony import */ var _settings_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../settings.js */ "2WkI");
/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./config.js */ "UcZh");
/* harmony import */ var _Manipulation_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Manipulation.js */ "GXUb");
/* harmony import */ var _moveUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./moveUtils.js */ "22x+");
/* harmony import */ var _snapping_SnapToScene_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../snapping/SnapToScene.js */ "O80d");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../webgl-engine/materials/ColorMaterial.js */ "024p");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
class b extends _Manipulation_js__WEBPACK_IMPORTED_MODULE_13__["Manipulation"]{constructor(t){super(),this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._snapToScene=new _snapping_SnapToScene_js__WEBPACK_IMPORTED_MODULE_15__["SnapToScene"],this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),this._scale=1,this._radius=_config_js__WEBPACK_IMPORTED_MODULE_12__["DISC_RADIUS"],this._view=t.view,this._tool=t.tool,null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles.destroy(),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,1)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}createGraphicDragPipeline(t,e,a){const r=e.graphic,s=Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_8__["getGraphicEffectiveElevationInfo"])(r),o=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__["unwrap"])(r.geometry).spatialReference;return Object(_moveUtils_js__WEBPACK_IMPORTED_MODULE_14__["createGraphicMoveDragPipeline"])(e,a,(e=>this.createDragPipeline(((i,a,r,s,o)=>e(i,t(i,a,r,s,o),r)),s,o,r)),this._view.state.viewingMode)}createDragPipeline(t,e,i,a){const r=this._view;return Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_18__["createManipulatorDragEventPipeline"])(this._manipulator,((s,o,n,l,p)=>{const c=o.next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_18__["dragAtLocation"])(r,s.elevationAlignedLocation)).next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_10__["screenToMapXYAtLocation"])(r,s.elevationAlignedLocation,e,i,a)).next(this._snapToScene.createDragEventPipelineStep(r,e),this._snapToScene.next).next((t=>({...t,manipulatorType:1}))).next(Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_18__["addScreenDelta"])());t(s,c,n,l,p)}))}_updateManipulatorTransform(){const t=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_3__["w"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__["sm4d"].get(),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_5__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_7__["sv3d"].get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_9__["Manipulator3D"]({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__["f"])(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_16__["default"].createCylinderGeometry(_config_js__WEBPACK_IMPORTED_MODULE_12__["DISC_HEIGHT"],1,_config_js__WEBPACK_IMPORTED_MODULE_12__["GEOMETRY_SEGMENTS"],Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__["f"])(0,0,1),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__["f"])(0,0,0)),e=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_3__["w"])(Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_4__["c"])(),Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_6__["f"])(this._radius,this._radius,this._radius));this._manipulator.renderObjects=[{geometry:t,material:this._discMaterial,transform:e,stateMask:2},{geometry:t,material:this._discMaterialTransparent,transform:e,stateMask:1}],this._manipulator.radius=_config_js__WEBPACK_IMPORTED_MODULE_12__["DISC_COLLISION_RADIUS"]*(this._radius/_config_js__WEBPACK_IMPORTED_MODULE_12__["DISC_RADIUS"])}_createMaterial(e=1){const i=_Color_js__WEBPACK_IMPORTED_MODULE_0__["default"].toUnitRGBA(_settings_js__WEBPACK_IMPORTED_MODULE_11__["colors"].main);return i[3]*=e,new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_17__["ColorMaterial"]({color:i,transparent:1!==e,cullFace:2,renderOccluded:2})}get test(){return{discManipulator:this._manipulator}}}


/***/ }),

/***/ "wNh0":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/interactive/editingTools/transformGraphic/GraphicScaleRotateTransform.js ***!
  \*********************************************************************************************************************/
/*! exports provided: GraphicScaleRotateTransform */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GraphicScaleRotateTransform", function() { return st; });
/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../core/Evented.js */ "zm0L");
/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/Handles.js */ "r0DZ");
/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/mathUtils.js */ "OKTS");
/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/maybe.js */ "srIe");
/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/scheduling.js */ "WBXD");
/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/screenUtils.js */ "qRWG");
/* harmony import */ var _core_watchUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/watchUtils.js */ "N5XI");
/* harmony import */ var _chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../chunks/mat4.js */ "15Hh");
/* harmony import */ var _chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../chunks/mat4f64.js */ "r+FG");
/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ "5DEt");
/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ "Cy1f");
/* harmony import */ var _geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/support/plane.js */ "colF");
/* harmony import */ var _geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../geometry/support/ray.js */ "0Y+r");
/* harmony import */ var _geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../geometry/support/vectorStacks.js */ "c2GT");
/* harmony import */ var _support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../../support/elevationInfoUtils.js */ "9AiD");
/* harmony import */ var _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../Manipulator3D.js */ "TnN0");
/* harmony import */ var _manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../manipulatorUtils.js */ "dK/y");
/* harmony import */ var _dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../dragEventPipeline3D.js */ "tKWm");
/* harmony import */ var _manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../manipulations/config.js */ "UcZh");
/* harmony import */ var _support_mathUtils_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../support/mathUtils.js */ "aAs6");
/* harmony import */ var _webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../webgl-engine/lib/GeometryUtil.js */ "yvcr");
/* harmony import */ var _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../webgl-engine/materials/ColorMaterial.js */ "024p");
/* harmony import */ var _interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../interactive/dragEventPipeline.js */ "wg3g");
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
var rt;!function(t){t.ScaleIn=32,t.ScaleOut=64,t.RotateLeft=128,t.RotateRight=256,t.Unlocked=1024,t.DelayedFocused=2048,t.TouchInput=32768}(rt||(rt={}));class st{constructor(e){this.mode=null,this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_1__["default"],this._scaleRotateDragData=null,this._activeAnimation=null,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_0__["default"],this.getFocused=()=>this.ringManipulator.focused,this.getScale=()=>Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._scaleRotateDragData)&&"scale"===this._scaleRotateDragData.mode?this.adapter.scale:1,this.tool=e.tool,this.mode=e.mode,this.adapter=e.adapter,this.createManipulator(),this.updateDragState(),this.updateManipulatorTransform()}get angle(){return this.adapter.angle}get scale(){return this.adapter.scale}set location(t){this.ringManipulator.location=t}set elevationAlignedLocation(t){this.ringManipulator.elevationAlignedLocation=t}get grabbing(){return this.ringManipulator.grabbing}set interactive(t){this.ringManipulator.interactive=t}destroy(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=null),this._handles=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["destroyMaybe"])(this._handles),this.tool.manipulators.remove(this.ringManipulator),this.ringManipulator=null}startAnimation(t){this.cancelActiveAnimation(),t.start();const a=Object(_core_scheduling_js__WEBPACK_IMPORTED_MODULE_4__["addFrameTask"])({update:({deltaTime:a})=>{t.update(a)&&this.cancelActiveAnimation()}});this._activeAnimation={...t,frameTask:a}}cancelActiveAnimation(){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._activeAnimation)&&(this._activeAnimation.frameTask.remove(),this._activeAnimation=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["destroyMaybe"])(this._activeAnimation))}forEachManipulator(t){t(this.ringManipulator,4)}createManipulator(){this.ringManipulator=this.createRingManipulator(),this.tool.manipulators.add(this.ringManipulator);const t=this.ringManipulator,a=this.tool.graphicState.graphic,s=Object(_interactive_dragEventPipeline_js__WEBPACK_IMPORTED_MODULE_22__["createManipulatorDragEventPipeline"])(t,((t,s,o)=>{this._scaleRotateDragData=null,this.adapter.restart();const n={mode:"none",origin:Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["a"])(t.renderLocation),initialAngle:this.adapter.angle,angle:0,angleDir:0,scaleDir:0};this._scaleRotateDragData=n,this.updateDragState();const l=_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get();this.tool.view.renderCoordsHelper.worldUpAtPosition(t.renderLocation,l),s.next(Object(_dragEventPipeline3D_js__WEBPACK_IMPORTED_MODULE_17__["screenToRenderPlane"])(this.tool.view,Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_11__["fromPositionAndNormal"])(t.renderLocation,l,Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_11__["create"])()))).next((t=>{const s=Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_11__["normal"])(t.plane),o=Object(_manipulatorUtils_js__WEBPACK_IMPORTED_MODULE_16__["calculateInputRotationTransform"])(t.renderStart,t.renderEnd,n.origin,s),l=_support_mathUtils_js__WEBPACK_IMPORTED_MODULE_19__["cyclicalPI"].shortestSignedDiff(n.angle,o);n.angleDir=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__["clamp"])(n.angleDir+l,-_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["ROTATE_INDICATOR_DIRECTION_BUFFER"],_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["ROTATE_INDICATOR_DIRECTION_BUFFER"]),n.angle=o;const c=ot(n,t),h=c-this.adapter.scale;if(n.scaleDir=Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__["clamp"])(n.scaleDir+h,-_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["SCALE_INDICATOR_DIRECTION_BUFFER"],_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["SCALE_INDICATOR_DIRECTION_BUFFER"]),this.onScaleChanged(),"none"===n.mode){const e=this.mode||nt(t,t.plane,n.origin,this.tool.view.state.camera);if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(e)){switch(e){case"rotate":this.tool.emit("graphic-rotate-start",{graphic:a,angle:0}),this.tool.emit("record-undo",{record:this.adapter.createUndoRecord()});break;case"scale":this.tool.emit("graphic-scale-start",{graphic:a,xScale:1,yScale:1}),this.tool.emit("record-undo",{record:this.adapter.createUndoRecord()})}n.mode=e}}switch(n.mode){case"rotate":this.adapter.angle=n.initialAngle+o;break;case"scale":this.adapter.scale=c,this.onScaleChanged()}switch(this.updateDragState(),this.updateManipulatorTransform(),t.action){case"start":case"update":switch(n.mode){case"rotate":this.tool.emit("graphic-rotate",{graphic:a,angle:Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__["rad2deg"])(n.angle)});break;case"scale":this.tool.emit("graphic-scale",{graphic:a,xScale:c,yScale:c})}break;case"end":switch(n.mode){case"rotate":this.tool.emit("graphic-rotate-stop",{graphic:a,angle:Object(_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_2__["rad2deg"])(n.angle)});break;case"scale":this.tool.emit("graphic-scale-stop",{graphic:a,xScale:c,yScale:c})}}"end"===t.action&&(this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState())})),o.next((()=>{if(this.adapter.cancel(),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._scaleRotateDragData)){switch(this._scaleRotateDragData.mode){case"none":break;case"rotate":this.tool.emit("graphic-rotate-stop",{graphic:a,angle:0});break;case"scale":this.tool.emit("graphic-scale-stop",{graphic:a,xScale:1,yScale:1})}this.startAnimation(ct(this,(()=>this.onScaleChanged()))),this._scaleRotateDragData=null,this.updateDragState()}}))}));this._handles.add(s),this._handles.add([this.ringManipulator.events.on("focus-changed",(t=>{"focus"===t.action?this.startAnimation(ht(this,(()=>this.updateDelayedFocusedState()))):this.updateDelayedFocusedState()})),this.ringManipulator.events.on("immediate-click",(t=>{t.stopPropagation()})),Object(_core_watchUtils_js__WEBPACK_IMPORTED_MODULE_6__["init"])(this.tool.graphicState,"displaying",(t=>this.ringManipulator.available=t))])}onScaleChanged(){this.events.emit("scale-changed"),this.updateManipulatorTransform()}updateDelayedFocusedState(){this.ringManipulator.updateStateEnabled(rt.DelayedFocused,this.getFocused())}updateDragState(){if(this.ringManipulator.updateStateEnabled(rt.Unlocked,!(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._scaleRotateDragData)&&"none"!==this._scaleRotateDragData.mode)),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__["isSome"])(this._scaleRotateDragData))switch(this._scaleRotateDragData.mode){case"rotate":this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut,!1),this.ringManipulator.updateStateEnabled(rt.RotateLeft,this._scaleRotateDragData.angleDir<0),this.ringManipulator.updateStateEnabled(rt.RotateRight,this._scaleRotateDragData.angleDir>=0);break;case"scale":this.ringManipulator.updateStateEnabled(rt.RotateLeft|rt.RotateRight,!1),this.ringManipulator.updateStateEnabled(rt.ScaleIn,this._scaleRotateDragData.scaleDir<0),this.ringManipulator.updateStateEnabled(rt.ScaleOut,this._scaleRotateDragData.scaleDir>=0)}else this.ringManipulator.updateStateEnabled(rt.ScaleIn|rt.ScaleOut|rt.RotateLeft|rt.RotateRight,!1)}updateManipulatorTransform(){const t=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sm4d"].get()),a=this.adapter.angle;Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__["e"])(t,t,a,Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(0,0,1));const e=this.getScale(),i=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__["w"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sm4d"].get(),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["s"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get(),e,e,e)),r=Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__["i"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sm4d"].get());Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__["m"])(r,i,t),this.ringManipulator.modelTransform=r}createRingManipulator(){const t=(t,a,e)=>{const i=[],r=Math.ceil(_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["GEOMETRY_SEGMENTS"]*(a-t)/(2*Math.PI));for(let s=0;s<r+1;s++){const o=t+s*(a-t)/r;i.push(Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(e*Math.cos(o),e*Math.sin(o),0))}return i},a=a=>t(0,2*Math.PI,a),e=t=>[[-t/2,0],[t/2,0],[t/2,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_HEIGHT"]/2],[-t/2,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_HEIGHT"]/2]],i=(t,a)=>_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_20__["default"].createPathExtrusionGeometry(e(a),t,[],[],!1),r=a(_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_RADIUS"]),s=i(r,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_THICKNESS"]),o={left:[],right:[]},n=[];for(let R=0;R<2;R++){const a=R*Math.PI-Math.PI/4,e=Math.PI/2-_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["ROTATE_INDICATOR_ARC_LENGTH"],r=a+e,s=a+Math.PI/2-e,l=t(r,s,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["INNER_INDICATOR_RADIUS"]),c=i(l,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["INDICATOR_THICKNESS"]);n.push(l),n.push(t(r,s,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["OUTER_INDICATOR_RADIUS"]-_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_THICKNESS"]/2)),o.left.push(c),o.right.push(c);for(let t=0;t<2;t++){const a=0===t,e=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_8__["c"])();if(a){Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__["f"])(e,e,[1,-1,1]),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__["e"])(e,e,-r,[0,0,1]);const t=Math.round(_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE"]*(l.length-1));e[12]=l[t][0],e[13]=l[t][1],e[14]=l[t][2]}else{Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_7__["e"])(e,e,s,[0,0,1]);const t=Math.round((1-_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["ROTATE_INDICATOR_ARROW_PLACEMENT_PERCENTAGE"])*(l.length-1));e[12]=l[t][0],e[13]=l[t][1],e[14]=l[t][2]}const i=_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_20__["default"].createExtrudedTriangle(_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["ROTATE_INDICATOR_ARROW_TIP_LENGTH"],0,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["ROTATE_INDICATOR_ARROW_TIP_RADIUS"],_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_HEIGHT"]);_webgl_engine_lib_GeometryUtil_js__WEBPACK_IMPORTED_MODULE_20__["default"].transformInPlace(i,e),(a?o.left:o.right).push(i)}}const l=[];for(let h=0;h<2;h++){const a=h*Math.PI-Math.PI/4,e=Math.PI/2-_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["SCALE_INDICATOR_ARC_LENGTH"],r=a+e,s=a+Math.PI/2-e,o=t(r,s,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["OUTER_INDICATOR_RADIUS"]);l.push(i(o,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["INDICATOR_THICKNESS"]))}const c=a(_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_RADIUS"]+_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["SCALE_INDICATOR_OFFSET1"]),d=a(_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_RADIUS"]+_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["SCALE_INDICATOR_OFFSET2"]),g=i(c,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["INDICATOR_THICKNESS"]),m=i(d,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["INDICATOR_THICKNESS"]),f=a(_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_RADIUS"]-_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["SCALE_INDICATOR_OFFSET1"]),M=a(_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_RADIUS"]-_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["SCALE_INDICATOR_OFFSET2"]),D=i(f,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["INDICATOR_THICKNESS"]),S=i(M,_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["INDICATOR_THICKNESS"]),y=this.createMaterial(),v=this.createMaterial(.66),b=this.createMaterial(.5),k=this.createMaterial(.33);let _=[{geometry:s,material:y,stateMask:rt.DelayedFocused},{geometry:s,material:b,stateMask:0}];this.mode&&"scale"!==this.mode||(_=_.concat([{geometry:l,material:y,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:g,material:v,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:m,material:k,stateMask:rt.DelayedFocused|rt.ScaleIn},{geometry:D,material:v,stateMask:rt.DelayedFocused|rt.ScaleOut},{geometry:S,material:k,stateMask:rt.DelayedFocused|rt.ScaleOut}])),this.mode&&"rotate"!==this.mode||(_=_.concat([{geometry:o.right,material:y,stateMask:rt.DelayedFocused|rt.Unlocked},{geometry:o.left,material:y,stateMask:rt.DelayedFocused|rt.RotateLeft},{geometry:o.right,material:y,stateMask:rt.DelayedFocused|rt.RotateRight}]));const j=[r,...n];return new _Manipulator3D_js__WEBPACK_IMPORTED_MODULE_15__["Manipulator3D"]({view:this.tool.view,renderObjects:_,autoScaleRenderObjects:!1,worldOriented:!0,radius:_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_THICKNESS"],focusMultiplier:1,touchMultiplier:1.5,elevationInfo:Object(_support_elevationInfoUtils_js__WEBPACK_IMPORTED_MODULE_14__["getGraphicEffectiveElevationInfo"])(this.tool.graphicState.graphic),collisionType:{type:"ribbon",paths:j,direction:Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__["f"])(0,0,1)}})}createMaterial(t=1){const a=[..._manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["HANDLE_COLOR"],t];return new _webgl_engine_materials_ColorMaterial_js__WEBPACK_IMPORTED_MODULE_21__["ColorMaterial"]({color:a,transparent:1!==t,cullFace:2,renderOccluded:2})}get test(){return{ringManipulator:this.ringManipulator}}}function ot(t,a){const e=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get(),a.renderStart,t.origin),i=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get(),a.renderEnd,t.origin),r=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(e),s=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["l"])(i);return 0===r?0:s/r}function nt(t,a,e,i){const{renderStart:r,renderEnd:s}=t,o=lt(r,i,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get()),n=lt(s,i,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get());if(Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["h"])(o,n)<_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["DRAG_THRESHOLD_PX"]*_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["DRAG_THRESHOLD_PX"])return null;const l=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get(),r,e),c=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["c"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get(),l,Object(_geometry_support_plane_js__WEBPACK_IMPORTED_MODULE_11__["normal"])(a)),h=r,d=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["b"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get(),h,c),g=lt(e,i,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get()),p=o,u=lt(d,i,_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get()),m=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get(),u,p),M=Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["f"])(_geometry_support_vectorStacks_js__WEBPACK_IMPORTED_MODULE_13__["sv3d"].get(),o,g),v=Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_12__["wrap"])(p,m),R=Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_12__["wrap"])(g,M);return Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_12__["distance2"])(v,n)<Object(_geometry_support_ray_js__WEBPACK_IMPORTED_MODULE_12__["distance2"])(R,n)?"rotate":"scale"}function lt(t,a,e){return a.projectToScreen(t,dt),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__["s"])(e,dt[0],dt[1],0)}function ct(t,a){let e=null,i=1;const r=()=>i;return{start:()=>{i=t.getScale(),e=t.getScale,t.getScale=r,a()},update:t=>(i+=((i+1)/2-i)*Math.min(t*_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_RESET_ANIMATION_SPEED_FACTOR"],1),a(),Math.abs(i-1)<.01?1:0),destroy:()=>{t.getScale=e,a()}}}function ht(t,a){let e=0,i=null;const r=()=>!1;return{start:()=>{i=t.getFocused,t.getFocused=r,e=0,a()},update:t=>(e+=t,!i()||e>_manipulations_config_js__WEBPACK_IMPORTED_MODULE_18__["RING_INDICATOR_DELAY_MS"]?1:0),destroy:()=>{t.getFocused=i,a()}}}const dt=Object(_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_5__["createScreenPointArray"])();


/***/ }),

/***/ "zieJ":
/*!****************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/support/spatialReferenceSupport.js ***!
  \****************************************************************************/
/*! exports provided: isSpatialReferenceSupported */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSpatialReferenceSupported", function() { return i; });
/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.22/esri/copyright.txt for details.
*/
function i(i,r){return null!=i&&(null==r||(2===r?!i.isGeographic||(i.isWGS84||4490===i.wkid):i.isWebMercator||i.isWGS84||4490===i.wkid||104971===i.wkid||104905===i.wkid||104903===i.wkid))}


/***/ })

}]);
//# sourceMappingURL=views-3d-interactive-editingTools-js.js.map